"use strict";(self.webpackChunkTrello_Clone=self.webpackChunkTrello_Clone||[]).push([[716],{1716:(G,_,s)=>{s.r(_),s.d(_,{AuthorizationModule:()=>V});var u=s(6895),d=s(7799),e=s(4006),f=s(8083),r=s(4650),C=s(5861),p=s(7158),T=s(3164);let y=(()=>{class t{constructor(n,o,i){this.userFirebaseService=n,this.auth=o,this.router=i}signUp(n){var o=this;return(0,C.Z)(function*(){try{const i=yield(0,p.Xb)(o.auth,n.email,n.password),{user:m}=i;yield(0,p.ck)(m,{displayName:n.username}),yield o.userFirebaseService.addUserWithCustomId(m.uid,n),o.router.navigateByUrl("")}catch(i){return console.error(i)}})()}login(n,o){var i=this;return(0,C.Z)(function*(){try{yield(0,p.e5)(i.auth,n,o),i.router.navigateByUrl("")}catch(m){console.error(m),alert(m)}})()}}return t.\u0275fac=function(n){return new(n||t)(r.LFG(T.e),r.LFG(p.gx),r.LFG(d.F0))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var h=s(3546),v=s(3683),l=s(9549),Z=s(9101),x=s(284),w=s(5663);function F(t,a){1&t&&r._UZ(0,"app-load-spinner")}function I(t,a){if(1&t&&(r.TgZ(0,"mat-error"),r._uU(1),r.qZA()),2&t){const n=r.oxw();r.xp6(1),r.Oqu(n.getNameErrorMessage("email"))}}function S(t,a){if(1&t&&(r.TgZ(0,"mat-error"),r._uU(1),r.qZA()),2&t){const n=r.oxw();r.xp6(1),r.Oqu(n.getNameErrorMessage("password"))}}let N=(()=>{class t{constructor(n){this.authenticationService=n,this.isLoading=!1,this.loginForm=new e.cw({email:new e.NI("",[e.kI.required,e.kI.email]),password:new e.NI("",[e.kI.required,f.y,e.kI.maxLength(25)])})}ngOnInit(){}getNameErrorMessage(n){return this.loginForm.hasError("required",n)?"Required field":this.loginForm.hasError("email",n)?"Not a valid email":this.loginForm.hasError("maxlength",n)?"Maximum length is 25 characters":this.loginForm.hasError("pattern",n)?"The password must contain minimum six character, at least on letter and one number":""}loginSubmit(){this.isLoading=!0,this.authenticationService.login(this.loginForm.get("email")?.value,this.loginForm.get("password")?.value).finally(()=>this.isLoading=!1)}}return t.\u0275fac=function(n){return new(n||t)(r.Y36(y))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-login"]],decls:18,vars:5,consts:[[4,"ngIf"],[1,"form-container"],["color","primary",1,"bg-dark"],[3,"formGroup","ngSubmit"],["appearance","fill"],["formControlName","email","matInput","","type","email"],["formControlName","password","matInput","","type","password"],["mat-raised-button","","color","primary","type","submit",3,"disabled"]],template:function(n,o){if(1&n&&(r.YNc(0,F,1,0,"app-load-spinner",0),r.TgZ(1,"div",1)(2,"mat-card")(3,"mat-toolbar",2),r._uU(4,"Login"),r.qZA(),r.TgZ(5,"form",3),r.NdJ("ngSubmit",function(){return o.loginSubmit()}),r.TgZ(6,"mat-form-field",4)(7,"mat-label"),r._uU(8,"Email"),r.qZA(),r._UZ(9,"input",5),r.YNc(10,I,2,1,"mat-error",0),r.qZA(),r.TgZ(11,"mat-form-field",4)(12,"mat-label"),r._uU(13,"Password"),r.qZA(),r._UZ(14,"input",6),r.YNc(15,S,2,1,"mat-error",0),r.qZA(),r.TgZ(16,"button",7),r._uU(17," Login "),r.qZA()()()()),2&n){let i,m;r.Q6J("ngIf",o.isLoading),r.xp6(5),r.Q6J("formGroup",o.loginForm),r.xp6(5),r.Q6J("ngIf",(null==(i=o.loginForm.get("email"))?null:i.invalid)&&(null==(i=o.loginForm.get("email"))?null:i.touched)),r.xp6(5),r.Q6J("ngIf",(null==(m=o.loginForm.get("password"))?null:m.invalid)&&(null==(m=o.loginForm.get("password"))?null:m.touched)),r.xp6(1),r.Q6J("disabled",o.loginForm.invalid)}},dependencies:[u.O5,h.a8,v.Ye,l.TO,l.KE,l.hX,Z.lW,x.Nt,e._Y,e.Fj,e.JJ,e.JL,e.sg,e.u,w.c],styles:[".form-container[_ngcontent-%COMP%]{max-width:600px;max-height:600px;margin:0 auto;padding-top:2rem}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:1.34375em}mat-toolbar[_ngcontent-%COMP%]{border-top-left-radius:4px;border-top-right-radius:4px}button[_ngcontent-%COMP%]{min-width:150px;margin:0 auto}"]}),t})();class A{static MatchValidator(a,n){return o=>{const i=o.get(a),m=o.get(n);return i&&m&&i.value!==m.value?{mismatch:!0}:null}}}var M=s(7247);function b(t,a){1&t&&r._UZ(0,"app-load-spinner")}function E(t,a){1&t&&(r.TgZ(0,"span"),r._uU(1,"Username already exist"),r.qZA())}function U(t,a){if(1&t&&(r.TgZ(0,"mat-error"),r._uU(1),r.YNc(2,E,2,0,"span",0),r.qZA()),2&t){const n=r.oxw();r.xp6(1),r.hij("",n.getNameErrorMessage("username")," "),r.xp6(1),r.Q6J("ngIf",null==n.signupForm.controls.username.errors?null:n.signupForm.controls.username.errors.usernameExist)}}function L(t,a){1&t&&(r.TgZ(0,"span"),r._uU(1,"Email already exist"),r.qZA())}function J(t,a){if(1&t&&(r.TgZ(0,"mat-error"),r._uU(1),r.YNc(2,L,2,0,"span",0),r.qZA()),2&t){const n=r.oxw();r.xp6(1),r.hij("",n.getNameErrorMessage("email")," "),r.xp6(1),r.Q6J("ngIf",null==n.signupForm.controls.email.errors?null:n.signupForm.controls.email.errors.emailExist)}}function q(t,a){if(1&t&&(r.TgZ(0,"mat-error"),r._uU(1),r.qZA()),2&t){const n=r.oxw();r.xp6(1),r.Oqu(n.getNameErrorMessage("password"))}}function O(t,a){if(1&t&&(r.TgZ(0,"mat-error"),r._uU(1),r.qZA()),2&t){const n=r.oxw();r.xp6(1),r.Oqu(n.getNameErrorMessage("confirmPassword"))}}function P(t,a){1&t&&(r.TgZ(0,"span"),r._uU(1,"Password does not match"),r.qZA())}const Y=[{path:"login",component:N},{path:"signup",component:(()=>{class t{constructor(n,o){this.authenticationService=n,this.asyncValidatorService=o,this.isLoading=!1,this.signupForm=new e.cw({username:new e.NI(null,[e.kI.required,e.kI.minLength(3),e.kI.maxLength(12)],[this.asyncValidatorService.usernameExistValidator("signup")]),email:new e.NI(null,[e.kI.required,e.kI.email],[this.asyncValidatorService.emailExistValidator()]),password:new e.NI(null,[e.kI.required,f.y]),confirmPassword:new e.NI(null,[e.kI.required,f.y])},[A.MatchValidator("password","confirmPassword")])}get passwordMatchError(){return this.signupForm.getError("mismatch")&&this.signupForm.get("confirmPassword")?.touched}ngOnInit(){}getNameErrorMessage(n){return this.signupForm.hasError("required",n)?"Required field":this.signupForm.hasError("email",n)?"Not a valid email":this.signupForm.hasError("minlength",n)?"Minimul length is 3 characters":this.signupForm.hasError("maxlength",n)?"Maximum length is 12 characters":this.signupForm.hasError("pattern",n)?"The password must contain minimum 6 character, max 12 character, at least on letter and one number":""}signupSubmit(){this.isLoading=!0,this.authenticationService.signUp(this.signupForm.value).finally(()=>this.isLoading=!1)}}return t.\u0275fac=function(n){return new(n||t)(r.Y36(y),r.Y36(M.n))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-signup"]],decls:30,vars:10,consts:[[4,"ngIf"],[1,"form-container"],["color","primary",1,"bg-dark"],[3,"formGroup","ngSubmit"],["appearance","fill"],["formControlName","username","matInput","","type","text"],["formControlName","email","matInput","","type","email"],["formControlName","password","matInput","","type","password"],["formControlName","confirmPassword","matInput","","type","password"],["mat-raised-button","","color","primary","type","submit",3,"disabled"]],template:function(n,o){if(1&n&&(r.YNc(0,b,1,0,"app-load-spinner",0),r.TgZ(1,"div",1)(2,"mat-card")(3,"mat-toolbar",2),r._uU(4,"Registration"),r.qZA(),r.TgZ(5,"form",3),r.NdJ("ngSubmit",function(){return o.signupSubmit()}),r.TgZ(6,"mat-form-field",4)(7,"mat-label"),r._uU(8,"User name"),r.qZA(),r._UZ(9,"input",5),r.YNc(10,U,3,2,"mat-error",0),r.qZA(),r.TgZ(11,"mat-form-field",4)(12,"mat-label"),r._uU(13,"Email"),r.qZA(),r._UZ(14,"input",6),r.YNc(15,J,3,2,"mat-error",0),r.qZA(),r.TgZ(16,"mat-form-field",4)(17,"mat-label"),r._uU(18,"Password"),r.qZA(),r._UZ(19,"input",7),r.YNc(20,q,2,1,"mat-error",0),r.qZA(),r.TgZ(21,"mat-form-field",4)(22,"mat-label"),r._uU(23,"Confirm password"),r.qZA(),r._UZ(24,"input",8),r.YNc(25,O,2,1,"mat-error",0),r.YNc(26,P,2,0,"span",0),r.qZA(),r.TgZ(27,"button",9),r.ALo(28,"async"),r._uU(29," Sign up "),r.qZA()()()()),2&n){let i,m,g,c;r.Q6J("ngIf",o.isLoading),r.xp6(5),r.Q6J("formGroup",o.signupForm),r.xp6(5),r.Q6J("ngIf",(null==(i=o.signupForm.get("username"))?null:i.invalid)&&(null==(i=o.signupForm.get("username"))?null:i.touched)),r.xp6(5),r.Q6J("ngIf",(null==(m=o.signupForm.get("email"))?null:m.invalid)&&(null==(m=o.signupForm.get("email"))?null:m.touched)),r.xp6(5),r.Q6J("ngIf",(null==(g=o.signupForm.get("password"))?null:g.invalid)&&(null==(g=o.signupForm.get("password"))?null:g.touched)),r.xp6(5),r.Q6J("ngIf",(null==(c=o.signupForm.get("confirmPassword"))?null:c.invalid)&&(null==(c=o.signupForm.get("confirmPassword"))?null:c.touched)),r.xp6(1),r.Q6J("ngIf",o.passwordMatchError),r.xp6(1),r.Q6J("disabled",o.signupForm.invalid||r.lcZ(28,8,o.asyncValidatorService._isCheckDataBase))}},dependencies:[u.O5,h.a8,v.Ye,l.TO,l.KE,l.hX,Z.lW,x.Nt,e._Y,e.Fj,e.JJ,e.JL,e.sg,e.u,w.c,u.Ov],styles:[".form-container[_ngcontent-%COMP%]{max-width:600px;max-height:600px;margin:0 auto;padding-top:2rem}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:1.34375em}form[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#f44336;font-size:75%}mat-toolbar[_ngcontent-%COMP%]{border-top-left-radius:4px;border-top-right-radius:4px}button[_ngcontent-%COMP%]{min-width:150px;margin:0 auto}  .mat-form-field-subscript-wrapper{margin-top:.2666666667em!important}"]}),t})()}];let Q=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[d.Bz.forChild(Y),d.Bz]}),t})();var z=s(4466);let V=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[u.ez,Q,h.QW,v.g0,l.lN,Z.ot,x.c,e.UX,z.m]}),t})()}}]);