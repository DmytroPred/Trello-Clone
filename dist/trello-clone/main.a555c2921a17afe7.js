"use strict";(self.webpackChunkTrello_Clone=self.webpackChunkTrello_Clone||[]).push([[179],{7128:(Pt,Le,k)=>{k.d(Le,{nm:()=>fi});var y=k(5813),ue=(k(4650),k(3692),k(5867),k(5861)),fe=k(9681),we=k(4859),te=k(2090),De=k(1877);const X=new Map,ae={activated:!1,tokenObservers:[]},be={initialized:!1,enabled:!1};function Je(Fe){return X.get(Fe)||ae}function Ke(Fe,Ne){X.set(Fe,Ne)}function Ze(){return be}class Ce{constructor(Ne,Ge,pt,bt,jt){if(this.operation=Ne,this.retryPolicy=Ge,this.getWaitDuration=pt,this.lowerBound=bt,this.upperBound=jt,this.pending=null,this.nextErrorWaitInterval=bt,bt>jt)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Ne){var Ge=this;return(0,ue.Z)(function*(){Ge.stop();try{Ge.pending=new te.BH,yield function Ye(Fe){return new Promise(Ne=>{setTimeout(Ne,Fe)})}(Ge.getNextRun(Ne)),Ge.pending.resolve(),yield Ge.pending.promise,Ge.pending=new te.BH,yield Ge.operation(),Ge.pending.resolve(),yield Ge.pending.promise,Ge.process(!0).catch(()=>{})}catch(pt){Ge.retryPolicy(pt)?Ge.process(!1).catch(()=>{}):Ge.stop()}})()}getNextRun(Ne){if(Ne)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Ge=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Ge}}}const Oe=new te.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function nt(Fe){if(!Je(Fe).activated)throw Oe.create("use-before-activation",{appName:Fe.name})}function Xe(Fe,Ne){return ce.apply(this,arguments)}function ce(){return(ce=(0,ue.Z)(function*({url:Fe,body:Ne},Ge){var pt,bt;const jt={"Content-Type":"application/json"},kn=Ge.getImmediate({optional:!0});if(kn){const Ci=yield kn.getHeartbeatsHeader();Ci&&(jt["X-Firebase-Client"]=Ci)}const zr={method:"POST",body:JSON.stringify(Ne),headers:jt};let ir,Or;try{ir=yield fetch(Fe,zr)}catch(Ci){throw Oe.create("fetch-network-error",{originalErrorMessage:null===(pt=Ci)||void 0===pt?void 0:pt.message})}if(200!==ir.status)throw Oe.create("fetch-status-error",{httpStatus:ir.status});try{Or=yield ir.json()}catch(Ci){throw Oe.create("fetch-parse-error",{originalErrorMessage:null===(bt=Ci)||void 0===bt?void 0:bt.message})}const Js=Or.ttl.match(/^([\d.]+)(s)$/);if(!Js||!Js[2]||isNaN(Number(Js[1])))throw Oe.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Or.ttl}`});const eu=1e3*Number(Js[1]),Xs=Date.now();return{token:Or.token,expireTimeMillis:Xs+eu,issuedAtTimeMillis:Xs}})).apply(this,arguments)}function It(Fe,Ne){const{projectId:Ge,appId:pt,apiKey:bt}=Fe.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${Ge}/apps/${pt}:exchangeDebugToken?key=${bt}`,body:{debug_token:Ne}}}const mt="firebase-app-check-store";let En=null;function bn(){return En||(En=new Promise((Fe,Ne)=>{var Ge;try{const pt=indexedDB.open("firebase-app-check-database",1);pt.onsuccess=bt=>{Fe(bt.target.result)},pt.onerror=bt=>{var jt;Ne(Oe.create("storage-open",{originalErrorMessage:null===(jt=bt.target.error)||void 0===jt?void 0:jt.message}))},pt.onupgradeneeded=bt=>{0===bt.oldVersion&&bt.target.result.createObjectStore(mt,{keyPath:"compositeKey"})}}catch(pt){Ne(Oe.create("storage-open",{originalErrorMessage:null===(Ge=pt)||void 0===Ge?void 0:Ge.message}))}}),En)}function Qn(){return(Qn=(0,ue.Z)(function*(Fe,Ne){const pt=(yield bn()).transaction(mt,"readwrite"),jt=pt.objectStore(mt).put({compositeKey:Fe,value:Ne});return new Promise((kn,zr)=>{jt.onsuccess=ir=>{kn()},pt.onerror=ir=>{var Or;zr(Oe.create("storage-set",{originalErrorMessage:null===(Or=ir.target.error)||void 0===Or?void 0:Or.message}))}})})).apply(this,arguments)}const Jn=new De.Yd("@firebase/app-check");function vn(Fe,Ne){return(0,te.hl)()?function dn(Fe,Ne){return function Mr(Fe,Ne){return Qn.apply(this,arguments)}(function fr(Fe){return`${Fe.options.appId}-${Fe.name}`}(Fe),Ne)}(Fe,Ne).catch(Ge=>{Jn.warn(`Failed to write token to IndexedDB. Error: ${Ge}`)}):Promise.resolve()}function vr(){return Ze().enabled}function er(){return _r.apply(this,arguments)}function _r(){return(_r=(0,ue.Z)(function*(){const Fe=Ze();if(Fe.enabled&&Fe.token)return Fe.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Xn={error:"UNKNOWN_ERROR"};function rr(Fe){return te.US.encodeString(JSON.stringify(Fe),!1)}function Un(Fe){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,ue.Z)(function*(Fe,Ne=!1){const Ge=Fe.app;nt(Ge);const pt=Je(Ge);let jt,bt=pt.token;if(bt&&!tn(bt)&&(Ke(Ge,Object.assign(Object.assign({},pt),{token:void 0})),bt=void 0),!bt){const ir=yield pt.cachedTokenPromise;ir&&(tn(ir)?bt=ir:yield vn(Ge,void 0))}if(!Ne&&bt&&tn(bt))return{token:bt.token};let zr,kn=!1;if(vr()){pt.exchangeTokenPromise||(pt.exchangeTokenPromise=Xe(It(Ge,yield er()),Fe.heartbeatServiceProvider).finally(()=>{pt.exchangeTokenPromise=void 0}),kn=!0);const ir=yield pt.exchangeTokenPromise;return yield vn(Ge,ir),Ke(Ge,Object.assign(Object.assign({},pt),{token:ir})),{token:ir.token}}try{pt.exchangeTokenPromise||(pt.exchangeTokenPromise=pt.provider.getToken().finally(()=>{pt.exchangeTokenPromise=void 0}),kn=!0),bt=yield pt.exchangeTokenPromise}catch(ir){"appCheck/throttled"===ir.code?Jn.warn(ir.message):Jn.error(ir),jt=ir}return bt?jt?zr=tn(bt)?{token:bt.token,internalError:jt}:Pr(jt):(zr={token:bt.token},Ke(Ge,Object.assign(Object.assign({},pt),{token:bt})),yield vn(Ge,bt)):zr=Pr(jt),kn&&Rr(Ge,zr),zr})).apply(this,arguments)}function ln(Fe,Ne){const Ge=Je(Fe),pt=Ge.tokenObservers.filter(bt=>bt.next!==Ne);0===pt.length&&Ge.tokenRefresher&&Ge.tokenRefresher.isRunning()&&Ge.tokenRefresher.stop(),Ke(Fe,Object.assign(Object.assign({},Ge),{tokenObservers:pt}))}function cn(Fe){const{app:Ne}=Fe,Ge=Je(Ne);let pt=Ge.tokenRefresher;pt||(pt=function $n(Fe){const{app:Ne}=Fe;return new Ce((0,ue.Z)(function*(){let pt;if(pt=Je(Ne).token?yield Un(Fe,!0):yield Un(Fe),pt.error)throw pt.error;if(pt.internalError)throw pt.internalError}),()=>!0,()=>{const Ge=Je(Ne);if(Ge.token){let pt=Ge.token.issuedAtTimeMillis+.5*(Ge.token.expireTimeMillis-Ge.token.issuedAtTimeMillis)+3e5;return pt=Math.min(pt,Ge.token.expireTimeMillis-3e5),Math.max(0,pt-Date.now())}return 0},3e4,96e4)}(Fe),Ke(Ne,Object.assign(Object.assign({},Ge),{tokenRefresher:pt}))),!pt.isRunning()&&Ge.isTokenAutoRefreshEnabled&&pt.start()}function Rr(Fe,Ne){const Ge=Je(Fe).tokenObservers;for(const pt of Ge)try{"EXTERNAL"===pt.type&&null!=Ne.error?pt.error(Ne.error):pt.next(Ne)}catch{}}function tn(Fe){return Fe.expireTimeMillis-Date.now()>0}function Pr(Fe){return{token:rr(Xn),error:Fe}}class pn{constructor(Ne,Ge){this.app=Ne,this.heartbeatServiceProvider=Ge}_delete(){const{tokenObservers:Ne}=Je(this.app);for(const Ge of Ne)ln(this.app,Ge.next);return Promise.resolve()}}const Sn="app-check-internal";!function $r(){(0,fe._registerComponent)(new we.wA("app-check",Fe=>function tr(Fe,Ne){return new pn(Fe,Ne)}(Fe.getProvider("app").getImmediate(),Fe.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Fe,Ne,Ge)=>{Fe.getProvider(Sn).initialize()})),(0,fe._registerComponent)(new we.wA(Sn,Fe=>function gn(Fe){return{getToken:Ne=>Un(Fe,Ne),addTokenListener:Ne=>function Yt(Fe,Ne,Ge,pt){const{app:bt}=Fe,jt=Je(bt),kn={next:Ge,error:pt,type:Ne};if(Ke(bt,Object.assign(Object.assign({},jt),{tokenObservers:[...jt.tokenObservers,kn]})),jt.token&&tn(jt.token)){const zr=jt.token;Promise.resolve().then(()=>{Ge({token:zr.token}),cn(Fe)}).catch(()=>{})}jt.cachedTokenPromise.then(()=>cn(Fe))}(Fe,"INTERNAL",Ne),removeTokenListener:Ne=>ln(Fe.app,Ne)}}(Fe.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,fe.registerVersion)("@firebase/app-check","0.5.15")}();class fi{constructor(){return(0,y.vb)("app-check")}}typeof window<"u"&&window},3692:(Pt,Le,k)=>{k.d(Le,{Ot:()=>se,ZF:()=>$e,hX:()=>Je,z6:()=>ue});var y=k(5867),E=k(4650),B=k(5813);class se{constructor(Ce){return Ce}}class ue{constructor(){return(0,y.C6)()}}const te=new E.OlP("angularfire2._apps"),De={provide:se,useFactory:function we(Ue){return Ue&&1===Ue.length?Ue[0]:new se((0,y.Mq)())},deps:[[new E.FiY,te]]},X={provide:ue,deps:[[new E.FiY,te]]};function ae(Ue){return(Ce,Ye)=>{const yt=Ce.runOutsideAngular(()=>Ue(Ye));return new se(yt)}}let be=(()=>{class Ue{constructor(Ye){(0,y.KN)("angularfire",B.q4.full,"core"),(0,y.KN)("angularfire",B.q4.full,"app"),(0,y.KN)("angular",E.q4F.full,Ye.toString())}}return Ue.\u0275fac=function(Ye){return new(Ye||Ue)(E.LFG(E.Lbi))},Ue.\u0275mod=E.oAB({type:Ue}),Ue.\u0275inj=E.cJS({providers:[De,X]}),Ue})();function Je(Ue,...Ce){return{ngModule:be,providers:[{provide:te,useFactory:ae(Ue),multi:!0,deps:[E.R0b,E.zs3,B.HU,...Ce]}]}}const $e=(0,B.u3)(y.ZF,!0)},7158:(Pt,Le,k)=>{k.d(Le,{AR:()=>$e,Xb:()=>He,aF:()=>Mr,ck:()=>Rr,dh:()=>De,e5:()=>er,gQ:()=>cn,gx:()=>te,s:()=>ln,v0:()=>Xe});var y=k(5813),E=k(4650),B=k(3692),se=k(5867),ue=k(7128),fe=k(8937);class te{constructor(gn){return gn}}class De{constructor(){return(0,y.vb)("auth")}}const ae=new E.OlP("angularfire2.auth-instances");function Je(tr){return(gn,or)=>{const nr=gn.runOutsideAngular(()=>tr(or));return new te(nr)}}const Ke={provide:De,deps:[[new E.FiY,ae]]},Ze={provide:te,useFactory:function be(tr,gn){const or=(0,y.JM)("auth",tr,gn);return or&&new te(or)},deps:[[new E.FiY,ae],B.Ot]};let Ct=(()=>{class tr{constructor(){(0,se.KN)("angularfire",y.q4.full,"auth")}}return tr.\u0275fac=function(or){return new(or||tr)},tr.\u0275mod=E.oAB({type:tr}),tr.\u0275inj=E.cJS({providers:[Ze,Ke]}),tr})();function $e(tr,...gn){return{ngModule:Ct,providers:[{provide:ae,useFactory:Je(tr),multi:!0,deps:[E.R0b,E.zs3,y.HU,B.z6,[new E.FiY,ue.nm],...gn]}]}}const He=(0,y.u3)(fe.Xb,!0),Xe=(0,y.u3)(fe.v0,!0),Mr=(0,y.u3)(fe.aF,!0),er=(0,y.u3)(fe.e5,!0),ln=(0,y.u3)(fe.s,!0),cn=(0,y.u3)(fe.gQ,!0),Rr=(0,y.u3)(fe.ck,!0)},3385:(Pt,Le,k)=>{k.d(Le,{zQ:()=>Re,rT:()=>Oe,f7:()=>nt,L6:()=>Ye,_Q:()=>yt,lh:()=>He,Qv:()=>Ce,nw:()=>Ie});var y=k(4650),E=k(7579),B=k(9646),se=k(9751),ue=k(8996),fe=k(6451),we=k(5363),te=k(3900),De=k(4004),X=k(3151),ae=k(590),be=k(576);function Je(ce,at){return(0,be.m)(at)?(0,te.w)(()=>ce,at):(0,te.w)(()=>ce)}var Ke=k(9468),Ze=k(9300),Ct=k(5813),$e=k(2011),it=k(6895),Ae=k(7128);k(127);const Ce=new y.OlP("angularfire2.auth.use-emulator"),Ye=new y.OlP("angularfire2.auth.settings"),yt=new y.OlP("angularfire2.auth.tenant-id"),Oe=new y.OlP("angularfire2.auth.langugage-code"),He=new y.OlP("angularfire2.auth.use-device-language"),nt=new y.OlP("angularfire.auth.persistence"),Ie=(ce,at,Be,It,Wt,Ft,mt,un)=>(0,$e.cc)(`${ce.name}.auth`,"AngularFireAuth",ce.name,()=>{const En=at.runOutsideAngular(()=>ce.auth());if(Be&&En.useEmulator(...Be),It&&(En.tenantId=It),En.languageCode=Wt,Ft&&En.useDeviceLanguage(),mt)for(const[bn,Nt]of Object.entries(mt))En.settings[bn]=Nt;return un&&En.setPersistence(un),En},[Be,It,Wt,Ft,mt,un]);let Re=(()=>{class ce{constructor(Be,It,Wt,Ft,mt,un,En,bn,Nt,dn,en,yr){const Mr=new E.x,Qn=(0,B.of)(void 0).pipe((0,we.Q)(mt.outsideAngular),(0,te.w)(()=>Ft.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,5881)))),(0,De.U)(()=>(0,$e.on)(Be,Ft,It)),(0,De.U)(mn=>Ie(mn,Ft,un,bn,Nt,dn,En,en)),(0,X.d)({bufferSize:1,refCount:!1}));if((0,it.PM)(Wt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,B.of)(null);else{Qn.pipe((0,ae.P)()).subscribe();const xr=Qn.pipe((0,te.w)(Mn=>Mn.getRedirectResult().then(Pn=>Pn,()=>null)),Ct.iC,(0,X.d)({bufferSize:1,refCount:!1})),fr=Qn.pipe((0,te.w)(Mn=>new se.y(Pn=>({unsubscribe:Ft.runOutsideAngular(()=>Mn.onAuthStateChanged(vn=>Pn.next(vn),vn=>Pn.error(vn),()=>Pn.complete()))})))),Jn=Qn.pipe((0,te.w)(Mn=>new se.y(Pn=>({unsubscribe:Ft.runOutsideAngular(()=>Mn.onIdTokenChanged(vn=>Pn.next(vn),vn=>Pn.error(vn),()=>Pn.complete()))}))));this.authState=xr.pipe(Je(fr),(0,Ke.R)(mt.outsideAngular),(0,we.Q)(mt.insideAngular)),this.user=xr.pipe(Je(Jn),(0,Ke.R)(mt.outsideAngular),(0,we.Q)(mt.insideAngular)),this.idToken=this.user.pipe((0,te.w)(Mn=>Mn?(0,ue.D)(Mn.getIdToken()):(0,B.of)(null))),this.idTokenResult=this.user.pipe((0,te.w)(Mn=>Mn?(0,ue.D)(Mn.getIdTokenResult()):(0,B.of)(null))),this.credential=(0,fe.T)(xr,Mr,this.authState.pipe((0,Ze.h)(Mn=>!Mn))).pipe((0,De.U)(Mn=>Mn?.user?Mn:null),(0,Ke.R)(mt.outsideAngular),(0,we.Q)(mt.insideAngular))}return(0,$e.pX)(this,Qn,Ft,{spy:{apply:(mn,xr,fr)=>{(mn.startsWith("signIn")||mn.startsWith("createUser"))&&fr.then(Jn=>Mr.next(Jn))}}})}}return ce.\u0275fac=function(Be){return new(Be||ce)(y.LFG($e.Dh),y.LFG($e.xv,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(Ct.HU),y.LFG(Ce,8),y.LFG(Ye,8),y.LFG(yt,8),y.LFG(Oe,8),y.LFG(He,8),y.LFG(nt,8),y.LFG(Ae.nm,8))},ce.\u0275prov=y.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"any"}),ce})()},6185:(Pt,Le,k)=>{k.d(Le,{ST:()=>or});var y=k(4650),E=k(4986),B=k(9751),se=k(8996),ue=k(9646),fe=k(5813),we=k(8675),te=k(4482),De=k(5403);function X(){return(0,te.e)((We,j)=>{let re,ke=!1;We.subscribe((0,De.x)(j,st=>{const Zt=re;re=st,ke&&j.next([Zt,st]),ke=!0}))})}var ae=k(4004),be=k(2940),Je=k(1884),Ke=k(9300),Ze=k(2011),Ct=k(6895),it=(k(5881),k(3942)),Ae=k(5525),ft=k(2090),Ue=k(4859);function yt(We,j){if(void 0===j)return{merge:!1};if(void 0!==j.mergeFields&&void 0!==j.merge)throw new Ae.WA("invalid-argument",`Invalid options passed to function ${We}(): You cannot specify both "merge" and "mergeFields".`);return j}function Oe(){if(typeof Uint8Array>"u")throw new Ae.WA("unimplemented","Uint8Arrays are not available in this environment.")}function He(){if(!(0,Ae.Me)())throw new Ae.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class nt{constructor(j){this._delegate=j}static fromBase64String(j){return He(),new nt(Ae.Jj.fromBase64String(j))}static fromUint8Array(j){return Oe(),new nt(Ae.Jj.fromUint8Array(j))}toBase64(){return He(),this._delegate.toBase64()}toUint8Array(){return Oe(),this._delegate.toUint8Array()}isEqual(j){return this._delegate.isEqual(j._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Ie(We){return function Re(We,j){if("object"!=typeof We||null===We)return!1;const re=We;for(const ke of j)if(ke in re&&"function"==typeof re[ke])return!0;return!1}(We,["next","error","complete"])}class Xe{enableIndexedDbPersistence(j,re){return(0,Ae.ST)(j._delegate,{forceOwnership:re})}enableMultiTabIndexedDbPersistence(j){return(0,Ae.fH)(j._delegate)}clearIndexedDbPersistence(j){return(0,Ae.Fc)(j._delegate)}}class ce{constructor(j,re,ke){this._delegate=re,this._persistenceProvider=ke,this.INTERNAL={delete:()=>this.terminate()},j instanceof Ae.l7||(this._appCompat=j)}get _databaseId(){return this._delegate._databaseId}settings(j){const re=this._delegate._getSettings();!j.merge&&re.host!==j.host&&(0,Ae.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),j.merge&&delete(j=Object.assign(Object.assign({},re),j)).merge,this._delegate._setSettings(j)}useEmulator(j,re,ke={}){(0,Ae.at)(this._delegate,j,re,ke)}enableNetwork(){return(0,Ae.Ix)(this._delegate)}disableNetwork(){return(0,Ae.TF)(this._delegate)}enablePersistence(j){let re=!1,ke=!1;return j&&(re=!!j.synchronizeTabs,ke=!!j.experimentalForceOwningTab,(0,Ae.Wi)("synchronizeTabs",re,"experimentalForceOwningTab",ke)),re?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,ke)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,Ae.Mx)(this._delegate)}onSnapshotsInSync(j){return(0,Ae.sc)(this._delegate,j)}get app(){if(!this._appCompat)throw new Ae.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(j){try{return new Qn(this,(0,Ae.hJ)(this._delegate,j))}catch(re){throw un(re,"collection()","Firestore.collection()")}}doc(j){try{return new mt(this,(0,Ae.JU)(this._delegate,j))}catch(re){throw un(re,"doc()","Firestore.doc()")}}collectionGroup(j){try{return new en(this,(0,Ae.B$)(this._delegate,j))}catch(re){throw un(re,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(j){return(0,Ae.i3)(this._delegate,re=>j(new It(this,re)))}batch(){return(0,Ae.qY)(this._delegate),new Wt(new Ae.PU(this._delegate,j=>(0,Ae.GL)(this._delegate,j)))}loadBundle(j){return(0,Ae.Pb)(this._delegate,j)}namedQuery(j){return(0,Ae.L$)(this._delegate,j).then(re=>re?new en(this,re):null)}}class at extends Ae.u7{constructor(j){super(),this.firestore=j}convertBytes(j){return new nt(new Ae.Jj(j))}convertReference(j){const re=this.convertDocumentKey(j,this.firestore._databaseId);return mt.forKey(re,this.firestore,null)}}class It{constructor(j,re){this._firestore=j,this._delegate=re,this._userDataWriter=new at(j)}get(j){const re=mn(j);return this._delegate.get(re).then(ke=>new Nt(this._firestore,new Ae.xU(this._firestore._delegate,this._userDataWriter,ke._key,ke._document,ke.metadata,re.converter)))}set(j,re,ke){const st=mn(j);return ke?(yt("Transaction.set",ke),this._delegate.set(st,re,ke)):this._delegate.set(st,re),this}update(j,re,ke,...st){const Zt=mn(j);return 2===arguments.length?this._delegate.update(Zt,re):this._delegate.update(Zt,re,ke,...st),this}delete(j){const re=mn(j);return this._delegate.delete(re),this}}class Wt{constructor(j){this._delegate=j}set(j,re,ke){const st=mn(j);return ke?(yt("WriteBatch.set",ke),this._delegate.set(st,re,ke)):this._delegate.set(st,re),this}update(j,re,ke,...st){const Zt=mn(j);return 2===arguments.length?this._delegate.update(Zt,re):this._delegate.update(Zt,re,ke,...st),this}delete(j){const re=mn(j);return this._delegate.delete(re),this}commit(){return this._delegate.commit()}}class Ft{constructor(j,re,ke){this._firestore=j,this._userDataWriter=re,this._delegate=ke}fromFirestore(j,re){const ke=new Ae.$q(this._firestore._delegate,this._userDataWriter,j._key,j._document,j.metadata,null);return this._delegate.fromFirestore(new dn(this._firestore,ke),re??{})}toFirestore(j,re){return re?this._delegate.toFirestore(j,re):this._delegate.toFirestore(j)}static getInstance(j,re){const ke=Ft.INSTANCES;let st=ke.get(j);st||(st=new WeakMap,ke.set(j,st));let Zt=st.get(re);return Zt||(Zt=new Ft(j,new at(j),re),st.set(re,Zt)),Zt}}Ft.INSTANCES=new WeakMap;class mt{constructor(j,re){this.firestore=j,this._delegate=re,this._userDataWriter=new at(j)}static forPath(j,re,ke){if(j.length%2!=0)throw new Ae.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${j.canonicalString()} has ${j.length}`);return new mt(re,new Ae.my(re._delegate,ke,new Ae.Ky(j)))}static forKey(j,re,ke){return new mt(re,new Ae.my(re._delegate,ke,j))}get id(){return this._delegate.id}get parent(){return new Qn(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(j){try{return new Qn(this.firestore,(0,Ae.hJ)(this._delegate,j))}catch(re){throw un(re,"collection()","DocumentReference.collection()")}}isEqual(j){return(j=(0,ft.m9)(j))instanceof Ae.my&&(0,Ae.Eo)(this._delegate,j)}set(j,re){re=yt("DocumentReference.set",re);try{return re?(0,Ae.pl)(this._delegate,j,re):(0,Ae.pl)(this._delegate,j)}catch(ke){throw un(ke,"setDoc()","DocumentReference.set()")}}update(j,re,...ke){try{return 1===arguments.length?(0,Ae.r7)(this._delegate,j):(0,Ae.r7)(this._delegate,j,re,...ke)}catch(st){throw un(st,"updateDoc()","DocumentReference.update()")}}delete(){return(0,Ae.oe)(this._delegate)}onSnapshot(...j){const re=En(j),ke=bn(j,st=>new Nt(this.firestore,new Ae.xU(this.firestore._delegate,this._userDataWriter,st._key,st._document,st.metadata,this._delegate.converter)));return(0,Ae.cf)(this._delegate,re,ke)}get(j){let re;return re="cache"===j?.source?(0,Ae.kl)(this._delegate):"server"===j?.source?(0,Ae.Xk)(this._delegate):(0,Ae.QT)(this._delegate),re.then(ke=>new Nt(this.firestore,new Ae.xU(this.firestore._delegate,this._userDataWriter,ke._key,ke._document,ke.metadata,this._delegate.converter)))}withConverter(j){return new mt(this.firestore,this._delegate.withConverter(j?Ft.getInstance(this.firestore,j):null))}}function un(We,j,re){return We.message=We.message.replace(j,re),We}function En(We){for(const j of We)if("object"==typeof j&&!Ie(j))return j;return{}}function bn(We,j){var re,ke;let st;return st=Ie(We[0])?We[0]:Ie(We[1])?We[1]:"function"==typeof We[0]?{next:We[0],error:We[1],complete:We[2]}:{next:We[1],error:We[2],complete:We[3]},{next:Zt=>{st.next&&st.next(j(Zt))},error:null===(re=st.error)||void 0===re?void 0:re.bind(st),complete:null===(ke=st.complete)||void 0===ke?void 0:ke.bind(st)}}class Nt{constructor(j,re){this._firestore=j,this._delegate=re}get ref(){return new mt(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(j){return this._delegate.data(j)}get(j,re){return this._delegate.get(j,re)}isEqual(j){return(0,Ae.qK)(this._delegate,j._delegate)}}class dn extends Nt{data(j){const re=this._delegate.data(j);return(0,Ae.K9)(void 0!==re,"Document in a QueryDocumentSnapshot should exist"),re}}class en{constructor(j,re){this.firestore=j,this._delegate=re,this._userDataWriter=new at(j)}where(j,re,ke){try{return new en(this.firestore,(0,Ae.IO)(this._delegate,(0,Ae.ar)(j,re,ke)))}catch(st){throw un(st,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(j,re){try{return new en(this.firestore,(0,Ae.IO)(this._delegate,(0,Ae.Xo)(j,re)))}catch(ke){throw un(ke,/(orderBy|where)\(\)/,"Query.$1()")}}limit(j){try{return new en(this.firestore,(0,Ae.IO)(this._delegate,(0,Ae.b9)(j)))}catch(re){throw un(re,"limit()","Query.limit()")}}limitToLast(j){try{return new en(this.firestore,(0,Ae.IO)(this._delegate,(0,Ae.vh)(j)))}catch(re){throw un(re,"limitToLast()","Query.limitToLast()")}}startAt(...j){try{return new en(this.firestore,(0,Ae.IO)(this._delegate,(0,Ae.e0)(...j)))}catch(re){throw un(re,"startAt()","Query.startAt()")}}startAfter(...j){try{return new en(this.firestore,(0,Ae.IO)(this._delegate,(0,Ae.TQ)(...j)))}catch(re){throw un(re,"startAfter()","Query.startAfter()")}}endBefore(...j){try{return new en(this.firestore,(0,Ae.IO)(this._delegate,(0,Ae.Lx)(...j)))}catch(re){throw un(re,"endBefore()","Query.endBefore()")}}endAt(...j){try{return new en(this.firestore,(0,Ae.IO)(this._delegate,(0,Ae.Wu)(...j)))}catch(re){throw un(re,"endAt()","Query.endAt()")}}isEqual(j){return(0,Ae.iE)(this._delegate,j._delegate)}get(j){let re;return re="cache"===j?.source?(0,Ae.UQ)(this._delegate):"server"===j?.source?(0,Ae.zN)(this._delegate):(0,Ae.PL)(this._delegate),re.then(ke=>new Mr(this.firestore,new Ae.W(this.firestore._delegate,this._userDataWriter,this._delegate,ke._snapshot)))}onSnapshot(...j){const re=En(j),ke=bn(j,st=>new Mr(this.firestore,new Ae.W(this.firestore._delegate,this._userDataWriter,this._delegate,st._snapshot)));return(0,Ae.cf)(this._delegate,re,ke)}withConverter(j){return new en(this.firestore,this._delegate.withConverter(j?Ft.getInstance(this.firestore,j):null))}}class yr{constructor(j,re){this._firestore=j,this._delegate=re}get type(){return this._delegate.type}get doc(){return new dn(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Mr{constructor(j,re){this._firestore=j,this._delegate=re}get query(){return new en(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(j=>new dn(this._firestore,j))}docChanges(j){return this._delegate.docChanges(j).map(re=>new yr(this._firestore,re))}forEach(j,re){this._delegate.forEach(ke=>{j.call(re,new dn(this._firestore,ke))})}isEqual(j){return(0,Ae.qK)(this._delegate,j._delegate)}}class Qn extends en{constructor(j,re){super(j,re),this.firestore=j,this._delegate=re}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const j=this._delegate.parent;return j?new mt(this.firestore,j):null}doc(j){try{return new mt(this.firestore,void 0===j?(0,Ae.JU)(this._delegate):(0,Ae.JU)(this._delegate,j))}catch(re){throw un(re,"doc()","CollectionReference.doc()")}}add(j){return(0,Ae.ET)(this._delegate,j).then(re=>new mt(this.firestore,re))}isEqual(j){return(0,Ae.Eo)(this._delegate,j._delegate)}withConverter(j){return new Qn(this.firestore,this._delegate.withConverter(j?Ft.getInstance(this.firestore,j):null))}}function mn(We){return(0,Ae.Cf)(We,Ae.my)}class xr{constructor(...j){this._delegate=new Ae.Lz(...j)}static documentId(){return new xr(Ae.Xb.keyField().canonicalString())}isEqual(j){return(j=(0,ft.m9)(j))instanceof Ae.Lz&&this._delegate._internalPath.isEqual(j._internalPath)}}class fr{constructor(j){this._delegate=j}static serverTimestamp(){const j=(0,Ae.Bt)();return j._methodName="FieldValue.serverTimestamp",new fr(j)}static delete(){const j=(0,Ae.AK)();return j._methodName="FieldValue.delete",new fr(j)}static arrayUnion(...j){const re=(0,Ae.vr)(...j);return re._methodName="FieldValue.arrayUnion",new fr(re)}static arrayRemove(...j){const re=(0,Ae.Ab)(...j);return re._methodName="FieldValue.arrayRemove",new fr(re)}static increment(j){const re=(0,Ae.nP)(j);return re._methodName="FieldValue.increment",new fr(re)}isEqual(j){return this._delegate.isEqual(j._delegate)}}const Jn={Firestore:ce,GeoPoint:Ae.F8,Timestamp:Ae.EK,Blob:nt,Transaction:It,WriteBatch:Wt,DocumentReference:mt,DocumentSnapshot:Nt,Query:en,QueryDocumentSnapshot:dn,QuerySnapshot:Mr,CollectionReference:Qn,FieldPath:xr,FieldValue:fr,setLogLevel:function Be(We){(0,Ae.Ub)(We)},CACHE_SIZE_UNLIMITED:Ae.IX};!function Pn(We){(function Mn(We,j){We.INTERNAL.registerComponent(new Ue.wA("firestore-compat",re=>{const ke=re.getProvider("app-compat").getImmediate(),st=re.getProvider("firestore").getImmediate();return j(ke,st)},"PUBLIC").setServiceProps(Object.assign({},Jn)))})(We,(j,re)=>new ce(j,re,new Xe)),We.registerVersion("@firebase/firestore-compat","0.2.1")}(it.Z);var vn=k(3385),Ut=k(7128);function er(We,j){return function vr(We,j=E.z){return new B.y(re=>{let ke;return null!=j?j.schedule(()=>{ke=We.onSnapshot({includeMetadataChanges:!0},re)}):ke=We.onSnapshot({includeMetadataChanges:!0},re),()=>{ke?.()}})}(We,j)}function yi(We,j){return er(We,j).pipe((0,ae.U)(re=>({payload:re,type:"query"})))}function Xn(We,j){return yi(We,j).pipe((0,we.O)(void 0),X(),(0,ae.U)(([re,ke])=>{const st=ke.payload.docChanges(),Zt=st.map(_e=>({type:_e.type,payload:_e}));return re&&JSON.stringify(re.payload.metadata)!==JSON.stringify(ke.payload.metadata)&&ke.payload.docs.forEach((_e,ye)=>{const xe=st.find(K=>K.doc.ref.isEqual(_e.ref)),ge=re?.payload.docs.find(K=>K.ref.isEqual(_e.ref));xe&&JSON.stringify(xe.doc.metadata)===JSON.stringify(_e.metadata)||!xe&&ge&&JSON.stringify(ge.metadata)===JSON.stringify(_e.metadata)||Zt.push({type:"modified",payload:{oldIndex:ye,newIndex:ye,type:"modified",doc:_e}})}),Zt}))}function rr(We,j,re){return Xn(We,re).pipe((0,be.R)((ke,st)=>function Un(We,j,re){return j.forEach(ke=>{re.indexOf(ke.type)>-1&&(We=function Yt(We,j){switch(j.type){case"added":if(!We[j.newIndex]||!We[j.newIndex].doc.ref.isEqual(j.doc.ref))return Gt(We,j.newIndex,0,j);break;case"modified":if(null==We[j.oldIndex]||We[j.oldIndex].doc.ref.isEqual(j.doc.ref)){if(j.oldIndex!==j.newIndex){const re=We.slice();return re.splice(j.oldIndex,1),re.splice(j.newIndex,0,j),re}return Gt(We,j.newIndex,1,j)}break;case"removed":if(We[j.oldIndex]&&We[j.oldIndex].doc.ref.isEqual(j.doc.ref))return Gt(We,j.oldIndex,1)}return We}(We,ke))}),We}(ke,st.map(Zt=>Zt.payload),j),[]),(0,Je.x)(),(0,ae.U)(ke=>ke.map(st=>({type:st.type,payload:st}))))}function Gt(We,j,re,...ke){const st=We.slice();return st.splice(j,re,...ke),st}function ln(We){return(!We||0===We.length)&&(We=["added","removed","modified"]),We}k(127);class cn{constructor(j,re,ke){this.ref=j,this.query=re,this.afs=ke}stateChanges(j){let re=Xn(this.query,this.afs.schedulers.outsideAngular);return j&&j.length>0&&(re=re.pipe((0,ae.U)(ke=>ke.filter(st=>j.indexOf(st.type)>-1)))),re.pipe((0,we.O)(void 0),X(),(0,Ke.h)(([ke,st])=>st.length>0||!ke),(0,ae.U)(([ke,st])=>st),fe.iC)}auditTrail(j){return this.stateChanges(j).pipe((0,be.R)((re,ke)=>[...re,...ke],[]))}snapshotChanges(j){const re=ln(j);return rr(this.query,re,this.afs.schedulers.outsideAngular).pipe(fe.iC)}valueChanges(j={}){return yi(this.query,this.afs.schedulers.outsideAngular).pipe((0,ae.U)(re=>re.payload.docs.map(ke=>j.idField?Object.assign(Object.assign({},ke.data()),{[j.idField]:ke.id}):ke.data())),fe.iC)}get(j){return(0,se.D)(this.query.get(j)).pipe(fe.iC)}add(j){return this.ref.add(j)}doc(j){return new $n(this.ref.doc(j),this.afs)}}class $n{constructor(j,re){this.ref=j,this.afs=re}set(j,re){return this.ref.set(j,re)}update(j){return this.ref.update(j)}delete(){return this.ref.delete()}collection(j,re){const ke=this.ref.collection(j),{ref:st,query:Zt}=gn(ke,re);return new cn(st,Zt,this.afs)}snapshotChanges(){return function _r(We,j){return er(We,j).pipe((0,we.O)(void 0),X(),(0,ae.U)(([re,ke])=>ke.exists?re?.exists?{payload:ke,type:"modified"}:{payload:ke,type:"added"}:{payload:ke,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(fe.iC)}valueChanges(j={}){return this.snapshotChanges().pipe((0,ae.U)(({payload:re})=>j.idField?Object.assign(Object.assign({},re.data()),{[j.idField]:re.id}):re.data()))}get(j){return(0,se.D)(this.ref.get(j)).pipe(fe.iC)}}class Rr{constructor(j,re){this.query=j,this.afs=re}stateChanges(j){return j&&0!==j.length?Xn(this.query,this.afs.schedulers.outsideAngular).pipe((0,ae.U)(re=>re.filter(ke=>j.indexOf(ke.type)>-1)),(0,Ke.h)(re=>re.length>0),fe.iC):Xn(this.query,this.afs.schedulers.outsideAngular).pipe(fe.iC)}auditTrail(j){return this.stateChanges(j).pipe((0,be.R)((re,ke)=>[...re,...ke],[]))}snapshotChanges(j){const re=ln(j);return rr(this.query,re,this.afs.schedulers.outsideAngular).pipe(fe.iC)}valueChanges(j={}){return yi(this.query,this.afs.schedulers.outsideAngular).pipe((0,ae.U)(ke=>ke.payload.docs.map(st=>j.idField?Object.assign({[j.idField]:st.id},st.data()):st.data())),fe.iC)}get(j){return(0,se.D)(this.query.get(j)).pipe(fe.iC)}}const tn=new y.OlP("angularfire2.enableFirestorePersistence"),Pr=new y.OlP("angularfire2.firestore.persistenceSettings"),pn=new y.OlP("angularfire2.firestore.settings"),tr=new y.OlP("angularfire2.firestore.use-emulator");function gn(We,j=(re=>re)){return{query:j(We),ref:We}}let or=(()=>{class We{constructor(re,ke,st,Zt,_e,ye,xe,ge,K,le,ze,_t,zt,Kt,de,oe,ie){this.schedulers=xe;const Me=(0,Ze.on)(re,ye,ke),Qe=K;le&&(0,vn.nw)(Me,ye,ze,zt,Kt,de,_t,oe),[this.firestore,this.persistenceEnabled$]=(0,Ze.cc)(`${Me.name}.firestore`,"AngularFirestore",Me.name,()=>{const Bt=ye.runOutsideAngular(()=>Me.firestore());if(Zt&&Bt.settings(Zt),Qe&&Bt.useEmulator(...Qe),st&&!(0,Ct.PM)(_e)){const Cn=()=>{try{return(0,se.D)(Bt.enablePersistence(ge||void 0).then(()=>!0,()=>!1))}catch(Sn){return typeof console<"u"&&console.warn(Sn),(0,ue.of)(!1)}};return[Bt,ye.runOutsideAngular(Cn)]}return[Bt,(0,ue.of)(!1)]},[Zt,Qe,st])}collection(re,ke){let st;st="string"==typeof re?this.firestore.collection(re):re;const{ref:Zt,query:_e}=gn(st,ke),ye=this.schedulers.ngZone.run(()=>Zt);return new cn(ye,_e,this)}collectionGroup(re,ke){const st=ke||(_e=>_e),Zt=this.firestore.collectionGroup(re);return new Rr(st(Zt),this)}doc(re){let ke;ke="string"==typeof re?this.firestore.doc(re):re;const st=this.schedulers.ngZone.run(()=>ke);return new $n(st,this)}createId(){return this.firestore.collection("_").doc().id}}return We.\u0275fac=function(re){return new(re||We)(y.LFG(Ze.Dh),y.LFG(Ze.xv,8),y.LFG(tn,8),y.LFG(pn,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(fe.HU),y.LFG(Pr,8),y.LFG(tr,8),y.LFG(vn.zQ,8),y.LFG(vn.Qv,8),y.LFG(vn.L6,8),y.LFG(vn._Q,8),y.LFG(vn.rT,8),y.LFG(vn.lh,8),y.LFG(vn.f7,8),y.LFG(Ut.nm,8))},We.\u0275prov=y.Yz7({token:We,factory:We.\u0275fac,providedIn:"any"}),We})()},2011:(Pt,Le,k)=>{k.d(Le,{Dh:()=>we,GT:()=>ue,cc:()=>Je,on:()=>De,pX:()=>se,xv:()=>te});var y=k(4650),E=k(127);Pt=k.hmd(Pt);const B=["ngOnDestroy"],se=($e,it,Ae,ft={})=>new Proxy($e,{get:(Ue,Ce)=>Ae.runOutsideAngular(()=>{var Ye;if($e[Ce])return!(null===(Ye=ft?.spy)||void 0===Ye)&&Ye.get&&ft.spy.get(Ce,$e[Ce]),$e[Ce];if(B.indexOf(Ce)>-1)return()=>{};const yt=it.toPromise().then(Oe=>{const He=Oe&&Oe[Ce];return"function"==typeof He?He.bind(Oe):He&&He.then?He.then(nt=>Ae.run(()=>nt)):Ae.run(()=>He)});return new Proxy(()=>{},{get:(Oe,He)=>yt[He],apply:(Oe,He,nt)=>yt.then(Ie=>{var Re;const Xe=Ie&&Ie(...nt);return!(null===(Re=ft?.spy)||void 0===Re)&&Re.apply&&ft.spy.apply(Ce,nt,Xe),Xe})})})}),ue=($e,it)=>{it.forEach(Ae=>{Object.getOwnPropertyNames(Ae.prototype||Ae).forEach(ft=>{Object.defineProperty($e.prototype,ft,Object.getOwnPropertyDescriptor(Ae.prototype||Ae,ft))})})};class fe{constructor(it){return it}}const we=new y.OlP("angularfire2.app.options"),te=new y.OlP("angularfire2.app.name");function De($e,it,Ae){const Ue="object"==typeof Ae&&Ae||{};Ue.name=Ue.name||"string"==typeof Ae&&Ae||"[DEFAULT]";const Ye=E.Z.apps.filter(yt=>yt&&yt.name===Ue.name)[0]||it.runOutsideAngular(()=>E.Z.initializeApp($e,Ue));try{JSON.stringify($e)!==JSON.stringify(Ye.options)&&X("error",`${Ye.name} Firebase App already initialized with different options${Pt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new fe(Ye)}const X=($e,...it)=>{(0,y.X6Q)()&&typeof console<"u"&&console[$e](...it)};function Je($e,it,Ae,ft,Ue){const[,Ce,Ye]=globalThis.\u0275AngularfireInstanceCache.find(yt=>yt[0]===$e)||[];if(Ce)return function Ke($e,it){try{return $e.toString()===it.toString()}catch{return $e===it}}(Ue,Ye)||(Ct("error",`${it} was already initialized on the ${Ae} Firebase App with different settings.${Ze?" You may need to reload as Firebase is not HMR aware.":""}`),Ct("warn",{is:Ue,was:Ye})),Ce;{const yt=ft();return globalThis.\u0275AngularfireInstanceCache.push([$e,yt,Ue]),yt}}const Ze=!!Pt.hot,Ct=($e,...it)=>{(0,y.X6Q)()&&typeof console<"u"&&console[$e](...it)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(Pt,Le,k)=>{k.d(Le,{q4:()=>dt,iC:()=>Vi,HU:()=>ko,vb:()=>ra,JM:()=>va,u3:()=>Uu});var y=k(4650),E=k(5867),B=k(5861),se=k(9681),ue=k(2090),fe=k(4859),we=k(1877),te=k(8766);const De="@firebase/installations",X="0.5.15",be=`w:${X}`,Je="FIS_v2",Ae=new ue.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ft(O){return O instanceof ue.ZR&&O.code.includes("request-failed")}function Ue({projectId:O}){return`https://firebaseinstallations.googleapis.com/v1/projects/${O}/installations`}function Ce(O){return{token:O.token,requestStatus:2,expiresIn:Re(O.expiresIn),creationTime:Date.now()}}function Ye(O,F){return yt.apply(this,arguments)}function yt(){return(yt=(0,B.Z)(function*(O,F){const me=(yield F.json()).error;return Ae.create("request-failed",{requestName:O,serverCode:me.code,serverMessage:me.message,serverStatus:me.status})})).apply(this,arguments)}function Oe({apiKey:O}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":O})}function He(O,{refreshToken:F}){const G=Oe(O);return G.append("Authorization",function Xe(O){return`${Je} ${O}`}(F)),G}function nt(O){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,B.Z)(function*(O){const F=yield O();return F.status>=500&&F.status<600?O():F})).apply(this,arguments)}function Re(O){return Number(O.replace("s","000"))}function ce(O,F){return at.apply(this,arguments)}function at(){return(at=(0,B.Z)(function*({appConfig:O,heartbeatServiceProvider:F},{fid:G}){const me=Ue(O),Ve=Oe(O),ut=F.getImmediate({optional:!0});if(ut){const Ln=yield ut.getHeartbeatsHeader();Ln&&Ve.append("x-firebase-client",Ln)}const Ht={method:"POST",headers:Ve,body:JSON.stringify({fid:G,authVersion:Je,appId:O.appId,sdkVersion:be})},Qt=yield nt(()=>fetch(me,Ht));if(Qt.ok){const Ln=yield Qt.json();return{fid:Ln.fid||G,registrationStatus:2,refreshToken:Ln.refreshToken,authToken:Ce(Ln.authToken)}}throw yield Ye("Create Installation",Qt)})).apply(this,arguments)}function Be(O){return new Promise(F=>{setTimeout(F,O)})}const Wt=/^[cdef][\w-]{21}$/;function mt(){try{const O=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(O),O[0]=112+O[0]%16;const G=function un(O){return function It(O){return btoa(String.fromCharCode(...O)).replace(/\+/g,"-").replace(/\//g,"_")}(O).substr(0,22)}(O);return Wt.test(G)?G:""}catch{return""}}function En(O){return`${O.appName}!${O.appId}`}const bn=new Map;function Nt(O,F){const G=En(O);yr(G,F),function Mr(O,F){const G=function mn(){return!Qn&&"BroadcastChannel"in self&&(Qn=new BroadcastChannel("[Firebase] FID Change"),Qn.onmessage=O=>{yr(O.data.key,O.data.fid)}),Qn}();G&&G.postMessage({key:O,fid:F}),function xr(){0===bn.size&&Qn&&(Qn.close(),Qn=null)}()}(G,F)}function yr(O,F){const G=bn.get(O);if(G)for(const me of G)me(F)}let Qn=null;const Mn="firebase-installations-store";let Pn=null;function vn(){return Pn||(Pn=(0,te.X3)("firebase-installations-database",1,{upgrade:(O,F)=>{0===F&&O.createObjectStore(Mn)}})),Pn}function Ut(O,F){return ur.apply(this,arguments)}function ur(){return(ur=(0,B.Z)(function*(O,F){const G=En(O),Ve=(yield vn()).transaction(Mn,"readwrite"),ut=Ve.objectStore(Mn),St=yield ut.get(G);return yield ut.put(F,G),yield Ve.done,(!St||St.fid!==F.fid)&&Nt(O,F.fid),F})).apply(this,arguments)}function vr(O){return er.apply(this,arguments)}function er(){return(er=(0,B.Z)(function*(O){const F=En(O),me=(yield vn()).transaction(Mn,"readwrite");yield me.objectStore(Mn).delete(F),yield me.done})).apply(this,arguments)}function _r(O,F){return yi.apply(this,arguments)}function yi(){return(yi=(0,B.Z)(function*(O,F){const G=En(O),Ve=(yield vn()).transaction(Mn,"readwrite"),ut=Ve.objectStore(Mn),St=yield ut.get(G),Ht=F(St);return void 0===Ht?yield ut.delete(G):yield ut.put(Ht,G),yield Ve.done,Ht&&(!St||St.fid!==Ht.fid)&&Nt(O,Ht.fid),Ht})).apply(this,arguments)}function Xn(O){return rr.apply(this,arguments)}function rr(){return(rr=(0,B.Z)(function*(O){let F;const G=yield _r(O.appConfig,me=>{const Ve=Un(me),ut=Gt(O,Ve);return F=ut.registrationPromise,ut.installationEntry});return""===G.fid?{installationEntry:yield F}:{installationEntry:G,registrationPromise:F}})).apply(this,arguments)}function Un(O){return tn(O||{fid:mt(),registrationStatus:0})}function Gt(O,F){if(0===F.registrationStatus){if(!navigator.onLine)return{installationEntry:F,registrationPromise:Promise.reject(Ae.create("app-offline"))};const G={fid:F.fid,registrationStatus:1,registrationTime:Date.now()},me=function Yt(O,F){return ln.apply(this,arguments)}(O,G);return{installationEntry:G,registrationPromise:me}}return 1===F.registrationStatus?{installationEntry:F,registrationPromise:cn(O)}:{installationEntry:F}}function ln(){return(ln=(0,B.Z)(function*(O,F){try{const G=yield ce(O,F);return Ut(O.appConfig,G)}catch(G){throw ft(G)&&409===G.customData.serverCode?yield vr(O.appConfig):yield Ut(O.appConfig,{fid:F.fid,registrationStatus:0}),G}})).apply(this,arguments)}function cn(O){return $n.apply(this,arguments)}function $n(){return($n=(0,B.Z)(function*(O){let F=yield Rr(O.appConfig);for(;1===F.registrationStatus;)yield Be(100),F=yield Rr(O.appConfig);if(0===F.registrationStatus){const{installationEntry:G,registrationPromise:me}=yield Xn(O);return me||G}return F})).apply(this,arguments)}function Rr(O){return _r(O,F=>{if(!F)throw Ae.create("installation-not-found");return tn(F)})}function tn(O){return function Pr(O){return 1===O.registrationStatus&&O.registrationTime+1e4<Date.now()}(O)?{fid:O.fid,registrationStatus:0}:O}function pn(O,F){return tr.apply(this,arguments)}function tr(){return(tr=(0,B.Z)(function*({appConfig:O,heartbeatServiceProvider:F},G){const me=gn(O,G),Ve=He(O,G),ut=F.getImmediate({optional:!0});if(ut){const Ln=yield ut.getHeartbeatsHeader();Ln&&Ve.append("x-firebase-client",Ln)}const Ht={method:"POST",headers:Ve,body:JSON.stringify({installation:{sdkVersion:be,appId:O.appId}})},Qt=yield nt(()=>fetch(me,Ht));if(Qt.ok)return Ce(yield Qt.json());throw yield Ye("Generate Auth Token",Qt)})).apply(this,arguments)}function gn(O,{fid:F}){return`${Ue(O)}/${F}/authTokens:generate`}function or(O){return nr.apply(this,arguments)}function nr(){return(nr=(0,B.Z)(function*(O,F=!1){let G;const me=yield _r(O.appConfig,ut=>{if(!Zt(ut))throw Ae.create("not-registered");const St=ut.authToken;if(!F&&_e(St))return ut;if(1===St.requestStatus)return G=We(O,F),ut;{if(!navigator.onLine)throw Ae.create("app-offline");const Ht=xe(ut);return G=ke(O,Ht),Ht}});return G?yield G:me.authToken})).apply(this,arguments)}function We(O,F){return j.apply(this,arguments)}function j(){return(j=(0,B.Z)(function*(O,F){let G=yield re(O.appConfig);for(;1===G.authToken.requestStatus;)yield Be(100),G=yield re(O.appConfig);const me=G.authToken;return 0===me.requestStatus?or(O,F):me})).apply(this,arguments)}function re(O){return _r(O,F=>{if(!Zt(F))throw Ae.create("not-registered");return function ge(O){return 1===O.requestStatus&&O.requestTime+1e4<Date.now()}(F.authToken)?Object.assign(Object.assign({},F),{authToken:{requestStatus:0}}):F})}function ke(O,F){return st.apply(this,arguments)}function st(){return(st=(0,B.Z)(function*(O,F){try{const G=yield pn(O,F),me=Object.assign(Object.assign({},F),{authToken:G});return yield Ut(O.appConfig,me),G}catch(G){if(!ft(G)||401!==G.customData.serverCode&&404!==G.customData.serverCode){const me=Object.assign(Object.assign({},F),{authToken:{requestStatus:0}});yield Ut(O.appConfig,me)}else yield vr(O.appConfig);throw G}})).apply(this,arguments)}function Zt(O){return void 0!==O&&2===O.registrationStatus}function _e(O){return 2===O.requestStatus&&!function ye(O){const F=Date.now();return F<O.creationTime||O.creationTime+O.expiresIn<F+36e5}(O)}function xe(O){const F={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},O),{authToken:F})}function le(){return(le=(0,B.Z)(function*(O){const F=O,{installationEntry:G,registrationPromise:me}=yield Xn(F);return me?me.catch(console.error):or(F).catch(console.error),G.fid})).apply(this,arguments)}function _t(){return(_t=(0,B.Z)(function*(O,F=!1){const G=O;return yield zt(G),(yield or(G,F)).token})).apply(this,arguments)}function zt(O){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,B.Z)(function*(O){const{registrationPromise:F}=yield Xn(O);F&&(yield F)})).apply(this,arguments)}function $r(O){return Ae.create("missing-app-config-values",{valueName:O})}const vi="installations",fi=O=>{const F=O.getProvider("app").getImmediate(),G=function Sn(O){if(!O||!O.options)throw $r("App Configuration");if(!O.name)throw $r("App Name");const F=["projectId","apiKey","appId"];for(const G of F)if(!O.options[G])throw $r(G);return{appName:O.name,projectId:O.options.projectId,apiKey:O.options.apiKey,appId:O.options.appId}}(F);return{app:F,appConfig:G,heartbeatServiceProvider:(0,se._getProvider)(F,"heartbeat"),_delete:()=>Promise.resolve()}},fs=O=>{const F=O.getProvider("app").getImmediate(),G=(0,se._getProvider)(F,vi).getImmediate();return{getId:()=>function K(O){return le.apply(this,arguments)}(G),getToken:Ve=>function ze(O){return _t.apply(this,arguments)}(G,Ve)}};(function Qi(){(0,se._registerComponent)(new fe.wA(vi,fi,"PUBLIC")),(0,se._registerComponent)(new fe.wA("installations-internal",fs,"PRIVATE"))})(),(0,se.registerVersion)(De,X),(0,se.registerVersion)(De,X,"esm2017");const pi="@firebase/remote-config",Cr=new ue.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Xs{constructor(F,G,me,Ve){this.client=F,this.storage=G,this.storageCache=me,this.logger=Ve}isCachedDataFresh(F,G){if(!G)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const me=Date.now()-G,Ve=me<=F;return this.logger.debug(`Config fetch cache check. Cache age millis: ${me}. Cache max age millis (minimumFetchIntervalMillis setting): ${F}. Is cache hit: ${Ve}.`),Ve}fetch(F){var G=this;return(0,B.Z)(function*(){const[me,Ve]=yield Promise.all([G.storage.getLastSuccessfulFetchTimestampMillis(),G.storage.getLastSuccessfulFetchResponse()]);if(Ve&&G.isCachedDataFresh(F.cacheMaxAgeMillis,me))return Ve;F.eTag=Ve&&Ve.eTag;const ut=yield G.client.fetch(F),St=[G.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ut.status&&St.push(G.storage.setLastSuccessfulFetchResponse(ut)),yield Promise.all(St),ut})()}}function Ci(O=navigator){return O.languages&&O.languages[0]||O.language}class eo{constructor(F,G,me,Ve,ut,St){this.firebaseInstallations=F,this.sdkVersion=G,this.namespace=me,this.projectId=Ve,this.apiKey=ut,this.appId=St}fetch(F){var G=this;return(0,B.Z)(function*(){var me,Ve,ut;const[St,Ht]=yield Promise.all([G.firebaseInstallations.getId(),G.firebaseInstallations.getToken()]),Ln=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${G.projectId}/namespaces/${G.namespace}:fetch?key=${G.apiKey}`,Zn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":F.eTag||"*"},In={sdk_version:G.sdkVersion,app_instance_id:St,app_instance_id_token:Ht,app_id:G.appId,language_code:Ci()},di={method:"POST",headers:Zn,body:JSON.stringify(In)},ws=fetch(Ln,di),Qa=new Promise((yo,Wo)=>{F.signal.addEventListener(()=>{const sa=new Error("The operation was aborted.");sa.name="AbortError",Wo(sa)})});let iu;try{yield Promise.race([ws,Qa]),iu=yield ws}catch(yo){let Wo="fetch-client-network";throw"AbortError"===(null===(me=yo)||void 0===me?void 0:me.name)&&(Wo="fetch-timeout"),Cr.create(Wo,{originalErrorMessage:null===(Ve=yo)||void 0===Ve?void 0:Ve.message})}let mo=iu.status;const Ms=iu.headers.get("ETag")||void 0;let Ea,su;if(200===iu.status){let yo;try{yo=yield iu.json()}catch(Wo){throw Cr.create("fetch-client-parse",{originalErrorMessage:null===(ut=Wo)||void 0===ut?void 0:ut.message})}Ea=yo.entries,su=yo.state}if("INSTANCE_STATE_UNSPECIFIED"===su?mo=500:"NO_CHANGE"===su?mo=304:("NO_TEMPLATE"===su||"EMPTY_CONFIG"===su)&&(Ea={}),304!==mo&&200!==mo)throw Cr.create("fetch-status",{httpStatus:mo});return{status:mo,eTag:Ms,config:Ea}})()}}class Ps{constructor(F,G){this.client=F,this.storage=G}fetch(F){var G=this;return(0,B.Z)(function*(){const me=(yield G.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return G.attemptFetch(F,me)})()}attemptFetch(F,{throttleEndTimeMillis:G,backoffCount:me}){var Ve=this;return(0,B.Z)(function*(){yield function Ji(O,F){return new Promise((G,me)=>{const Ve=Math.max(F-Date.now(),0),ut=setTimeout(G,Ve);O.addEventListener(()=>{clearTimeout(ut),me(Cr.create("fetch-throttle",{throttleEndTimeMillis:F}))})})}(F.signal,G);try{const ut=yield Ve.client.fetch(F);return yield Ve.storage.deleteThrottleMetadata(),ut}catch(ut){if(!function tu(O){if(!(O instanceof ue.ZR&&O.customData))return!1;const F=Number(O.customData.httpStatus);return 429===F||500===F||503===F||504===F}(ut))throw ut;const St={throttleEndTimeMillis:Date.now()+(0,ue.$s)(me),backoffCount:me+1};return yield Ve.storage.setThrottleMetadata(St),Ve.attemptFetch(F,St)}})()}}class Ca{constructor(F,G,me,Ve,ut){this.app=F,this._client=G,this._storageCache=me,this._storage=Ve,this._logger=ut,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ai(O,F){var G;const me=O.target.error||void 0;return Cr.create(F,{originalErrorMessage:me&&(null===(G=me)||void 0===G?void 0:G.message)})}const Ni="app_namespace_store";class no{constructor(F,G,me,Ve=function Nu(){return new Promise((O,F)=>{var G;try{const me=indexedDB.open("firebase_remote_config",1);me.onerror=Ve=>{F(Ai(Ve,"storage-open"))},me.onsuccess=Ve=>{O(Ve.target.result)},me.onupgradeneeded=Ve=>{0===Ve.oldVersion&&Ve.target.result.createObjectStore(Ni,{keyPath:"compositeKey"})}}catch(me){F(Cr.create("storage-open",{originalErrorMessage:null===(G=me)||void 0===G?void 0:G.message}))}})}()){this.appId=F,this.appName=G,this.namespace=me,this.openDbPromise=Ve}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(F){return this.set("last_fetch_status",F)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(F){return this.set("last_successful_fetch_timestamp_millis",F)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(F){return this.set("last_successful_fetch_response",F)}getActiveConfig(){return this.get("active_config")}setActiveConfig(F){return this.set("active_config",F)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(F){return this.set("active_config_etag",F)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(F){return this.set("throttle_metadata",F)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(F){var G=this;return(0,B.Z)(function*(){const me=yield G.openDbPromise;return new Promise((Ve,ut)=>{var St;const Qt=me.transaction([Ni],"readonly").objectStore(Ni),Ln=G.createCompositeKey(F);try{const Zn=Qt.get(Ln);Zn.onerror=In=>{ut(Ai(In,"storage-get"))},Zn.onsuccess=In=>{const di=In.target.result;Ve(di?di.value:void 0)}}catch(Zn){ut(Cr.create("storage-get",{originalErrorMessage:null===(St=Zn)||void 0===St?void 0:St.message}))}})})()}set(F,G){var me=this;return(0,B.Z)(function*(){const Ve=yield me.openDbPromise;return new Promise((ut,St)=>{var Ht;const Ln=Ve.transaction([Ni],"readwrite").objectStore(Ni),Zn=me.createCompositeKey(F);try{const In=Ln.put({compositeKey:Zn,value:G});In.onerror=di=>{St(Ai(di,"storage-set"))},In.onsuccess=()=>{ut()}}catch(In){St(Cr.create("storage-set",{originalErrorMessage:null===(Ht=In)||void 0===Ht?void 0:Ht.message}))}})})()}delete(F){var G=this;return(0,B.Z)(function*(){const me=yield G.openDbPromise;return new Promise((Ve,ut)=>{var St;const Qt=me.transaction([Ni],"readwrite").objectStore(Ni),Ln=G.createCompositeKey(F);try{const Zn=Qt.delete(Ln);Zn.onerror=In=>{ut(Ai(In,"storage-delete"))},Zn.onsuccess=()=>{Ve()}}catch(Zn){ut(Cr.create("storage-delete",{originalErrorMessage:null===(St=Zn)||void 0===St?void 0:St.message}))}})})()}createCompositeKey(F){return[this.appId,this.appName,this.namespace,F].join()}}class wo{constructor(F){this.storage=F}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var F=this;return(0,B.Z)(function*(){const G=F.storage.getLastFetchStatus(),me=F.storage.getLastSuccessfulFetchTimestampMillis(),Ve=F.storage.getActiveConfig(),ut=yield G;ut&&(F.lastFetchStatus=ut);const St=yield me;St&&(F.lastSuccessfulFetchTimestampMillis=St);const Ht=yield Ve;Ht&&(F.activeConfig=Ht)})()}setLastFetchStatus(F){return this.lastFetchStatus=F,this.storage.setLastFetchStatus(F)}setLastSuccessfulFetchTimestampMillis(F){return this.lastSuccessfulFetchTimestampMillis=F,this.storage.setLastSuccessfulFetchTimestampMillis(F)}setActiveConfig(F){return this.activeConfig=F,this.storage.setActiveConfig(F)}}function ro(){return io.apply(this,arguments)}function io(){return(io=(0,B.Z)(function*(){if(!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch{return!1}})).apply(this,arguments)}!function Wa(){(0,se._registerComponent)(new fe.wA("remote-config",function O(F,{instanceIdentifier:G}){const me=F.getProvider("app").getImmediate(),Ve=F.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Cr.create("registration-window");if(!(0,ue.hl)())throw Cr.create("indexed-db-unavailable");const{projectId:ut,apiKey:St,appId:Ht}=me.options;if(!ut)throw Cr.create("registration-project-id");if(!St)throw Cr.create("registration-api-key");if(!Ht)throw Cr.create("registration-app-id");const Qt=new no(Ht,me.name,G=G||"firebase"),Ln=new wo(Qt),Zn=new we.Yd(pi);Zn.logLevel=we.in.ERROR;const In=new eo(Ve,se.SDK_VERSION,G,ut,St,Ht),di=new Ps(In,Qt),ws=new Xs(di,Qt,Ln,Zn),Qa=new Ca(me,ws,Ln,Qt,Zn);return function Ge(O){const F=(0,ue.m9)(O);F._initializePromise||(F._initializePromise=F._storageCache.loadFromStorage().then(()=>{F._isInitializationComplete=!0}))}(Qa),Qa},"PUBLIC").setMultipleInstances(!0)),(0,se.registerVersion)(pi,"0.3.14"),(0,se.registerVersion)(pi,"0.3.14","esm2017")}();const ti="/firebase-messaging-sw.js",so="/firebase-cloud-messaging-push-scope",gr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Do="google.c.a.c_id",Uo="google.c.a.c_l",Aa="google.c.a.ts",Io="google.c.a.e";var es=(()=>{return(O=es||(es={})).PUSH_RECEIVED="push-received",O.NOTIFICATION_CLICKED="notification-clicked",es;var O})();function Os(O){const F=new Uint8Array(O);return btoa(String.fromCharCode(...F)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ts(O){const G=(O+"=".repeat((4-O.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),me=atob(G),Ve=new Uint8Array(me.length);for(let ut=0;ut<me.length;++ut)Ve[ut]=me.charCodeAt(ut);return Ve}const ki="fcm_token_details_db",bo="fcm_token_object_Store";function _u(O){return Ma.apply(this,arguments)}function Ma(){return Ma=(0,B.Z)(function*(O){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ut=>ut.name).includes(ki))return null;let F=null;return(yield(0,te.X3)(ki,5,{upgrade:(me=(0,B.Z)(function*(Ve,ut,St,Ht){var Qt;if(ut<2||!Ve.objectStoreNames.contains(bo))return;const Ln=Ht.objectStore(bo),Zn=yield Ln.index("fcmSenderId").get(O);if(yield Ln.clear(),Zn)if(2===ut){const In=Zn;if(!In.auth||!In.p256dh||!In.endpoint)return;F={token:In.fcmToken,createTime:null!==(Qt=In.createTime)&&void 0!==Qt?Qt:Date.now(),subscriptionOptions:{auth:In.auth,p256dh:In.p256dh,endpoint:In.endpoint,swScope:In.swScope,vapidKey:"string"==typeof In.vapidKey?In.vapidKey:Os(In.vapidKey)}}}else if(3===ut){const In=Zn;F={token:In.fcmToken,createTime:In.createTime,subscriptionOptions:{auth:Os(In.auth),p256dh:Os(In.p256dh),endpoint:In.endpoint,swScope:In.swScope,vapidKey:Os(In.vapidKey)}}}else if(4===ut){const In=Zn;F={token:In.fcmToken,createTime:In.createTime,subscriptionOptions:{auth:Os(In.auth),p256dh:Os(In.p256dh),endpoint:In.endpoint,swScope:In.swScope,vapidKey:Os(In.vapidKey)}}}}),function(ut,St,Ht,Qt){return me.apply(this,arguments)})})).close(),yield(0,te.Lj)(ki),yield(0,te.Lj)("fcm_vapid_details_db"),yield(0,te.Lj)("undefined"),Er(F)?F:null;var me}),Ma.apply(this,arguments)}function Er(O){if(!O||!O.subscriptionOptions)return!1;const{subscriptionOptions:F}=O;return"number"==typeof O.createTime&&O.createTime>0&&"string"==typeof O.token&&O.token.length>0&&"string"==typeof F.auth&&F.auth.length>0&&"string"==typeof F.p256dh&&F.p256dh.length>0&&"string"==typeof F.endpoint&&F.endpoint.length>0&&"string"==typeof F.swScope&&F.swScope.length>0&&"string"==typeof F.vapidKey&&F.vapidKey.length>0}const Ds="firebase-messaging-store";let Li=null;function xa(){return Li||(Li=(0,te.X3)("firebase-messaging-database",1,{upgrade:(O,F)=>{0===F&&O.createObjectStore(Ds)}})),Li}function ao(O){return ps.apply(this,arguments)}function ps(){return(ps=(0,B.Z)(function*(O){const F=zi(O),me=yield(yield xa()).transaction(Ds).objectStore(Ds).get(F);if(me)return me;{const Ve=yield _u(O.appConfig.senderId);if(Ve)return yield lr(O,Ve),Ve}})).apply(this,arguments)}function lr(O,F){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,B.Z)(function*(O,F){const G=zi(O),Ve=(yield xa()).transaction(Ds,"readwrite");return yield Ve.objectStore(Ds).put(F,G),yield Ve.done,F})).apply(this,arguments)}function Is(O){return _i.apply(this,arguments)}function _i(){return(_i=(0,B.Z)(function*(O){const F=zi(O),me=(yield xa()).transaction(Ds,"readwrite");yield me.objectStore(Ds).delete(F),yield me.done})).apply(this,arguments)}function zi({appConfig:O}){return O.appId}const Qr=new ue.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function An(O,F){return bs.apply(this,arguments)}function bs(){return(bs=(0,B.Z)(function*(O,F){var G;const me=yield la(O),Ve=Et(F),ut={method:"POST",headers:me,body:JSON.stringify(Ve)};let St;try{St=yield(yield fetch(Mi(O.appConfig),ut)).json()}catch(Ht){throw Qr.create("token-subscribe-failed",{errorInfo:null===(G=Ht)||void 0===G?void 0:G.toString()})}if(St.error)throw Qr.create("token-subscribe-failed",{errorInfo:St.error.message});if(!St.token)throw Qr.create("token-subscribe-no-token");return St.token})).apply(this,arguments)}function Bo(O,F){return So.apply(this,arguments)}function So(){return(So=(0,B.Z)(function*(O,F){var G;const me=yield la(O),Ve=Et(F.subscriptionOptions),ut={method:"PATCH",headers:me,body:JSON.stringify(Ve)};let St;try{St=yield(yield fetch(`${Mi(O.appConfig)}/${F.token}`,ut)).json()}catch(Ht){throw Qr.create("token-update-failed",{errorInfo:null===(G=Ht)||void 0===G?void 0:G.toString()})}if(St.error)throw Qr.create("token-update-failed",{errorInfo:St.error.message});if(!St.token)throw Qr.create("token-update-no-token");return St.token})).apply(this,arguments)}function Pa(O,F){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,B.Z)(function*(O,F){var G;const Ve={method:"DELETE",headers:yield la(O)};try{const St=yield(yield fetch(`${Mi(O.appConfig)}/${F}`,Ve)).json();if(St.error)throw Qr.create("token-unsubscribe-failed",{errorInfo:St.error.message})}catch(ut){throw Qr.create("token-unsubscribe-failed",{errorInfo:null===(G=ut)||void 0===G?void 0:G.toString()})}})).apply(this,arguments)}function Mi({projectId:O}){return`https://fcmregistrations.googleapis.com/v1/projects/${O}/registrations`}function la(O){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,B.Z)(function*({appConfig:O,installations:F}){const G=yield F.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":O.apiKey,"x-goog-firebase-installations-auth":`FIS ${G}`})})).apply(this,arguments)}function Et({p256dh:O,auth:F,endpoint:G,vapidKey:me}){const Ve={web:{endpoint:G,auth:F,p256dh:O}};return me!==gr&&(Ve.web.applicationPubKey=me),Ve}const Bn=6048e5;function nu(O){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,B.Z)(function*(O){const F=yield da(O.swRegistration,O.vapidKey),G={vapidKey:O.vapidKey,swScope:O.swRegistration.scope,endpoint:F.endpoint,auth:Os(F.getKey("auth")),p256dh:Os(F.getKey("p256dh"))},me=yield ao(O.firebaseDependencies);if(me){if(Co(me.subscriptionOptions,G))return Date.now()>=me.createTime+Bn?Qo(O,{token:me.token,createTime:Date.now(),subscriptionOptions:G}):me.token;try{yield Pa(O.firebaseDependencies,me.token)}catch(Ve){console.warn(Ve)}return ca(O.firebaseDependencies,G)}return ca(O.firebaseDependencies,G)})).apply(this,arguments)}function ni(O){return To.apply(this,arguments)}function To(){return(To=(0,B.Z)(function*(O){const F=yield ao(O.firebaseDependencies);F&&(yield Pa(O.firebaseDependencies,F.token),yield Is(O.firebaseDependencies));const G=yield O.swRegistration.pushManager.getSubscription();return!G||G.unsubscribe()})).apply(this,arguments)}function Qo(O,F){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,B.Z)(function*(O,F){try{const G=yield Bo(O.firebaseDependencies,F),me=Object.assign(Object.assign({},F),{token:G,createTime:Date.now()});return yield lr(O.firebaseDependencies,me),G}catch(G){throw yield ni(O),G}})).apply(this,arguments)}function ca(O,F){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,B.Z)(function*(O,F){const me={token:yield An(O,F),createTime:Date.now(),subscriptionOptions:F};return yield lr(O,me),me.token})).apply(this,arguments)}function da(O,F){return ks.apply(this,arguments)}function ks(){return(ks=(0,B.Z)(function*(O,F){return(yield O.pushManager.getSubscription())||O.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ts(F)})})).apply(this,arguments)}function Co(O,F){return F.vapidKey===O.vapidKey&&F.endpoint===O.endpoint&&F.auth===O.auth&&F.p256dh===O.p256dh}function gs(O){const F={from:O.from,collapseKey:O.collapse_key,messageId:O.fcmMessageId};return function ri(O,F){if(!F.notification)return;O.notification={};const G=F.notification.title;G&&(O.notification.title=G);const me=F.notification.body;me&&(O.notification.body=me);const Ve=F.notification.image;Ve&&(O.notification.image=Ve)}(F,O),function ns(O,F){!F.data||(O.data=F.data)}(F,O),function uo(O,F){var G,me,Ve,ut,St;if(!(F.fcmOptions||null!==(G=F.notification)&&void 0!==G&&G.click_action))return;O.fcmOptions={};const Ht=null!==(Ve=null===(me=F.fcmOptions)||void 0===me?void 0:me.link)&&void 0!==Ve?Ve:null===(ut=F.notification)||void 0===ut?void 0:ut.click_action;Ht&&(O.fcmOptions.link=Ht);const Qt=null===(St=F.fcmOptions)||void 0===St?void 0:St.analytics_label;Qt&&(O.fcmOptions.analyticsLabel=Qt)}(F,O),F}function $o(O){return"object"==typeof O&&!!O&&Do in O}function rs(O,F){const G=[];for(let me=0;me<O.length;me++)G.push(O.charAt(me)),me<F.length&&G.push(F.charAt(me));return G.join("")}function ha(O){return Qr.create("missing-app-config-values",{valueName:O})}rs("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),rs("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Jo{constructor(F,G,me){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ve=function Ka(O){if(!O||!O.options)throw ha("App Configuration Object");if(!O.name)throw ha("App Name");const F=["projectId","apiKey","appId","messagingSenderId"],{options:G}=O;for(const me of F)if(!G[me])throw ha(me);return{appName:O.name,projectId:G.projectId,apiKey:G.apiKey,appId:G.appId,senderId:G.messagingSenderId}}(F);this.firebaseDependencies={app:F,appConfig:Ve,installations:G,analyticsProvider:me}}_delete(){return Promise.resolve()}}function Oa(O){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,B.Z)(function*(O){var F;try{O.swRegistration=yield navigator.serviceWorker.register(ti,{scope:so}),O.swRegistration.update().catch(()=>{})}catch(G){throw Qr.create("failed-service-worker-registration",{browserErrorMessage:null===(F=G)||void 0===F?void 0:F.message})}})).apply(this,arguments)}function Mo(O,F){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,B.Z)(function*(O,F){if(!F&&!O.swRegistration&&(yield Oa(O)),F||!O.swRegistration){if(!(F instanceof ServiceWorkerRegistration))throw Qr.create("invalid-sw-registration");O.swRegistration=F}})).apply(this,arguments)}function Wi(O,F){return is.apply(this,arguments)}function is(){return(is=(0,B.Z)(function*(O,F){F?O.vapidKey=F:O.vapidKey||(O.vapidKey=gr)})).apply(this,arguments)}function Ls(){return(Ls=(0,B.Z)(function*(O,F){if(!navigator)throw Qr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Qr.create("permission-blocked");return yield Wi(O,F?.vapidKey),yield Mo(O,F?.serviceWorkerRegistration),nu(O)})).apply(this,arguments)}function Fs(O,F,G){return gi.apply(this,arguments)}function gi(){return(gi=(0,B.Z)(function*(O,F,G){const me=jo(F);(yield O.firebaseDependencies.analyticsProvider.get()).logEvent(me,{message_id:G[Do],message_name:G[Uo],message_time:G[Aa],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function jo(O){switch(O){case es.NOTIFICATION_CLICKED:return"notification_open";case es.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function H(){return(H=(0,B.Z)(function*(O,F){const G=F.data;if(!G.isFirebaseMessaging)return;O.onMessageHandler&&G.messageType===es.PUSH_RECEIVED&&("function"==typeof O.onMessageHandler?O.onMessageHandler(gs(G)):O.onMessageHandler.next(gs(G)));const me=G.data;$o(me)&&"1"===me[Io]&&(yield Fs(O,G.messageType,me))})).apply(this,arguments)}const N="@firebase/messaging",Z="0.9.19",Ee=O=>{const F=new Jo(O.getProvider("app").getImmediate(),O.getProvider("installations-internal").getImmediate(),O.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",G=>function M(O,F){return H.apply(this,arguments)}(F,G)),F},ot=O=>{const F=O.getProvider("messaging").getImmediate();return{getToken:me=>function Xo(O,F){return Ls.apply(this,arguments)}(F,me)}};function Jt(){return dr.apply(this,arguments)}function dr(){return(dr=(0,B.Z)(function*(){try{yield(0,ue.eu)()}catch{return!1}return typeof window<"u"&&(0,ue.hl)()&&(0,ue.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ct(){(0,se._registerComponent)(new fe.wA("messaging",Ee,"PUBLIC")),(0,se._registerComponent)(new fe.wA("messaging-internal",ot,"PRIVATE")),(0,se.registerVersion)(N,Z),(0,se.registerVersion)(N,Z,"esm2017")}();const wr="analytics",ss="firebase_id",xo="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Mt="https://www.googletagmanager.com/gtag/js",Vn=new we.Yd("@firebase/analytics");function ys(O){return Promise.all(O.map(F=>F.catch(G=>G)))}function Cs(O,F){const G=document.createElement("script");G.src=`${Mt}?l=${O}&id=${F}`,G.async=!0,document.head.appendChild(G)}function wn(O,F,G,me,Ve,ut){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,B.Z)(function*(O,F,G,me,Ve,ut){const St=me[Ve];try{if(St)yield F[St];else{const Qt=(yield ys(G)).find(Ln=>Ln.measurementId===Ve);Qt&&(yield F[Qt.appId])}}catch(Ht){Vn.error(Ht)}O("config",Ve,ut)})).apply(this,arguments)}function Lt(O,F,G,me,Ve){return lt.apply(this,arguments)}function lt(){return(lt=(0,B.Z)(function*(O,F,G,me,Ve){try{let ut=[];if(Ve&&Ve.send_to){let St=Ve.send_to;Array.isArray(St)||(St=[St]);const Ht=yield ys(G);for(const Qt of St){const Ln=Ht.find(In=>In.measurementId===Qt),Zn=Ln&&F[Ln.appId];if(!Zn){ut=[];break}ut.push(Zn)}}0===ut.length&&(ut=Object.values(F)),yield Promise.all(ut),O("event",me,Ve||{})}catch(ut){Vn.error(ut)}})).apply(this,arguments)}function Us(O){const F=window.document.getElementsByTagName("script");for(const G of Object.values(F))if(G.src&&G.src.includes(Mt)&&G.src.includes(O))return G;return null}const ui=new ue.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),fa=new class ea{constructor(F={},G=1e3){this.throttleMetadata=F,this.intervalMillis=G}getThrottleMetadata(F){return this.throttleMetadata[F]}setThrottleMetadata(F,G){this.throttleMetadata[F]=G}deleteThrottleMetadata(F){delete this.throttleMetadata[F]}};function pa(O){return new Headers({Accept:"application/json","x-goog-api-key":O})}function wu(O){return br.apply(this,arguments)}function br(){return(br=(0,B.Z)(function*(O){var F;const{appId:G,apiKey:me}=O,Ve={method:"GET",headers:pa(me)},ut=xo.replace("{app-id}",G),St=yield fetch(ut,Ve);if(200!==St.status&&304!==St.status){let Ht="";try{const Qt=yield St.json();null!==(F=Qt.error)&&void 0!==F&&F.message&&(Ht=Qt.error.message)}catch{}throw ui.create("config-fetch-failed",{httpStatus:St.status,responseMessage:Ht})}return St.json()})).apply(this,arguments)}function ga(O){return hn.apply(this,arguments)}function hn(){return(hn=(0,B.Z)(function*(O,F=fa,G){const{appId:me,apiKey:Ve,measurementId:ut}=O.options;if(!me)throw ui.create("no-app-id");if(!Ve){if(ut)return{measurementId:ut,appId:me};throw ui.create("no-api-key")}const St=F.getThrottleMetadata(me)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ht=new li;return setTimeout((0,B.Z)(function*(){Ht.abort()}),void 0!==G?G:6e4),Bs({appId:me,apiKey:Ve,measurementId:ut},St,Ht,F)})).apply(this,arguments)}function Bs(O,F,G){return co.apply(this,arguments)}function co(){return(co=(0,B.Z)(function*(O,{throttleEndTimeMillis:F,backoffCount:G},me,Ve=fa){var ut,St;const{appId:Ht,measurementId:Qt}=O;try{yield Vr(me,F)}catch(Ln){if(Qt)return Vn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Qt} provided in the "measurementId" field in the local Firebase config. [${null===(ut=Ln)||void 0===ut?void 0:ut.message}]`),{appId:Ht,measurementId:Qt};throw Ln}try{const Ln=yield wu(O);return Ve.deleteThrottleMetadata(Ht),Ln}catch(Ln){const Zn=Ln;if(!_n(Zn)){if(Ve.deleteThrottleMetadata(Ht),Qt)return Vn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Qt} provided in the "measurementId" field in the local Firebase config. [${Zn?.message}]`),{appId:Ht,measurementId:Qt};throw Ln}const In=503===Number(null===(St=Zn?.customData)||void 0===St?void 0:St.httpStatus)?(0,ue.$s)(G,Ve.intervalMillis,30):(0,ue.$s)(G,Ve.intervalMillis),di={throttleEndTimeMillis:Date.now()+In,backoffCount:G+1};return Ve.setThrottleMetadata(Ht,di),Vn.debug(`Calling attemptFetch again in ${In} millis`),Bs(O,di,me,Ve)}})).apply(this,arguments)}function Vr(O,F){return new Promise((G,me)=>{const Ve=Math.max(F-Date.now(),0),ut=setTimeout(G,Ve);O.addEventListener(()=>{clearTimeout(ut),me(ui.create("fetch-throttle",{throttleEndTimeMillis:F}))})})}function _n(O){if(!(O instanceof ue.ZR&&O.customData))return!1;const F=Number(O.customData.httpStatus);return 429===F||500===F||503===F||504===F}class li{constructor(){this.listeners=[]}addEventListener(F){this.listeners.push(F)}abort(){this.listeners.forEach(F=>F())}}let Gn,ma;function Sr(){return(Sr=(0,B.Z)(function*(O,F,G,me,Ve){if(Ve&&Ve.global)O("event",G,me);else{const ut=yield F;O("event",G,Object.assign(Object.assign({},me),{send_to:ut}))}})).apply(this,arguments)}function As(O){ma=O}function Bi(O){Gn=O}function ru(){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,B.Z)(function*(){var O;if(!(0,ue.hl)())return Vn.warn(ui.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ue.eu)()}catch(F){return Vn.warn(ui.create("indexeddb-unavailable",{errorInfo:null===(O=F)||void 0===O?void 0:O.toString()}).message),!1}return!0})).apply(this,arguments)}function os(){return(os=(0,B.Z)(function*(O,F,G,me,Ve,ut,St){var Ht;const Qt=ga(O);Qt.then(ws=>{G[ws.measurementId]=ws.appId,O.options.measurementId&&ws.measurementId!==O.options.measurementId&&Vn.warn(`The measurement ID in the local Firebase config (${O.options.measurementId}) does not match the measurement ID fetched from the server (${ws.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ws=>Vn.error(ws)),F.push(Qt);const Ln=ru().then(ws=>{if(ws)return me.getId()}),[Zn,In]=yield Promise.all([Qt,Ln]);Us(ut)||Cs(ut,Zn.measurementId),ma&&(Ve("consent","default",ma),As(void 0)),Ve("js",new Date);const di=null!==(Ht=St?.config)&&void 0!==Ht?Ht:{};return di.origin="firebase",di.update=!0,null!=In&&(di[ss]=In),Ve("config",Zn.measurementId,di),Gn&&(Ve("set",Gn),Bi(void 0)),Zn.measurementId})).apply(this,arguments)}class Ro{constructor(F){this.app=F}_delete(){return delete qe[this.app.options.appId],Promise.resolve()}}let qe={},$s=[];const Xr={};let Gi,bi,zo="dataLayer",_s=!1;function Du(O,F,G){!function ka(){const O=[];if((0,ue.ru)()&&O.push("This is a browser extension environment."),(0,ue.zI)()||O.push("Cookies are not available."),O.length>0){const F=O.map((me,Ve)=>`(${Ve+1}) ${me}`).join(" "),G=ui.create("invalid-analytics-context",{errorInfo:F});Vn.warn(G.message)}}();const me=O.options.appId;if(!me)throw ui.create("no-app-id");if(!O.options.apiKey){if(!O.options.measurementId)throw ui.create("no-api-key");Vn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${O.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=qe[me])throw ui.create("already-exists",{id:me});if(!_s){!function nn(O){let F=[];Array.isArray(window[O])?F=window[O]:window[O]=F}(zo);const{wrappedGtag:ut,gtagCore:St}=function Jr(O,F,G,me,Ve){let ut=function(...St){window[me].push(arguments)};return window[Ve]&&"function"==typeof window[Ve]&&(ut=window[Ve]),window[Ve]=function At(O,F,G,me){function ut(){return(ut=(0,B.Z)(function*(St,Ht,Qt){try{"event"===St?yield Lt(O,F,G,Ht,Qt):"config"===St?yield wn(O,F,G,me,Ht,Qt):"consent"===St?O("consent","update",Qt):O("set",Ht)}catch(Ln){Vn.error(Ln)}})).apply(this,arguments)}return function Ve(St,Ht,Qt){return ut.apply(this,arguments)}}(ut,O,F,G),{gtagCore:ut,wrappedGtag:window[Ve]}}(qe,$s,Xr,zo,"gtag");bi=ut,Gi=St,_s=!0}return qe[me]=function Ya(O,F,G,me,Ve,ut,St){return os.apply(this,arguments)}(O,$s,Xr,F,Gi,zo,G),new Ro(O)}function Ju(){return js.apply(this,arguments)}function js(){return(js=(0,B.Z)(function*(){if((0,ue.ru)()||!(0,ue.zI)()||!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch{return!1}})).apply(this,arguments)}const Ki="@firebase/analytics";!function cr(){(0,se._registerComponent)(new fe.wA(wr,(F,{options:G})=>Du(F.getProvider("app").getImmediate(),F.getProvider("installations-internal").getImmediate(),G),"PUBLIC")),(0,se._registerComponent)(new fe.wA("analytics-internal",function O(F){try{const G=F.getProvider(wr).getImmediate();return{logEvent:(me,Ve,ut)=>function ya(O,F,G,me){O=(0,ue.m9)(O),function ta(O,F,G,me,Ve){return Sr.apply(this,arguments)}(bi,qe[O.app.options.appId],F,G,me).catch(Ve=>Vn.error(Ve))}(G,me,Ve,ut)}}catch(G){throw ui.create("interop-component-reg-failed",{reason:G})}},"PRIVATE")),(0,se.registerVersion)(Ki,"0.8.3"),(0,se.registerVersion)(Ki,"0.8.3","esm2017")}();var Po=k(4408),Lr=k(7565);const b=new class D extends Lr.v{}(class Hs extends Po.o{constructor(F,G){super(F,G),this.scheduler=F,this.work=G}schedule(F,G=0){return G>0?super.schedule(F,G):(this.delay=G,this.state=F,this.scheduler.flush(this),this)}execute(F,G){return G>0||this.closed?super.execute(F,G):this._execute(F,G)}requestAsyncId(F,G,me=0){return null!=me&&me>0||null==me&&this.delay>0?super.requestAsyncId(F,G,me):(F.flush(this),0)}});var R=k(4986),L=k(9751),q=k(8505),pe=k(9468),ve=k(5363);const dt=new y.GfV("7.4.1"),Ot="__angularfire_symbol__analyticsIsSupportedValue",Nn="__angularfire_symbol__analyticsIsSupported",qt="__angularfire_symbol__remoteConfigIsSupportedValue",Kn="__angularfire_symbol__remoteConfigIsSupported",ei="__angularfire_symbol__messagingIsSupportedValue",Si="__angularfire_symbol__messagingIsSupported";function va(O,F,G){if(F){if(1===F.length)return F[0];const ut=F.filter(St=>St.app===G);if(1===ut.length)return ut[0]}return G.container.getProvider(O).getImmediate({optional:!0})}globalThis[Nn]||(globalThis[Nn]=Ju().then(O=>globalThis[Ot]=O).catch(()=>globalThis[Ot]=!1)),globalThis[Si]||(globalThis[Si]=Jt().then(O=>globalThis[ei]=O).catch(()=>globalThis[ei]=!1)),globalThis[Kn]||(globalThis[Kn]=ro().then(O=>globalThis[qt]=O).catch(()=>globalThis[qt]=!1));const ra=(O,F)=>{const G=F?[F]:(0,E.C6)(),me=[];return G.forEach(Ve=>{Ve.container.getProvider(O).instances.forEach(St=>{me.includes(St)||me.push(St)})}),me};function Oo(){}class ls{constructor(F,G=b){this.zone=F,this.delegate=G}now(){return this.delegate.now()}schedule(F,G,me){const Ve=this.zone;return this.delegate.schedule(function(St){Ve.runGuarded(()=>{F.apply(this,[St])})},G,me)}}class No{constructor(F){this.zone=F,this.task=null}call(F,G){const me=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Oo,{},Oo,Oo)),G.pipe((0,q.b)({next:me,complete:me,error:me})).subscribe(F).add(me)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ko=(()=>{class O{constructor(G){this.ngZone=G,this.outsideAngular=G.runOutsideAngular(()=>new ls(Zone.current)),this.insideAngular=G.run(()=>new ls(Zone.current,R.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return O.\u0275fac=function(G){return new(G||O)(y.LFG(y.R0b))},O.\u0275prov=y.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})();function go(){const O=globalThis.\u0275AngularFireScheduler;if(!O)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return O}function El(O){return go().ngZone.runOutsideAngular(()=>O())}function ia(O){return go().ngZone.run(()=>O())}function Vi(O){return go(),function ii(O){return function(G){return(G=G.lift(new No(O.ngZone))).pipe((0,pe.R)(O.outsideAngular),(0,ve.Q)(O.insideAngular))}}(go())(O)}const Fr=(O,F)=>function(){const me=arguments;return F&&setTimeout(()=>{"scheduled"===F.state&&F.invoke()},10),ia(()=>O.apply(void 0,me))},Uu=(O,F)=>function(){let G;const me=arguments;for(let ut=0;ut<arguments.length;ut++)"function"==typeof me[ut]&&(F&&(G||(G=ia(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Oo,{},Oo,Oo)))),me[ut]=Fr(me[ut],G));const Ve=El(()=>O.apply(this,me));if(!F){if(Ve instanceof L.y){const ut=go();return Ve.pipe((0,pe.R)(ut.outsideAngular),(0,ve.Q)(ut.insideAngular))}return ia(()=>Ve)}return Ve instanceof L.y?Ve.pipe(Vi):Ve instanceof Promise?ia(()=>new Promise((ut,St)=>Ve.then(Ht=>ia(()=>ut(Ht)),Ht=>ia(()=>St(Ht))))):"function"==typeof Ve&&G?function(){return setTimeout(()=>{G&&"scheduled"===G.state&&G.invoke()},10),Ve.apply(this,arguments)}:ia(()=>Ve)}},7573:(Pt,Le,k)=>{k.d(Le,{$:()=>Mi,A:()=>ae,B:()=>Ke,G:()=>fs,H:()=>qr,J:()=>Ps,L:()=>_e,M:()=>io,N:()=>oo,P:()=>R,Q:()=>Do,R:()=>xi,T:()=>Uo,U:()=>gr,V:()=>es,W:()=>Os,X:()=>_u,Y:()=>Ns,Z:()=>An,_:()=>Bo,a:()=>vs,a0:()=>nu,a1:()=>ni,a2:()=>Qo,a3:()=>ca,a4:()=>da,a5:()=>Co,a6:()=>ri,a7:()=>ns,a8:()=>$o,a9:()=>rs,aA:()=>di,aB:()=>Ht,aC:()=>ia,aD:()=>El,aE:()=>sn,aI:()=>pa,aL:()=>Io,aa:()=>Oa,ab:()=>Mo,ac:()=>Wi,af:()=>Fs,ag:()=>jo,ah:()=>M,ak:()=>Ds,al:()=>mr,an:()=>Mt,ao:()=>Eu,ap:()=>ie,aq:()=>nt,ar:()=>oe,as:()=>zt,at:()=>ft,au:()=>V,av:()=>mo,aw:()=>Ue,ax:()=>Oe,ay:()=>Re,az:()=>ye,b:()=>ui,c:()=>Kn,d:()=>Zi,e:()=>Si,f:()=>Vi,g:()=>G,h:()=>Uu,i:()=>Ho,j:()=>ut,k:()=>tt,l:()=>Fu,m:()=>yn,n:()=>Da,o:()=>te,r:()=>Po,s:()=>po,u:()=>b});var y=k(5861),E=k(2090),B=k(9681),se=k(1877),ue=k(655),fe=k(4859);const te={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ae={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ke=function be(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ze=function Je(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ct=new E.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),it=new se.Yd("@firebase/auth");function Ae(I,...f){it.logLevel<=se.in.ERROR&&it.error(`Auth (${B.SDK_VERSION}): ${I}`,...f)}function ft(I,...f){throw yt(I,...f)}function Ue(I,...f){return yt(I,...f)}function Ce(I,f,p){const T=Object.assign(Object.assign({},Ze()),{[f]:p});return new E.LL("auth","Firebase",T).create(f,{appName:I.name})}function Ye(I,f,p){if(!(f instanceof p))throw p.name!==f.constructor.name&&ft(I,"argument-error"),Ce(I,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function yt(I,...f){if("string"!=typeof I){const p=f[0],T=[...f.slice(1)];return T[0]&&(T[0].appName=I.name),I._errorFactory.create(p,...T)}return Ct.create(I,...f)}function Oe(I,f,...p){if(!I)throw yt(f,...p)}function He(I){const f="INTERNAL ASSERTION FAILED: "+I;throw Ae(f),new Error(f)}function nt(I,f){I||He(f)}const Ie=new Map;function Re(I){nt(I instanceof Function,"Expected a class definition");let f=Ie.get(I);return f?(nt(f instanceof I,"Instance stored in cache mismatched with class"),f):(f=new I,Ie.set(I,f),f)}function at(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function Be(){return"http:"===It()||"https:"===It()}function It(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class mt{constructor(f,p){this.shortDelay=f,this.longDelay=p,nt(p>f,"Short delay should be less than long delay!"),this.isMobile=(0,E.uI)()||(0,E.b$)()}get(){return function Wt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Be()||(0,E.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function un(I,f){nt(I.emulator,"Emulator should always be set here");const{url:p}=I.emulator;return f?`${p}${f.startsWith("/")?f.slice(1):f}`:p}class En{static initialize(f,p,T){this.fetchImpl=f,p&&(this.headersImpl=p),T&&(this.responseImpl=T)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void He("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void He("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void He("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const bn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Nt=new mt(3e4,6e4);function dn(I,f){return I.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:I.tenantId}):f}function en(I,f,p,T){return yr.apply(this,arguments)}function yr(){return(yr=(0,y.Z)(function*(I,f,p,T,W={}){return Mr(I,W,(0,y.Z)(function*(){let ee={},je={};T&&("GET"===f?je=T:ee={body:JSON.stringify(T)});const wt=(0,E.xO)(Object.assign({key:I.config.apiKey},je)).slice(1),on=yield I._getAdditionalHeaders();return on["Content-Type"]="application/json",I.languageCode&&(on["X-Firebase-Locale"]=I.languageCode),En.fetch()(fr(I,I.config.apiHost,p,wt),Object.assign({method:f,headers:on,referrerPolicy:"no-referrer"},ee))}))})).apply(this,arguments)}function Mr(I,f,p){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,y.Z)(function*(I,f,p){I._canInitEmulator=!1;const T=Object.assign(Object.assign({},bn),f);try{const W=new Jn(I),ee=yield Promise.race([p(),W.promise]);W.clearNetworkTimeout();const je=yield ee.json();if("needConfirmation"in je)throw Mn(I,"account-exists-with-different-credential",je);if(ee.ok&&!("errorMessage"in je))return je;{const wt=ee.ok?je.errorMessage:je.error.message,[on,ht]=wt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===on)throw Mn(I,"credential-already-in-use",je);if("EMAIL_EXISTS"===on)throw Mn(I,"email-already-in-use",je);if("USER_DISABLED"===on)throw Mn(I,"user-disabled",je);const gt=T[on]||on.toLowerCase().replace(/[_\s]+/g,"-");if(ht)throw Ce(I,gt,ht);ft(I,gt)}}catch(W){if(W instanceof E.ZR)throw W;ft(I,"network-request-failed")}})).apply(this,arguments)}function mn(I,f,p,T){return xr.apply(this,arguments)}function xr(){return(xr=(0,y.Z)(function*(I,f,p,T,W={}){const ee=yield en(I,f,p,T,W);return"mfaPendingCredential"in ee&&ft(I,"multi-factor-auth-required",{_serverResponse:ee}),ee})).apply(this,arguments)}function fr(I,f,p,T){const W=`${f}${p}?${T}`;return I.config.emulator?un(I.config,W):`${I.config.apiScheme}://${W}`}class Jn{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((p,T)=>{this.timer=setTimeout(()=>T(Ue(this.auth,"network-request-failed")),Nt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Mn(I,f,p){const T={appName:I.name};p.email&&(T.email=p.email),p.phoneNumber&&(T.phoneNumber=p.phoneNumber);const W=Ue(I,f,T);return W.customData._tokenResponse=p,W}function vn(){return(vn=(0,y.Z)(function*(I,f){return en(I,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function Ut(I,f){return ur.apply(this,arguments)}function ur(){return(ur=(0,y.Z)(function*(I,f){return en(I,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function vr(I,f){return er.apply(this,arguments)}function er(){return(er=(0,y.Z)(function*(I,f){return en(I,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function _r(I){if(I)try{const f=new Date(Number(I));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function rr(){return(rr=(0,y.Z)(function*(I,f=!1){const p=(0,E.m9)(I),T=yield p.getIdToken(f),W=Gt(T);Oe(W&&W.exp&&W.auth_time&&W.iat,p.auth,"internal-error");const ee="object"==typeof W.firebase?W.firebase:void 0,je=ee?.sign_in_provider;return{claims:W,token:T,authTime:_r(Un(W.auth_time)),issuedAtTime:_r(Un(W.iat)),expirationTime:_r(Un(W.exp)),signInProvider:je||null,signInSecondFactor:ee?.sign_in_second_factor||null}})).apply(this,arguments)}function Un(I){return 1e3*Number(I)}function Gt(I){var f;const[p,T,W]=I.split(".");if(void 0===p||void 0===T||void 0===W)return Ae("JWT malformed, contained fewer than 3 sections"),null;try{const ee=(0,E.tV)(T);return ee?JSON.parse(ee):(Ae("Failed to decode base64 JWT payload"),null)}catch(ee){return Ae("Caught error parsing JWT payload as JSON",null===(f=ee)||void 0===f?void 0:f.toString()),null}}function ln(I,f){return cn.apply(this,arguments)}function cn(){return(cn=(0,y.Z)(function*(I,f,p=!1){if(p)return f;try{return yield f}catch(T){throw T instanceof E.ZR&&$n(T)&&I.auth.currentUser===I&&(yield I.auth.signOut()),T}})).apply(this,arguments)}function $n({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}class Rr{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var p;if(f){const T=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),T}{this.errorBackoff=3e4;const W=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,W)}}schedule(f=!1){var p=this;if(!this.isRunning)return;const T=this.getInterval(f);this.timerId=setTimeout((0,y.Z)(function*(){yield p.iteration()}),T)}iteration(){var f=this;return(0,y.Z)(function*(){var p;try{yield f.user.getIdToken(!0)}catch(T){return void("auth/network-request-failed"===(null===(p=T)||void 0===p?void 0:p.code)&&f.schedule(!0))}f.schedule()})()}}class tn{constructor(f,p){this.createdAt=f,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=_r(this.lastLoginAt),this.creationTime=_r(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Pr(I){return pn.apply(this,arguments)}function pn(){return(pn=(0,y.Z)(function*(I){var f;const p=I.auth,T=yield I.getIdToken(),W=yield ln(I,vr(p,{idToken:T}));Oe(W?.users.length,p,"internal-error");const ee=W.users[0];I._notifyReloadListener(ee);const je=null!==(f=ee.providerUserInfo)&&void 0!==f&&f.length?nr(ee.providerUserInfo):[],wt=or(I.providerData,je),gt=!!I.isAnonymous&&!(I.email&&ee.passwordHash||wt?.length),Xt={uid:ee.localId,displayName:ee.displayName||null,photoURL:ee.photoUrl||null,email:ee.email||null,emailVerified:ee.emailVerified||!1,phoneNumber:ee.phoneNumber||null,tenantId:ee.tenantId||null,providerData:wt,metadata:new tn(ee.createdAt,ee.lastLoginAt),isAnonymous:gt};Object.assign(I,Xt)})).apply(this,arguments)}function gn(){return(gn=(0,y.Z)(function*(I){const f=(0,E.m9)(I);yield Pr(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function or(I,f){return[...I.filter(T=>!f.some(W=>W.providerId===T.providerId)),...f]}function nr(I){return I.map(f=>{var{providerId:p}=f,T=(0,ue._T)(f,["providerId"]);return{providerId:p,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}function j(){return(j=(0,y.Z)(function*(I,f){const p=yield Mr(I,{},(0,y.Z)(function*(){const T=(0,E.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:W,apiKey:ee}=I.config,je=fr(I,W,"/v1/token",`key=${ee}`),wt=yield I._getAdditionalHeaders();return wt["Content-Type"]="application/x-www-form-urlencoded",En.fetch()(je,{method:"POST",headers:wt,body:T})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class re{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){Oe(f.idToken,"internal-error"),Oe(typeof f.idToken<"u","internal-error"),Oe(typeof f.refreshToken<"u","internal-error");const p="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function Yt(I){const f=Gt(I);return Oe(f,"internal-error"),Oe(typeof f.exp<"u","internal-error"),Oe(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,p)}getToken(f,p=!1){var T=this;return(0,y.Z)(function*(){return Oe(!T.accessToken||T.refreshToken,f,"user-token-expired"),p||!T.accessToken||T.isExpired?T.refreshToken?(yield T.refresh(f,T.refreshToken),T.accessToken):null:T.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,p){var T=this;return(0,y.Z)(function*(){const{accessToken:W,refreshToken:ee,expiresIn:je}=yield function We(I,f){return j.apply(this,arguments)}(f,p);T.updateTokensAndExpiration(W,ee,Number(je))})()}updateTokensAndExpiration(f,p,T){this.refreshToken=p||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*T}static fromJSON(f,p){const{refreshToken:T,accessToken:W,expirationTime:ee}=p,je=new re;return T&&(Oe("string"==typeof T,"internal-error",{appName:f}),je.refreshToken=T),W&&(Oe("string"==typeof W,"internal-error",{appName:f}),je.accessToken=W),ee&&(Oe("number"==typeof ee,"internal-error",{appName:f}),je.expirationTime=ee),je}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new re,this.toJSON())}_performRefresh(){return He("not implemented")}}function ke(I,f){Oe("string"==typeof I||typeof I>"u","internal-error",{appName:f})}class st{constructor(f){var{uid:p,auth:T,stsTokenManager:W}=f,ee=(0,ue._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Rr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=T,this.stsTokenManager=W,this.accessToken=W.accessToken,this.displayName=ee.displayName||null,this.email=ee.email||null,this.emailVerified=ee.emailVerified||!1,this.phoneNumber=ee.phoneNumber||null,this.photoURL=ee.photoURL||null,this.isAnonymous=ee.isAnonymous||!1,this.tenantId=ee.tenantId||null,this.providerData=ee.providerData?[...ee.providerData]:[],this.metadata=new tn(ee.createdAt||void 0,ee.lastLoginAt||void 0)}getIdToken(f){var p=this;return(0,y.Z)(function*(){const T=yield ln(p,p.stsTokenManager.getToken(p.auth,f));return Oe(T,p.auth,"internal-error"),p.accessToken!==T&&(p.accessToken=T,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),T})()}getIdTokenResult(f){return function Xn(I){return rr.apply(this,arguments)}(this,f)}reload(){return function tr(I){return gn.apply(this,arguments)}(this)}_assign(f){this!==f&&(Oe(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(p=>Object.assign({},p)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new st(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,p=!1){var T=this;return(0,y.Z)(function*(){let W=!1;f.idToken&&f.idToken!==T.stsTokenManager.accessToken&&(T.stsTokenManager.updateFromServerResponse(f),W=!0),p&&(yield Pr(T)),yield T.auth._persistUserIfCurrent(T),W&&T.auth._notifyListenersIfCurrent(T)})()}delete(){var f=this;return(0,y.Z)(function*(){const p=yield f.getIdToken();return yield ln(f,function Pn(I,f){return vn.apply(this,arguments)}(f.auth,{idToken:p})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,p){var T,W,ee,je,wt,on,ht,gt;const Xt=null!==(T=p.displayName)&&void 0!==T?T:void 0,Wn=null!==(W=p.email)&&void 0!==W?W:void 0,Ur=null!==(ee=p.phoneNumber)&&void 0!==ee?ee:void 0,Go=null!==(je=p.photoURL)&&void 0!==je?je:void 0,Gr=null!==(wt=p.tenantId)&&void 0!==wt?wt:void 0,oa=null!==(on=p._redirectEventId)&&void 0!==on?on:void 0,Kr=null!==(ht=p.createdAt)&&void 0!==ht?ht:void 0,rl=null!==(gt=p.lastLoginAt)&&void 0!==gt?gt:void 0,{uid:Ko,emailVerified:Yi,isAnonymous:Ws,providerData:Gs,stsTokenManager:lu}=p;Oe(Ko&&lu,f,"internal-error");const qn=re.fromJSON(this.name,lu);Oe("string"==typeof Ko,f,"internal-error"),ke(Xt,f.name),ke(Wn,f.name),Oe("boolean"==typeof Yi,f,"internal-error"),Oe("boolean"==typeof Ws,f,"internal-error"),ke(Ur,f.name),ke(Go,f.name),ke(Gr,f.name),ke(oa,f.name),ke(Kr,f.name),ke(rl,f.name);const Pi=new st({uid:Ko,auth:f,email:Wn,emailVerified:Yi,displayName:Xt,isAnonymous:Ws,photoURL:Go,phoneNumber:Ur,tenantId:Gr,stsTokenManager:qn,createdAt:Kr,lastLoginAt:rl});return Gs&&Array.isArray(Gs)&&(Pi.providerData=Gs.map(Il=>Object.assign({},Il))),oa&&(Pi._redirectEventId=oa),Pi}static _fromIdTokenResponse(f,p,T=!1){return(0,y.Z)(function*(){const W=new re;W.updateFromServerResponse(p);const ee=new st({uid:p.localId,auth:f,stsTokenManager:W,isAnonymous:T});return yield Pr(ee),ee})()}}const _e=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,y.Z)(function*(){return!0})()}_set(p,T){var W=this;return(0,y.Z)(function*(){W.storage[p]=T})()}_get(p){var T=this;return(0,y.Z)(function*(){const W=T.storage[p];return void 0===W?null:W})()}_remove(p){var T=this;return(0,y.Z)(function*(){delete T.storage[p]})()}_addListener(p,T){}_removeListener(p,T){}}return I.type="NONE",I})();function ye(I,f,p){return`firebase:${I}:${f}:${p}`}class xe{constructor(f,p,T){this.persistence=f,this.auth=p,this.userKey=T;const{config:W,name:ee}=this.auth;this.fullUserKey=ye(this.userKey,W.apiKey,ee),this.fullPersistenceKey=ye("persistence",W.apiKey,ee),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,y.Z)(function*(){const p=yield f.persistence._get(f.fullUserKey);return p?st._fromJSON(f.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var p=this;return(0,y.Z)(function*(){if(p.persistence===f)return;const T=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=f,T?p.setCurrentUser(T):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,p,T="authUser"){return(0,y.Z)(function*(){if(!p.length)return new xe(Re(_e),f,T);const W=(yield Promise.all(p.map(function(){var ht=(0,y.Z)(function*(gt){if(yield gt._isAvailable())return gt});return function(gt){return ht.apply(this,arguments)}}()))).filter(ht=>ht);let ee=W[0]||Re(_e);const je=ye(T,f.config.apiKey,f.name);let wt=null;for(const ht of p)try{const gt=yield ht._get(je);if(gt){const Xt=st._fromJSON(f,gt);ht!==ee&&(wt=Xt),ee=ht;break}}catch{}const on=W.filter(ht=>ht._shouldAllowMigration);return ee._shouldAllowMigration&&on.length?(ee=on[0],wt&&(yield ee._set(je,wt.toJSON())),yield Promise.all(p.map(function(){var ht=(0,y.Z)(function*(gt){if(gt!==ee)try{yield gt._remove(je)}catch{}});return function(gt){return ht.apply(this,arguments)}}())),new xe(ee,f,T)):new xe(ee,f,T)})()}}function ge(I){const f=I.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(_t(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(K(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Kt(f))return"Blackberry";if(de(f))return"Webos";if(le(f))return"Safari";if((f.includes("chrome/")||ze(f))&&!f.includes("edge/"))return"Chrome";if(zt(f))return"Android";{const T=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===T?.length)return T[1]}return"Other"}function K(I=(0,E.z$)()){return/firefox\//i.test(I)}function le(I=(0,E.z$)()){const f=I.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function ze(I=(0,E.z$)()){return/crios\//i.test(I)}function _t(I=(0,E.z$)()){return/iemobile/i.test(I)}function zt(I=(0,E.z$)()){return/android/i.test(I)}function Kt(I=(0,E.z$)()){return/blackberry/i.test(I)}function de(I=(0,E.z$)()){return/webos/i.test(I)}function oe(I=(0,E.z$)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function ie(I=(0,E.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}function Bt(I=(0,E.z$)()){return oe(I)||zt(I)||de(I)||Kt(I)||/windows phone/i.test(I)||_t(I)}function Sn(I,f=[]){let p;switch(I){case"Browser":p=ge((0,E.z$)());break;case"Worker":p=`${ge((0,E.z$)())}-${I}`;break;default:p=I}const T=f.length?f.join(","):"FirebaseCore-web";return`${p}/JsCore/${B.SDK_VERSION}/${T}`}class $r{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,p){const T=ee=>new Promise((je,wt)=>{try{je(f(ee))}catch(on){wt(on)}});T.onAbort=p,this.queue.push(T);const W=this.queue.length-1;return()=>{this.queue[W]=()=>Promise.resolve()}}runMiddleware(f){var p=this;return(0,y.Z)(function*(){var T;if(p.auth.currentUser===f)return;const W=[];try{for(const ee of p.queue)yield ee(f),ee.onAbort&&W.push(ee.onAbort)}catch(ee){W.reverse();for(const je of W)try{je()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:null===(T=ee)||void 0===T?void 0:T.message})}})()}}class vi{constructor(f,p,T){this.app=f,this.heartbeatServiceProvider=p,this.config=T,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fi(this),this.idTokenSubscription=new fi(this),this.beforeStateQueue=new $r(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ct,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=T.sdkClientVersion}_initializeWithPersistence(f,p){var T=this;return p&&(this._popupRedirectResolver=Re(p)),this._initializationPromise=this.queue((0,y.Z)(function*(){var W,ee;if(!T._deleted&&(T.persistenceManager=yield xe.create(T,f),!T._deleted)){if(null!==(W=T._popupRedirectResolver)&&void 0!==W&&W._shouldInitProactively)try{yield T._popupRedirectResolver._initialize(T)}catch{}yield T.initializeCurrentUser(p),T.lastNotifiedUid=(null===(ee=T.currentUser)||void 0===ee?void 0:ee.uid)||null,!T._deleted&&(T._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,y.Z)(function*(){if(f._deleted)return;const p=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||p){if(f.currentUser&&p&&f.currentUser.uid===p.uid)return f._currentUser._assign(p),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(p,!0)}})()}initializeCurrentUser(f){var p=this;return(0,y.Z)(function*(){var T;const W=yield p.assertedPersistence.getCurrentUser();let ee=W,je=!1;if(f&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const wt=null===(T=p.redirectUser)||void 0===T?void 0:T._redirectEventId,on=ee?._redirectEventId,ht=yield p.tryRedirectSignIn(f);(!wt||wt===on)&&ht?.user&&(ee=ht.user,je=!0)}if(!ee)return p.directlySetCurrentUser(null);if(!ee._redirectEventId){if(je)try{yield p.beforeStateQueue.runMiddleware(ee)}catch(wt){ee=W,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(wt))}return ee?p.reloadAndSetCurrentUserOrClear(ee):p.directlySetCurrentUser(null)}return Oe(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===ee._redirectEventId?p.directlySetCurrentUser(ee):p.reloadAndSetCurrentUserOrClear(ee)})()}tryRedirectSignIn(f){var p=this;return(0,y.Z)(function*(){let T=null;try{T=yield p._popupRedirectResolver._completeRedirectFn(p,f,!0)}catch{yield p._setRedirectUser(null)}return T})()}reloadAndSetCurrentUserOrClear(f){var p=this;return(0,y.Z)(function*(){var T;try{yield Pr(f)}catch(W){if("auth/network-request-failed"!==(null===(T=W)||void 0===T?void 0:T.code))return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function Ft(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var f=this;return(0,y.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var p=this;return(0,y.Z)(function*(){const T=f?(0,E.m9)(f):null;return T&&Oe(T.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(T&&T._clone(p))})()}_updateCurrentUser(f,p=!1){var T=this;return(0,y.Z)(function*(){if(!T._deleted)return f&&Oe(T.tenantId===f.tenantId,T,"tenant-id-mismatch"),p||(yield T.beforeStateQueue.runMiddleware(f)),T.queue((0,y.Z)(function*(){yield T.directlySetCurrentUser(f),T.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,y.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var p=this;return this.queue((0,y.Z)(function*(){yield p.assertedPersistence.setPersistence(Re(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new E.LL("auth","Firebase",f())}onAuthStateChanged(f,p,T){return this.registerStateListener(this.authStateSubscription,f,p,T)}beforeAuthStateChanged(f,p){return this.beforeStateQueue.pushCallback(f,p)}onIdTokenChanged(f,p,T){return this.registerStateListener(this.idTokenSubscription,f,p,T)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,p){var T=this;return(0,y.Z)(function*(){const W=yield T.getOrInitRedirectPersistenceManager(p);return null===f?W.removeCurrentUser():W.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var p=this;return(0,y.Z)(function*(){if(!p.redirectPersistenceManager){const T=f&&Re(f)||p._popupRedirectResolver;Oe(T,p,"argument-error"),p.redirectPersistenceManager=yield xe.create(p,[Re(T._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(f){var p=this;return(0,y.Z)(function*(){var T,W;return p._isInitialized&&(yield p.queue((0,y.Z)(function*(){}))),(null===(T=p._currentUser)||void 0===T?void 0:T._redirectEventId)===f?p._currentUser:(null===(W=p.redirectUser)||void 0===W?void 0:W._redirectEventId)===f?p.redirectUser:null})()}_persistUserIfCurrent(f){var p=this;return(0,y.Z)(function*(){if(f===p.currentUser)return p.queue((0,y.Z)(function*(){return p.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=null!==(p=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,p,T,W){if(this._deleted)return()=>{};const ee="function"==typeof p?p:p.next.bind(p),je=this._isInitialized?Promise.resolve():this._initializationPromise;return Oe(je,this,"internal-error"),je.then(()=>ee(this.currentUser)),"function"==typeof p?f.addObserver(p,T,W):f.addObserver(p)}directlySetCurrentUser(f){var p=this;return(0,y.Z)(function*(){p.currentUser&&p.currentUser!==f&&p._currentUser._stopProactiveRefresh(),f&&p.isProactiveRefreshEnabled&&f._startProactiveRefresh(),p.currentUser=f,f?yield p.assertedPersistence.setCurrentUser(f):yield p.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Sn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,y.Z)(function*(){var p;const T={"X-Client-Version":f.clientVersion};f.app.options.appId&&(T["X-Firebase-gmpid"]=f.app.options.appId);const W=yield null===(p=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();return W&&(T["X-Firebase-Client"]=W),T})()}}function sn(I){return(0,E.m9)(I)}class fi{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,E.ne)(p=>this.observer=p)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function fs(I,f,p){const T=sn(I);Oe(T._canInitEmulator,T,"emulator-config-failed"),Oe(/^https?:\/\//.test(f),T,"invalid-emulator-scheme");const W=!!p?.disableWarnings,ee=Qi(f),{host:je,port:wt}=function pi(I){const f=Qi(I),p=/(\/\/)?([^?#/]+)/.exec(I.substr(f.length));if(!p)return{host:"",port:null};const T=p[2].split("@").pop()||"",W=/^(\[[^\]]+\])(:|$)/.exec(T);if(W){const ee=W[1];return{host:ee,port:pr(T.substr(ee.length+1))}}{const[ee,je]=T.split(":");return{host:ee,port:pr(je)}}}(f);T.config.emulator={url:`${ee}//${je}${null===wt?"":`:${wt}`}/`},T.settings.appVerificationDisabledForTesting=!0,T.emulatorConfig=Object.freeze({host:je,port:wt,protocol:ee.replace(":",""),options:Object.freeze({disableWarnings:W})}),W||function Ys(){function I(){const f=document.createElement("p"),p=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}function Qi(I){const f=I.indexOf(":");return f<0?"":I.substr(0,f+1)}function pr(I){if(!I)return null;const f=Number(I);return isNaN(f)?null:f}class qr{constructor(f,p){this.providerId=f,this.signInMethod=p}toJSON(){return He("not implemented")}_getIdTokenResponse(f){return He("not implemented")}_linkToIdToken(f,p){return He("not implemented")}_getReauthenticationResolver(f){return He("not implemented")}}function Di(I,f){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,y.Z)(function*(I,f){return en(I,"POST","/v1/accounts:resetPassword",dn(I,f))})).apply(this,arguments)}function Qs(I,f){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,y.Z)(function*(I,f){return en(I,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Ha(I,f){return Br.apply(this,arguments)}function Br(){return(Br=(0,y.Z)(function*(I,f){return en(I,"POST","/v1/accounts:update",dn(I,f))})).apply(this,arguments)}function ji(){return(ji=(0,y.Z)(function*(I,f){return mn(I,"POST","/v1/accounts:signInWithPassword",dn(I,f))})).apply(this,arguments)}function Hi(I,f){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,y.Z)(function*(I,f){return en(I,"POST","/v1/accounts:sendOobCode",dn(I,f))})).apply(this,arguments)}function Ne(I,f){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,y.Z)(function*(I,f){return Hi(I,f)})).apply(this,arguments)}function pt(I,f){return bt.apply(this,arguments)}function bt(){return(bt=(0,y.Z)(function*(I,f){return Hi(I,f)})).apply(this,arguments)}function jt(I,f){return kn.apply(this,arguments)}function kn(){return(kn=(0,y.Z)(function*(I,f){return Hi(I,f)})).apply(this,arguments)}function zr(I,f){return ir.apply(this,arguments)}function ir(){return(ir=(0,y.Z)(function*(I,f){return Hi(I,f)})).apply(this,arguments)}function Js(){return(Js=(0,y.Z)(function*(I,f){return mn(I,"POST","/v1/accounts:signInWithEmailLink",dn(I,f))})).apply(this,arguments)}function Xs(){return(Xs=(0,y.Z)(function*(I,f){return mn(I,"POST","/v1/accounts:signInWithEmailLink",dn(I,f))})).apply(this,arguments)}class Ci extends qr{constructor(f,p,T,W=null){super("password",T),this._email=f,this._password=p,this._tenantId=W}static _fromEmailAndPassword(f,p){return new Ci(f,p,"password")}static _fromEmailAndCode(f,p,T=null){return new Ci(f,p,"emailLink",T)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(f){var p=this;return(0,y.Z)(function*(){switch(p.signInMethod){case"password":return function _o(I,f){return ji.apply(this,arguments)}(f,{returnSecureToken:!0,email:p._email,password:p._password});case"emailLink":return function Or(I,f){return Js.apply(this,arguments)}(f,{email:p._email,oobCode:p._password});default:ft(f,"internal-error")}})()}_linkToIdToken(f,p){var T=this;return(0,y.Z)(function*(){switch(T.signInMethod){case"password":return Qs(f,{idToken:p,returnSecureToken:!0,email:T._email,password:T._password});case"emailLink":return function eu(I,f){return Xs.apply(this,arguments)}(f,{idToken:p,email:T._email,oobCode:T._password});default:ft(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function eo(I,f){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,y.Z)(function*(I,f){return mn(I,"POST","/v1/accounts:signInWithIdp",dn(I,f))})).apply(this,arguments)}class Ps extends qr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const p=new Ps(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(p.idToken=f.idToken),f.accessToken&&(p.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(p.nonce=f.nonce),f.pendingToken&&(p.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(p.accessToken=f.oauthToken,p.secret=f.oauthTokenSecret):ft("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f,{providerId:T,signInMethod:W}=p,ee=(0,ue._T)(p,["providerId","signInMethod"]);if(!T||!W)return null;const je=new Ps(T,W);return je.idToken=ee.idToken||void 0,je.accessToken=ee.accessToken||void 0,je.secret=ee.secret,je.nonce=ee.nonce,je.pendingToken=ee.pendingToken||null,je}_getIdTokenResponse(f){return eo(f,this.buildRequest())}_linkToIdToken(f,p){const T=this.buildRequest();return T.idToken=p,eo(f,T)}_getReauthenticationResolver(f){const p=this.buildRequest();return p.autoCreate=!1,eo(f,p)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),f.postBody=(0,E.xO)(p)}return f}}function yu(I,f){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,y.Z)(function*(I,f){return en(I,"POST","/v1/accounts:sendVerificationCode",dn(I,f))})).apply(this,arguments)}function Ai(){return(Ai=(0,y.Z)(function*(I,f){return mn(I,"POST","/v1/accounts:signInWithPhoneNumber",dn(I,f))})).apply(this,arguments)}function to(){return(to=(0,y.Z)(function*(I,f){const p=yield mn(I,"POST","/v1/accounts:signInWithPhoneNumber",dn(I,f));if(p.temporaryProof)throw Mn(I,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const za={USER_NOT_FOUND:"user-not-found"};function no(){return(no=(0,y.Z)(function*(I,f){return mn(I,"POST","/v1/accounts:signInWithPhoneNumber",dn(I,Object.assign(Object.assign({},f),{operation:"REAUTH"})),za)})).apply(this,arguments)}class wo extends qr{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,p){return new wo({verificationId:f,verificationCode:p})}static _fromTokenResponse(f,p){return new wo({phoneNumber:f,temporaryProof:p})}_getIdTokenResponse(f){return function Ca(I,f){return Ai.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,p){return function Ni(I,f){return to.apply(this,arguments)}(f,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Nu(I,f){return no.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:p,verificationId:T,verificationCode:W}=this.params;return f&&p?{temporaryProof:f,phoneNumber:p}:{sessionInfo:T,code:W}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:p,verificationCode:T,phoneNumber:W,temporaryProof:ee}=f;return T||p||W||ee?new wo({verificationId:p,verificationCode:T,phoneNumber:W,temporaryProof:ee}):null}}class Xi{constructor(f){var p,T,W,ee,je,wt;const on=(0,E.zd)((0,E.pd)(f)),ht=null!==(p=on.apiKey)&&void 0!==p?p:null,gt=null!==(T=on.oobCode)&&void 0!==T?T:null,Xt=function Wa(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(W=on.mode)&&void 0!==W?W:null);Oe(ht&&gt&&Xt,"argument-error"),this.apiKey=ht,this.operation=Xt,this.code=gt,this.continueUrl=null!==(ee=on.continueUrl)&&void 0!==ee?ee:null,this.languageCode=null!==(je=on.languageCode)&&void 0!==je?je:null,this.tenantId=null!==(wt=on.tenantId)&&void 0!==wt?wt:null}static parseLink(f){const p=function ua(I){const f=(0,E.zd)((0,E.pd)(I)).link,p=f?(0,E.zd)((0,E.pd)(f)).deep_link_id:null,T=(0,E.zd)((0,E.pd)(I)).deep_link_id;return(T?(0,E.zd)((0,E.pd)(T)).link:null)||T||p||f||I}(f);try{return new Xi(p)}catch{return null}}}let io=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(p,T){return Ci._fromEmailAndPassword(p,T)}static credentialWithLink(p,T){const W=Xi.parseLink(T);return Oe(W,"argument-error"),Ci._fromEmailAndCode(p,W.code,W.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class ti{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class so extends ti{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class gr extends so{static credentialFromJSON(f){const p="string"==typeof f?JSON.parse(f):f;return Oe("providerId"in p&&"signInMethod"in p,"argument-error"),Ps._fromParams(p)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return Oe(f.idToken||f.accessToken,"argument-error"),Ps._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return gr.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return gr.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:p,oauthAccessToken:T,oauthTokenSecret:W,pendingToken:ee,nonce:je,providerId:wt}=f;if(!T&&!W&&!p&&!ee||!wt)return null;try{return new gr(wt)._credential({idToken:p,accessToken:T,nonce:je,pendingToken:ee})}catch{return null}}}let oo=(()=>{class I extends so{constructor(){super("facebook.com")}static credential(p){return Ps._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return I.credentialFromTaggedObject(p)}static credentialFromError(p){return I.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return I.credential(p.oauthAccessToken)}catch{return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),Do=(()=>{class I extends so{constructor(){super("google.com"),this.addScope("profile")}static credential(p,T){return Ps._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:T})}static credentialFromResult(p){return I.credentialFromTaggedObject(p)}static credentialFromError(p){return I.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:T,oauthAccessToken:W}=p;if(!T&&!W)return null;try{return I.credential(T,W)}catch{return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),Uo=(()=>{class I extends so{constructor(){super("github.com")}static credential(p){return Ps._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return I.credentialFromTaggedObject(p)}static credentialFromError(p){return I.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return I.credential(p.oauthAccessToken)}catch{return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class Io extends qr{constructor(f,p){super(f,f),this.pendingToken=p}_getIdTokenResponse(f){return eo(f,this.buildRequest())}_linkToIdToken(f,p){const T=this.buildRequest();return T.idToken=p,eo(f,T)}_getReauthenticationResolver(f){const p=this.buildRequest();return p.autoCreate=!1,eo(f,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f,{providerId:T,signInMethod:W,pendingToken:ee}=p;return T&&W&&ee&&T===W?new Io(T,ee):null}static _create(f,p){return new Io(f,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class es extends ti{constructor(f){Oe(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return es.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return es.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const p=Io.fromJSON(f);return Oe(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:p,providerId:T}=f;if(!p||!T)return null;try{return Io._create(T,p)}catch{return null}}}let Os=(()=>{class I extends so{constructor(){super("twitter.com")}static credential(p,T){return Ps._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:T})}static credentialFromResult(p){return I.credentialFromTaggedObject(p)}static credentialFromError(p){return I.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:T,oauthTokenSecret:W}=p;if(!T||!W)return null;try{return I.credential(T,W)}catch{return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function ts(I,f){return ki.apply(this,arguments)}function ki(){return(ki=(0,y.Z)(function*(I,f){return mn(I,"POST","/v1/accounts:signUp",dn(I,f))})).apply(this,arguments)}class Yr{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,p,T,W=!1){return(0,y.Z)(function*(){const ee=yield st._fromIdTokenResponse(f,T,W),je=bo(T);return new Yr({user:ee,providerId:je,_tokenResponse:T,operationType:p})})()}static _forOperation(f,p,T){return(0,y.Z)(function*(){yield f._updateTokensIfNecessary(T,!0);const W=bo(T);return new Yr({user:f,providerId:W,_tokenResponse:T,operationType:p})})()}}function bo(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function _u(I){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,y.Z)(function*(I){var f;const p=sn(I);if(yield p._initializationPromise,null!==(f=p.currentUser)&&void 0!==f&&f.isAnonymous)return new Yr({user:p.currentUser,providerId:null,operationType:"signIn"});const T=yield ts(p,{returnSecureToken:!0}),W=yield Yr._fromIdTokenResponse(p,"signIn",T,!0);return yield p._updateCurrentUser(W.user),W})).apply(this,arguments)}class Er extends E.ZR{constructor(f,p,T,W){var ee;super(p.code,p.message),this.operationType=T,this.user=W,Object.setPrototypeOf(this,Er.prototype),this.customData={appName:f.name,tenantId:null!==(ee=f.tenantId)&&void 0!==ee?ee:void 0,_serverResponse:p.customData._serverResponse,operationType:T}}static _fromErrorAndOperation(f,p,T,W){return new Er(f,p,T,W)}}function Ga(I,f,p,T){return("reauthenticate"===f?p._getReauthenticationResolver(I):p._getIdTokenResponse(I)).catch(ee=>{throw"auth/multi-factor-auth-required"===ee.code?Er._fromErrorAndOperation(I,ee,f,T):ee})}function ku(I){return new Set(I.map(({providerId:f})=>f).filter(f=>!!f))}function Ds(I,f){return Li.apply(this,arguments)}function Li(){return(Li=(0,y.Z)(function*(I,f){const p=(0,E.m9)(I);yield ps(!0,p,f);const{providerUserInfo:T}=yield Ut(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[f]}),W=ku(T||[]);return p.providerData=p.providerData.filter(ee=>W.has(ee.providerId)),W.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p})).apply(this,arguments)}function xa(I,f){return ao.apply(this,arguments)}function ao(){return(ao=(0,y.Z)(function*(I,f,p=!1){const T=yield ln(I,f._linkToIdToken(I.auth,yield I.getIdToken()),p);return Yr._forOperation(I,"link",T)})).apply(this,arguments)}function ps(I,f,p){return lr.apply(this,arguments)}function lr(){return(lr=(0,y.Z)(function*(I,f,p){yield Pr(f);const W=!1===I?"provider-already-linked":"no-such-provider";Oe(ku(f.providerData).has(p)===I,f.auth,W)})).apply(this,arguments)}function Ra(I,f){return Is.apply(this,arguments)}function Is(){return(Is=(0,y.Z)(function*(I,f,p=!1){var T;const{auth:W}=I,ee="reauthenticate";try{const je=yield ln(I,Ga(W,ee,f,I),p);Oe(je.idToken,W,"internal-error");const wt=Gt(je.idToken);Oe(wt,W,"internal-error");const{sub:on}=wt;return Oe(I.uid===on,W,"user-mismatch"),Yr._forOperation(I,ee,je)}catch(je){throw"auth/user-not-found"===(null===(T=je)||void 0===T?void 0:T.code)&&ft(W,"user-mismatch"),je}})).apply(this,arguments)}function _i(I,f){return zi.apply(this,arguments)}function zi(){return(zi=(0,y.Z)(function*(I,f,p=!1){const T="signIn",W=yield Ga(I,T,f),ee=yield Yr._fromIdTokenResponse(I,T,W);return p||(yield I._updateCurrentUser(ee.user)),ee})).apply(this,arguments)}function Ns(I,f){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,y.Z)(function*(I,f){return _i(sn(I),f)})).apply(this,arguments)}function An(I,f){return bs.apply(this,arguments)}function bs(){return(bs=(0,y.Z)(function*(I,f){const p=(0,E.m9)(I);return yield ps(!1,p,f.providerId),xa(p,f)})).apply(this,arguments)}function Bo(I,f){return So.apply(this,arguments)}function So(){return(So=(0,y.Z)(function*(I,f){return Ra((0,E.m9)(I),f)})).apply(this,arguments)}function Pa(I,f){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,y.Z)(function*(I,f){return mn(I,"POST","/v1/accounts:signInWithCustomToken",dn(I,f))})).apply(this,arguments)}function Mi(I,f){return la.apply(this,arguments)}function la(){return(la=(0,y.Z)(function*(I,f){const p=sn(I),T=yield Pa(p,{token:f,returnSecureToken:!0}),W=yield Yr._fromIdTokenResponse(p,"signIn",T);return yield p._updateCurrentUser(W.user),W})).apply(this,arguments)}class Dr{constructor(f,p){this.factorId=f,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(f,p){return"phoneInfo"in p?Et._fromServerResponse(f,p):ft(f,"internal-error")}}class Et extends Dr{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,p){return new Et(p)}}function Bn(I,f,p){var T;Oe((null===(T=p.url)||void 0===T?void 0:T.length)>0,I,"invalid-continue-uri"),Oe(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),f.continueUrl=p.url,f.dynamicLinkDomain=p.dynamicLinkDomain,f.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(Oe(p.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),f.iOSBundleId=p.iOS.bundleId),p.android&&(Oe(p.android.packageName.length>0,I,"missing-android-pkg-name"),f.androidInstallApp=p.android.installApp,f.androidMinimumVersionCode=p.android.minimumVersion,f.androidPackageName=p.android.packageName)}function nu(I,f,p){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,y.Z)(function*(I,f,p){const T=(0,E.m9)(I),W={requestType:"PASSWORD_RESET",email:f};p&&Bn(T,W,p),yield pt(T,W)})).apply(this,arguments)}function ni(I,f,p){return To.apply(this,arguments)}function To(){return(To=(0,y.Z)(function*(I,f,p){yield Di((0,E.m9)(I),{oobCode:f,newPassword:p})})).apply(this,arguments)}function Qo(I,f){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,y.Z)(function*(I,f){yield Ha((0,E.m9)(I),{oobCode:f})})).apply(this,arguments)}function ca(I,f){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,y.Z)(function*(I,f){const p=(0,E.m9)(I),T=yield Di(p,{oobCode:f}),W=T.requestType;switch(Oe(W,p,"internal-error"),W){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Oe(T.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Oe(T.mfaInfo,p,"internal-error");default:Oe(T.email,p,"internal-error")}let ee=null;return T.mfaInfo&&(ee=Dr._fromServerResponse(sn(p),T.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.newEmail:T.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.email:T.newEmail)||null,multiFactorInfo:ee},operation:W}})).apply(this,arguments)}function da(I,f){return ks.apply(this,arguments)}function ks(){return(ks=(0,y.Z)(function*(I,f){const{data:p}=yield ca((0,E.m9)(I),f);return p.email})).apply(this,arguments)}function Co(I,f,p){return gs.apply(this,arguments)}function gs(){return(gs=(0,y.Z)(function*(I,f,p){const T=sn(I),W=yield ts(T,{returnSecureToken:!0,email:f,password:p}),ee=yield Yr._fromIdTokenResponse(T,"signIn",W);return yield T._updateCurrentUser(ee.user),ee})).apply(this,arguments)}function ri(I,f,p){return Ns((0,E.m9)(I),io.credential(f,p))}function ns(I,f,p){return uo.apply(this,arguments)}function uo(){return(uo=(0,y.Z)(function*(I,f,p){const T=(0,E.m9)(I),W={requestType:"EMAIL_SIGNIN",email:f};Oe(p.handleCodeInApp,T,"argument-error"),p&&Bn(T,W,p),yield jt(T,W)})).apply(this,arguments)}function $o(I,f){return"EMAIL_SIGNIN"===Xi.parseLink(f)?.operation}function rs(I,f,p){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,y.Z)(function*(I,f,p){const T=(0,E.m9)(I),W=io.credentialWithLink(f,p||at());return Oe(W._tenantId===(T.tenantId||null),T,"tenant-id-mismatch"),Ns(T,W)})).apply(this,arguments)}function ha(I,f){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,y.Z)(function*(I,f){return en(I,"POST","/v1/accounts:createAuthUri",dn(I,f))})).apply(this,arguments)}function Oa(I,f){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,y.Z)(function*(I,f){const T={identifier:f,continueUri:Be()?at():"http://localhost"},{signinMethods:W}=yield ha((0,E.m9)(I),T);return W||[]})).apply(this,arguments)}function Mo(I,f){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,y.Z)(function*(I,f){const p=(0,E.m9)(I),W={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};f&&Bn(p.auth,W,f);const{email:ee}=yield Ne(p.auth,W);ee!==I.email&&(yield I.reload())})).apply(this,arguments)}function Wi(I,f,p){return is.apply(this,arguments)}function is(){return(is=(0,y.Z)(function*(I,f,p){const T=(0,E.m9)(I),ee={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:f};p&&Bn(T.auth,ee,p);const{email:je}=yield zr(T.auth,ee);je!==I.email&&(yield I.reload())})).apply(this,arguments)}function Xo(I,f){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,y.Z)(function*(I,f){return en(I,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Fs(I,f){return gi.apply(this,arguments)}function gi(){return(gi=(0,y.Z)(function*(I,{displayName:f,photoURL:p}){if(void 0===f&&void 0===p)return;const T=(0,E.m9)(I),ee={idToken:yield T.getIdToken(),displayName:f,photoUrl:p,returnSecureToken:!0},je=yield ln(T,Xo(T.auth,ee));T.displayName=je.displayName||null,T.photoURL=je.photoUrl||null;const wt=T.providerData.find(({providerId:on})=>"password"===on);wt&&(wt.displayName=T.displayName,wt.photoURL=T.photoURL),yield T._updateTokensIfNecessary(je)})).apply(this,arguments)}function jo(I,f){return H((0,E.m9)(I),f,null)}function M(I,f){return H((0,E.m9)(I),null,f)}function H(I,f,p){return N.apply(this,arguments)}function N(){return(N=(0,y.Z)(function*(I,f,p){const{auth:T}=I,ee={idToken:yield I.getIdToken(),returnSecureToken:!0};f&&(ee.email=f),p&&(ee.password=p);const je=yield ln(I,Qs(T,ee));yield I._updateTokensIfNecessary(je,!0)})).apply(this,arguments)}class Ee{constructor(f,p,T={}){this.isNewUser=f,this.providerId=p,this.profile=T}}class ot extends Ee{constructor(f,p,T,W){super(f,p,T),this.username=W}}class ct extends Ee{constructor(f,p){super(f,"facebook.com",p)}}class Jt extends ot{constructor(f,p){super(f,"github.com",p,"string"==typeof p?.login?p?.login:null)}}class dr extends Ee{constructor(f,p){super(f,"google.com",p)}}class hr extends ot{constructor(f,p,T){super(f,"twitter.com",p,T)}}function mr(I){const{user:f,_tokenResponse:p}=I;return f.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function Z(I){var f,p;if(!I)return null;const{providerId:T}=I,W=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},ee=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!T&&I?.idToken){const je=null===(p=null===(f=Gt(I.idToken))||void 0===f?void 0:f.firebase)||void 0===p?void 0:p.sign_in_provider;if(je)return new Ee(ee,"anonymous"!==je&&"custom"!==je?je:null)}if(!T)return null;switch(T){case"facebook.com":return new ct(ee,W);case"github.com":return new Jt(ee,W);case"google.com":return new dr(ee,W);case"twitter.com":return new hr(ee,W,I.screenName||null);case"custom":case"anonymous":return new Ee(ee,null);default:return new Ee(ee,T,W)}}(p)}class ai{constructor(f,p,T){this.type=f,this.credential=p,this.auth=T}static _fromIdtoken(f,p){return new ai("enroll",f,p)}static _fromMfaPendingCredential(f){return new ai("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var p,T;if(f?.multiFactorSession){if(null!==(p=f.multiFactorSession)&&void 0!==p&&p.pendingCredential)return ai._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(T=f.multiFactorSession)&&void 0!==T&&T.idToken)return ai._fromIdtoken(f.multiFactorSession.idToken)}return null}}class xo{constructor(f,p,T){this.session=f,this.hints=p,this.signInResolver=T}static _fromError(f,p){const T=sn(f),W=p.customData._serverResponse,ee=(W.mfaInfo||[]).map(wt=>Dr._fromServerResponse(T,wt));Oe(W.mfaPendingCredential,T,"internal-error");const je=ai._fromMfaPendingCredential(W.mfaPendingCredential);return new xo(je,ee,function(){var wt=(0,y.Z)(function*(on){const ht=yield on._process(T,je);delete W.mfaInfo,delete W.mfaPendingCredential;const gt=Object.assign(Object.assign({},W),{idToken:ht.idToken,refreshToken:ht.refreshToken});switch(p.operationType){case"signIn":const Xt=yield Yr._fromIdTokenResponse(T,p.operationType,gt);return yield T._updateCurrentUser(Xt.user),Xt;case"reauthenticate":return Oe(p.user,T,"internal-error"),Yr._forOperation(p.user,p.operationType,gt);default:ft(T,"internal-error")}});return function(on){return wt.apply(this,arguments)}}())}resolveSignIn(f){var p=this;return(0,y.Z)(function*(){return p.signInResolver(f)})()}}function Mt(I,f){var p;const T=(0,E.m9)(I),W=f;return Oe(f.customData.operationType,T,"argument-error"),Oe(null===(p=W.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,T,"argument-error"),xo._fromError(T,W)}function Vn(I,f){return en(I,"POST","/v2/accounts/mfaEnrollment:start",dn(I,f))}class nn{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(T=>Dr._fromServerResponse(f.auth,T)))})}static _fromUser(f){return new nn(f)}getSession(){var f=this;return(0,y.Z)(function*(){return ai._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,p){var T=this;return(0,y.Z)(function*(){const W=f,ee=yield T.getSession(),je=yield ln(T.user,W._process(T.user.auth,ee,p));return yield T.user._updateTokensIfNecessary(je),T.user.reload()})()}unenroll(f){var p=this;return(0,y.Z)(function*(){var T;const W="string"==typeof f?f:f.uid,ee=yield p.user.getIdToken(),je=yield ln(p.user,function Cs(I,f){return en(I,"POST","/v2/accounts/mfaEnrollment:withdraw",dn(I,f))}(p.user.auth,{idToken:ee,mfaEnrollmentId:W}));p.enrolledFactors=p.enrolledFactors.filter(({uid:wt})=>wt!==W),yield p.user._updateTokensIfNecessary(je);try{yield p.user.reload()}catch(wt){if("auth/user-token-expired"!==(null===(T=wt)||void 0===T?void 0:T.code))throw wt}})()}}const wn=new WeakMap;function Eu(I){const f=(0,E.m9)(I);return wn.has(f)||wn.set(f,nn._fromUser(f)),wn.get(f)}const Lt="__sak";class lt{constructor(f,p){this.storageRetriever=f,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(Lt,"1"),this.storage.removeItem(Lt),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,p){return this.storage.setItem(f,JSON.stringify(p)),Promise.resolve()}_get(f){const p=this.storage.getItem(f);return Promise.resolve(p?JSON.parse(p):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const ui=(()=>{class I extends lt{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,T)=>this.onStorageEvent(p,T),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function At(){const I=(0,E.z$)();return le(I)||oe(I)}()&&function Cn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Bt(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const T of Object.keys(this.listeners)){const W=this.storage.getItem(T),ee=this.localCache[T];W!==ee&&p(T,ee,W)}}onStorageEvent(p,T=!1){if(!p.key)return void this.forAllChangedKeys((wt,on,ht)=>{this.notifyListeners(wt,ht)});const W=p.key;if(T?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const wt=this.storage.getItem(W);if(p.newValue!==wt)null!==p.newValue?this.storage.setItem(W,p.newValue):this.storage.removeItem(W);else if(this.localCache[W]===p.newValue&&!T)return}const ee=()=>{const wt=this.storage.getItem(W);!T&&this.localCache[W]===wt||this.notifyListeners(W,wt)},je=this.storage.getItem(W);!function Qe(){return(0,E.w1)()&&10===document.documentMode}()||je===p.newValue||p.newValue===p.oldValue?ee():setTimeout(ee,10)}notifyListeners(p,T){this.localCache[p]=T;const W=this.listeners[p];if(W)for(const ee of Array.from(W))ee(T&&JSON.parse(T))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,T,W)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:T,newValue:W}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,T){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(T)}_removeListener(p,T){this.listeners[p]&&(this.listeners[p].delete(T),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,T){var W=()=>super._set,ee=this;return(0,y.Z)(function*(){yield W().call(ee,p,T),ee.localCache[p]=JSON.stringify(T)})()}_get(p){var T=()=>super._get,W=this;return(0,y.Z)(function*(){const ee=yield T().call(W,p);return W.localCache[p]=JSON.stringify(ee),ee})()}_remove(p){var T=()=>super._remove,W=this;return(0,y.Z)(function*(){yield T().call(W,p),delete W.localCache[p]})()}}return I.type="LOCAL",I})(),vs=(()=>{class I extends lt{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,T){}_removeListener(p,T){}}return I.type="SESSION",I})();let fa=(()=>{class I{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const T=this.receivers.find(ee=>ee.isListeningto(p));if(T)return T;const W=new I(p);return this.receivers.push(W),W}isListeningto(p){return this.eventTarget===p}handleEvent(p){var T=this;return(0,y.Z)(function*(){const W=p,{eventId:ee,eventType:je,data:wt}=W.data,on=T.handlersMap[je];if(!on?.size)return;W.ports[0].postMessage({status:"ack",eventId:ee,eventType:je});const ht=Array.from(on).map(function(){var Xt=(0,y.Z)(function*(Wn){return Wn(W.origin,wt)});return function(Wn){return Xt.apply(this,arguments)}}()),gt=yield function ea(I){return Promise.all(I.map(function(){var f=(0,y.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(T){return{fulfilled:!1,reason:T}}});return function(p){return f.apply(this,arguments)}}()))}(ht);W.ports[0].postMessage({status:"done",eventId:ee,eventType:je,response:gt})})()}_subscribe(p,T){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(T)}_unsubscribe(p,T){this.handlersMap[p]&&T&&this.handlersMap[p].delete(T),(!T||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function pa(I="",f=10){let p="";for(let T=0;T<f;T++)p+=Math.floor(10*Math.random());return I+p}class wu{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,p,T=50){var W=this;return(0,y.Z)(function*(){const ee=typeof MessageChannel<"u"?new MessageChannel:null;if(!ee)throw new Error("connection_unavailable");let je,wt;return new Promise((on,ht)=>{const gt=pa("",20);ee.port1.start();const Xt=setTimeout(()=>{ht(new Error("unsupported_event"))},T);wt={messageChannel:ee,onMessage(Wn){const Ur=Wn;if(Ur.data.eventId===gt)switch(Ur.data.status){case"ack":clearTimeout(Xt),je=setTimeout(()=>{ht(new Error("timeout"))},3e3);break;case"done":clearTimeout(je),on(Ur.data.response);break;default:clearTimeout(Xt),clearTimeout(je),ht(new Error("invalid_response"))}}},W.handlers.add(wt),ee.port1.addEventListener("message",wt.onMessage),W.target.postMessage({eventType:f,eventId:gt,data:p},[ee.port2])}).finally(()=>{wt&&W.removeMessageHandler(wt)})})()}}function br(){return window}function hn(){return typeof br().WorkerGlobalScope<"u"&&"function"==typeof br().importScripts}function co(){return(co=(0,y.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const li="firebaseLocalStorageDb",ta="firebaseLocalStorage",Sr="fbase_key";class Vt{constructor(f){this.request=f}toPromise(){return new Promise((f,p)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function Vs(I,f){return I.transaction([ta],f?"readwrite":"readonly").objectStore(ta)}function ho(){const I=indexedDB.open(li,1);return new Promise((f,p)=>{I.addEventListener("error",()=>{p(I.error)}),I.addEventListener("upgradeneeded",()=>{const T=I.result;try{T.createObjectStore(ta,{keyPath:Sr})}catch(W){p(W)}}),I.addEventListener("success",(0,y.Z)(function*(){const T=I.result;T.objectStoreNames.contains(ta)?f(T):(T.close(),yield function ci(){const I=indexedDB.deleteDatabase(li);return new Vt(I).toPromise()}(),f(yield ho()))}))})}function Na(I,f,p){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,y.Z)(function*(I,f,p){const T=Vs(I,!0).put({[Sr]:f,value:p});return new Vt(T).toPromise()})).apply(this,arguments)}function fo(){return(fo=(0,y.Z)(function*(I,f){const p=Vs(I,!1).get(f),T=yield new Vt(p).toPromise();return void 0===T?null:T.value})).apply(this,arguments)}function ma(I,f){const p=Vs(I,!0).delete(f);return new Vt(p).toPromise()}const Ho=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,y.Z)(function*(){return p.db||(p.db=yield ho()),p.db})()}_withRetries(p){var T=this;return(0,y.Z)(function*(){let W=0;for(;;)try{const ee=yield T._openDb();return yield p(ee)}catch(ee){if(W++>3)throw ee;T.db&&(T.db.close(),T.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,y.Z)(function*(){return hn()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,y.Z)(function*(){p.receiver=fa._getInstance(function _n(){return hn()?self:null}()),p.receiver._subscribe("keyChanged",function(){var T=(0,y.Z)(function*(W,ee){return{keyProcessed:(yield p._poll()).includes(ee.key)}});return function(W,ee){return T.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var T=(0,y.Z)(function*(W,ee){return["keyChanged"]});return function(W,ee){return T.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,y.Z)(function*(){var T,W;if(p.activeServiceWorker=yield function Bs(){return co.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new wu(p.activeServiceWorker);const ee=yield p.sender._send("ping",{},800);!ee||(null===(T=ee[0])||void 0===T?void 0:T.fulfilled)&&(null===(W=ee[0])||void 0===W?void 0:W.value.includes("keyChanged"))&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var T=this;return(0,y.Z)(function*(){if(T.sender&&T.activeServiceWorker&&function Vr(){var I;return(null===(I=navigator?.serviceWorker)||void 0===I?void 0:I.controller)||null}()===T.activeServiceWorker)try{yield T.sender._send("keyChanged",{key:p},T.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,y.Z)(function*(){try{if(!indexedDB)return!1;const p=yield ho();return yield Na(p,Lt,"1"),yield ma(p,Lt),!0}catch{}return!1})()}_withPendingWrite(p){var T=this;return(0,y.Z)(function*(){T.pendingWrites++;try{yield p()}finally{T.pendingWrites--}})()}_set(p,T){var W=this;return(0,y.Z)(function*(){return W._withPendingWrite((0,y.Z)(function*(){return yield W._withRetries(ee=>Na(ee,p,T)),W.localCache[p]=T,W.notifyServiceWorker(p)}))})()}_get(p){var T=this;return(0,y.Z)(function*(){const W=yield T._withRetries(ee=>function qa(I,f){return fo.apply(this,arguments)}(ee,p));return T.localCache[p]=W,W})()}_remove(p){var T=this;return(0,y.Z)(function*(){return T._withPendingWrite((0,y.Z)(function*(){return yield T._withRetries(W=>ma(W,p)),delete T.localCache[p],T.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,y.Z)(function*(){const T=yield p._withRetries(je=>{const wt=Vs(je,!1).getAll();return new Vt(wt).toPromise()});if(!T)return[];if(0!==p.pendingWrites)return[];const W=[],ee=new Set;for(const{fbase_key:je,value:wt}of T)ee.add(je),JSON.stringify(p.localCache[je])!==JSON.stringify(wt)&&(p.notifyListeners(je,wt),W.push(je));for(const je of Object.keys(p.localCache))p.localCache[je]&&!ee.has(je)&&(p.notifyListeners(je,null),W.push(je));return W})()}notifyListeners(p,T){this.localCache[p]=T;const W=this.listeners[p];if(W)for(const ee of Array.from(W))ee(T)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,y.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,T){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(T)}_removeListener(p,T){this.listeners[p]&&(this.listeners[p].delete(T),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})();function Ya(I,f){return en(I,"POST","/v2/accounts/mfaSignIn:start",dn(I,f))}function qe(){return(qe=(0,y.Z)(function*(I){return(yield en(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Xr(I){return new Promise((f,p)=>{const T=document.createElement("script");T.setAttribute("src",I),T.onload=f,T.onerror=W=>{const ee=Ue("internal-error");ee.customData=W,p(ee)},T.type="text/javascript",T.charset="UTF-8",function $s(){var I,f;return null!==(f=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==f?f:document}().appendChild(T)})}function zo(I){return`__${I}${Math.floor(1e6*Math.random())}`}const bi=1e12;class _s{constructor(f){this.auth=f,this.counter=bi,this._widgets=new Map}render(f,p){const T=this.counter;return this._widgets.set(T,new Tr(f,this.auth.name,p||{})),this.counter++,T}reset(f){var p;const T=f||bi;null===(p=this._widgets.get(T))||void 0===p||p.delete(),this._widgets.delete(T)}getResponse(f){var p;return(null===(p=this._widgets.get(f||bi))||void 0===p?void 0:p.getResponse())||""}execute(f){var p=this;return(0,y.Z)(function*(){var T;return null===(T=p._widgets.get(f||bi))||void 0===T||T.execute(),""})()}}class Tr{constructor(f,p,T){this.params=T,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const W="string"==typeof f?document.getElementById(f):f;Oe(W,"argument-error",{appName:p}),this.container=W,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ka(I){const f=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let T=0;T<I;T++)f.push(p.charAt(Math.floor(Math.random()*p.length)));return f.join("")}(50);const{callback:f,"expired-callback":p}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Du=zo("rcb"),Qu=new mt(3e4,6e4);class Ju{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=br().grecaptcha)||void 0===f||!f.render)}load(f,p=""){return Oe(function js(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(p),f,"argument-error"),this.shouldResolveImmediately(p)?Promise.resolve(br().grecaptcha):new Promise((T,W)=>{const ee=br().setTimeout(()=>{W(Ue(f,"network-request-failed"))},Qu.get());br()[Du]=()=>{br().clearTimeout(ee),delete br()[Du];const wt=br().grecaptcha;if(!wt)return void W(Ue(f,"internal-error"));const on=wt.render;wt.render=(ht,gt)=>{const Xt=on(ht,gt);return this.counter++,Xt},this.hostLanguage=p,T(wt)},Xr(`https://www.google.com/recaptcha/api.js??${(0,E.xO)({onload:Du,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(ee),W(Ue(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var p;return!(null===(p=br().grecaptcha)||void 0===p||!p.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Lu{load(f){return(0,y.Z)(function*(){return new _s(f)})()}clearedOneInstance(){}}const kr="recaptcha",La={theme:"light",type:"image"};class xi{constructor(f,p=Object.assign({},La),T){this.parameters=p,this.type=kr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=sn(T),this.isInvisible="invisible"===this.parameters.size,Oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const W="string"==typeof f?document.getElementById(f):f;Oe(W,this.auth,"argument-error"),this.container=W,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Lu:new Ju,this.validateStartingState()}verify(){var f=this;return(0,y.Z)(function*(){f.assertNotDestroyed();const p=yield f.render(),T=f.getAssertedRecaptcha();return T.getResponse(p)||new Promise(ee=>{const je=wt=>{!wt||(f.tokenChangeListeners.delete(je),ee(wt))};f.tokenChangeListeners.add(je),f.isInvisible&&T.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){Oe(!this.parameters.sitekey,this.auth,"argument-error"),Oe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return p=>{if(this.tokenChangeListeners.forEach(T=>T(p)),"function"==typeof f)f(p);else if("string"==typeof f){const T=br()[f];"function"==typeof T&&T(p)}}}assertNotDestroyed(){Oe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,y.Z)(function*(){if(yield f.init(),!f.widgetId){let p=f.container;if(!f.isInvisible){const T=document.createElement("div");p.appendChild(T),p=T}f.widgetId=f.getAssertedRecaptcha().render(p,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,y.Z)(function*(){Oe(Be()&&!hn(),f.auth,"internal-error"),yield function xn(){let I=null;return new Promise(f=>{"complete"!==document.readyState?(I=()=>f(),window.addEventListener("load",I)):f()}).catch(f=>{throw I&&window.removeEventListener("load",I),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const p=yield function Ro(I){return qe.apply(this,arguments)}(f.auth);Oe(p,f.auth,"internal-error"),f.parameters.sitekey=p})()}getAssertedRecaptcha(){return Oe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ya{constructor(f,p){this.verificationId=f,this.onConfirmation=p}confirm(f){const p=wo._fromVerification(this.verificationId,f);return this.onConfirmation(p)}}function po(I,f,p){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,y.Z)(function*(I,f,p){const T=sn(I),W=yield Lr(T,f,(0,E.m9)(p));return new ya(W,ee=>Ns(T,ee))})).apply(this,arguments)}function Fu(I,f,p){return cr.apply(this,arguments)}function cr(){return(cr=(0,y.Z)(function*(I,f,p){const T=(0,E.m9)(I);yield ps(!1,T,"phone");const W=yield Lr(T.auth,f,(0,E.m9)(p));return new ya(W,ee=>An(T,ee))})).apply(this,arguments)}function Po(I,f,p){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,y.Z)(function*(I,f,p){const T=(0,E.m9)(I),W=yield Lr(T.auth,f,(0,E.m9)(p));return new ya(W,ee=>Bo(T,ee))})).apply(this,arguments)}function Lr(I,f,p){return D.apply(this,arguments)}function D(){return(D=(0,y.Z)(function*(I,f,p){var T;const W=yield p.verify();try{let ee;if(Oe("string"==typeof W,I,"argument-error"),Oe(p.type===kr,I,"argument-error"),ee="string"==typeof f?{phoneNumber:f}:f,"session"in ee){const je=ee.session;if("phoneNumber"in ee)return Oe("enroll"===je.type,I,"internal-error"),(yield Vn(I,{idToken:je.credential,phoneEnrollmentInfo:{phoneNumber:ee.phoneNumber,recaptchaToken:W}})).phoneSessionInfo.sessionInfo;{Oe("signin"===je.type,I,"internal-error");const wt=(null===(T=ee.multiFactorHint)||void 0===T?void 0:T.uid)||ee.multiFactorUid;return Oe(wt,I,"missing-multi-factor-info"),(yield Ya(I,{mfaPendingCredential:je.credential,mfaEnrollmentId:wt,phoneSignInInfo:{recaptchaToken:W}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:je}=yield yu(I,{phoneNumber:ee.phoneNumber,recaptchaToken:W});return je}}finally{p._reset()}})).apply(this,arguments)}function b(I,f){return w.apply(this,arguments)}function w(){return(w=(0,y.Z)(function*(I,f){yield xa((0,E.m9)(I),f)})).apply(this,arguments)}let R=(()=>{class I{constructor(p){this.providerId=I.PROVIDER_ID,this.auth=sn(p)}verifyPhoneNumber(p,T){return Lr(this.auth,p,(0,E.m9)(T))}static credential(p,T){return wo._fromVerification(p,T)}static credentialFromResult(p){return I.credentialFromTaggedObject(p)}static credentialFromError(p){return I.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:T,temporaryProof:W}=p;return T&&W?wo._fromTokenResponse(T,W):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function L(I,f){return f?Re(f):(Oe(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class q extends qr{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return eo(f,this._buildIdpRequest())}_linkToIdToken(f,p){return eo(f,this._buildIdpRequest(p))}_getReauthenticationResolver(f){return eo(f,this._buildIdpRequest())}_buildIdpRequest(f){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(p.idToken=f),p}}function pe(I){return _i(I.auth,new q(I),I.bypassAuthState)}function ve(I){const{auth:f,user:p}=I;return Oe(p,f,"internal-error"),Ra(p,new q(I),I.bypassAuthState)}function dt(I){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,y.Z)(function*(I){const{auth:f,user:p}=I;return Oe(p,f,"internal-error"),xa(p,new q(I),I.bypassAuthState)})).apply(this,arguments)}class Nn{constructor(f,p,T,W,ee=!1){this.auth=f,this.resolver=T,this.user=W,this.bypassAuthState=ee,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var f=this;return new Promise(function(){var p=(0,y.Z)(function*(T,W){f.pendingPromise={resolve:T,reject:W};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(ee){f.reject(ee)}});return function(T,W){return p.apply(this,arguments)}}())}onAuthEvent(f){var p=this;return(0,y.Z)(function*(){const{urlResponse:T,sessionId:W,postBody:ee,tenantId:je,error:wt,type:on}=f;if(wt)return void p.reject(wt);const ht={auth:p.auth,requestUri:T,sessionId:W,tenantId:je||void 0,postBody:ee||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(on)(ht))}catch(gt){p.reject(gt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return pe;case"linkViaPopup":case"linkViaRedirect":return dt;case"reauthViaPopup":case"reauthViaRedirect":return ve;default:ft(this.auth,"internal-error")}}resolve(f){nt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){nt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const qt=new mt(2e3,1e4);function Kn(I,f,p){return ei.apply(this,arguments)}function ei(){return(ei=(0,y.Z)(function*(I,f,p){const T=sn(I);Ye(I,f,ti);const W=L(T,p);return new us(T,"signInViaPopup",f,W).executeNotNull()})).apply(this,arguments)}function Si(I,f,p){return as.apply(this,arguments)}function as(){return(as=(0,y.Z)(function*(I,f,p){const T=(0,E.m9)(I);Ye(T.auth,f,ti);const W=L(T.auth,p);return new us(T.auth,"reauthViaPopup",f,W,T).executeNotNull()})).apply(this,arguments)}function Zi(I,f,p){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,y.Z)(function*(I,f,p){const T=(0,E.m9)(I);Ye(T.auth,f,ti);const W=L(T.auth,p);return new us(T.auth,"linkViaPopup",f,W,T).executeNotNull()})).apply(this,arguments)}let us=(()=>{class I extends Nn{constructor(p,T,W,ee,je){super(p,T,ee,je),this.provider=W,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var p=this;return(0,y.Z)(function*(){const T=yield p.execute();return Oe(T,p.auth,"internal-error"),T})()}onExecution(){var p=this;return(0,y.Z)(function*(){nt(1===p.filter.length,"Popup operations only handle one event");const T=pa();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],T),p.authWindow.associatedEvent=T,p.resolver._originValidation(p.auth).catch(W=>{p.reject(W)}),p.resolver._isIframeWebStorageSupported(p.auth,W=>{W||p.reject(Ue(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(Ue(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const p=()=>{var T,W;this.pollId=null!==(W=null===(T=this.authWindow)||void 0===T?void 0:T.window)&&void 0!==W&&W.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ue(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(p,qt.get())};p()}}return I.currentPopupAction=null,I})();const ra=new Map;class Oo extends Nn{constructor(f,p,T=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,T),this.eventId=null}execute(){var f=()=>super.execute,p=this;return(0,y.Z)(function*(){let T=ra.get(p.auth._key());if(!T){try{const ee=(yield function ls(I,f){return No.apply(this,arguments)}(p.resolver,p.auth))?yield f().call(p):null;T=()=>Promise.resolve(ee)}catch(W){T=()=>Promise.reject(W)}ra.set(p.auth._key(),T)}return p.bypassAuthState||ra.set(p.auth._key(),()=>Promise.resolve(null)),T()})()}onAuthEvent(f){var p=()=>super.onAuthEvent,T=this;return(0,y.Z)(function*(){if("signInViaRedirect"===f.type)return p().call(T,f);if("unknown"!==f.type){if(f.eventId){const W=yield T.auth._redirectUserForId(f.eventId);if(W)return T.user=W,p().call(T,f);T.resolve(null)}}else T.resolve(null)})()}onExecution(){return(0,y.Z)(function*(){})()}cleanUp(){}}function No(){return(No=(0,y.Z)(function*(I,f){const p=Ua(f),T=_a(I);if(!(yield T._isAvailable()))return!1;const W="true"===(yield T._get(p));return yield T._remove(p),W})).apply(this,arguments)}function ko(I,f){return go.apply(this,arguments)}function go(){return(go=(0,y.Z)(function*(I,f){return _a(I)._set(Ua(f),"true")})).apply(this,arguments)}function El(){ra.clear()}function ia(I,f){ra.set(I._key(),f)}function _a(I){return Re(I._redirectPersistence)}function Ua(I){return ye("pendingRedirect",I.config.apiKey,I.name)}function Vi(I,f,p){return function ii(I,f,p){return Fr.apply(this,arguments)}(I,f,p)}function Fr(){return(Fr=(0,y.Z)(function*(I,f,p){const T=sn(I);Ye(I,f,ti);const W=L(T,p);return yield ko(W,T),W._openRedirect(T,f,"signInViaRedirect")})).apply(this,arguments)}function Uu(I,f,p){return function O(I,f,p){return F.apply(this,arguments)}(I,f,p)}function F(){return(F=(0,y.Z)(function*(I,f,p){const T=(0,E.m9)(I);Ye(T.auth,f,ti);const W=L(T.auth,p);yield ko(W,T.auth);const ee=yield Ln(T);return W._openRedirect(T.auth,f,"reauthViaRedirect",ee)})).apply(this,arguments)}function G(I,f,p){return function me(I,f,p){return Ve.apply(this,arguments)}(I,f,p)}function Ve(){return(Ve=(0,y.Z)(function*(I,f,p){const T=(0,E.m9)(I);Ye(T.auth,f,ti);const W=L(T.auth,p);yield ps(!1,T,f.providerId),yield ko(W,T.auth);const ee=yield Ln(T);return W._openRedirect(T.auth,f,"linkViaRedirect",ee)})).apply(this,arguments)}function ut(I,f){return St.apply(this,arguments)}function St(){return(St=(0,y.Z)(function*(I,f){return yield sn(I)._initializationPromise,Ht(I,f,!1)})).apply(this,arguments)}function Ht(I,f){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,y.Z)(function*(I,f,p=!1){const T=sn(I),W=L(T,f),je=yield new Oo(T,W,p).execute();return je&&!p&&(delete je.user._redirectEventId,yield T._persistUserIfCurrent(je.user),yield T._setRedirectUser(null,f)),je})).apply(this,arguments)}function Ln(I){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,y.Z)(function*(I){const f=pa(`${I.uid}:::`);return I._redirectEventId=f,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),f})).apply(this,arguments)}class di{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let p=!1;return this.consumers.forEach(T=>{this.isEventForConsumer(f,T)&&(p=!0,this.sendToConsumer(f,T),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function iu(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qa(I);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=f,p=!0)),p}sendToConsumer(f,p){var T;if(f.error&&!Qa(f)){const W=(null===(T=f.error.code)||void 0===T?void 0:T.split("auth/")[1])||"internal-error";p.onError(Ue(this.auth,W))}else p.onAuthEvent(f)}isEventForConsumer(f,p){const T=null===p.eventId||!!f.eventId&&f.eventId===p.eventId;return p.filter.includes(f.type)&&T}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ws(f))}saveEventToCache(f){this.cachedEventUids.add(ws(f)),this.lastProcessedEventTime=Date.now()}}function ws(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(f=>f).join("-")}function Qa({type:I,error:f}){return"unknown"===I&&"auth/no-auth-event"===f?.code}function mo(I){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,y.Z)(function*(I,f={}){return en(I,"GET","/v1/projects",f)})).apply(this,arguments)}const Ea=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,su=/^https?/;function Wo(){return(Wo=(0,y.Z)(function*(I){if(I.config.emulator)return;const{authorizedDomains:f}=yield mo(I);for(const p of f)try{if(sa(p))return}catch{}ft(I,"unauthorized-domain")})).apply(this,arguments)}function sa(I){const f=at(),{protocol:p,hostname:T}=new URL(f);if(I.startsWith("chrome-extension://")){const je=new URL(I);return""===je.hostname&&""===T?"chrome-extension:"===p&&I.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===p&&je.hostname===T}if(!su.test(p))return!1;if(Ea.test(I))return T===I;const W=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+W+"|"+W+")$","i").test(T)}const wl=new mt(3e4,6e4);function ou(){const I=br().___jsl;if(I?.H)for(const f of Object.keys(I.H))if(I.H[f].r=I.H[f].r||[],I.H[f].L=I.H[f].L||[],I.H[f].r=[...I.H[f].L],I.CP)for(let p=0;p<I.CP.length;p++)I.CP[p]=null}let Ba=null;function Xu(I){return Ba=Ba||function Hl(I){return new Promise((f,p)=>{var T,W,ee;function je(){ou(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{ou(),p(Ue(I,"network-request-failed"))},timeout:wl.get()})}if(null!==(W=null===(T=br().gapi)||void 0===T?void 0:T.iframes)&&void 0!==W&&W.Iframe)f(gapi.iframes.getContext());else{if(null===(ee=br().gapi)||void 0===ee||!ee.load){const wt=zo("iframefcb");return br()[wt]=()=>{gapi.load?je():p(Ue(I,"network-request-failed"))},Xr(`https://apis.google.com/js/api.js?onload=${wt}`).catch(on=>p(on))}je()}}).catch(f=>{throw Ba=null,f})}(I),Ba}const Dl=new mt(5e3,15e3),uu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Bu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function el(I){const f=I.config;Oe(f.authDomain,I,"auth-domain-config-required");const p=f.emulator?un(f,"emulator/auth/iframe"):`https://${I.config.authDomain}/__/auth/iframe`,T={apiKey:f.apiKey,appName:I.name,v:B.SDK_VERSION},W=Bu.get(I.config.apiHost);W&&(T.eid=W);const ee=I._getFrameworks();return ee.length&&(T.fw=ee.join(",")),`${p}?${(0,E.xO)(T).slice(1)}`}function Vu(){return Vu=(0,y.Z)(function*(I){const f=yield Xu(I),p=br().gapi;return Oe(p,I,"internal-error"),f.open({where:document.body,url:el(I),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uu,dontclear:!0},T=>new Promise(function(){var W=(0,y.Z)(function*(ee,je){yield T.restyle({setHideOnLeave:!1});const wt=Ue(I,"network-request-failed"),on=br().setTimeout(()=>{je(wt)},Dl.get());function ht(){br().clearTimeout(on),ee(T)}T.ping(ht).then(ht,()=>{je(wt)})});return function(ee,je){return W.apply(this,arguments)}}()))}),Vu.apply(this,arguments)}const tl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class A{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function V(I,f,p,T,W,ee){Oe(I.config.authDomain,I,"auth-domain-config-required"),Oe(I.config.apiKey,I,"invalid-api-key");const je={apiKey:I.config.apiKey,appName:I.name,authType:p,redirectUrl:T,v:B.SDK_VERSION,eventId:W};if(f instanceof ti){f.setDefaultLanguage(I.languageCode),je.providerId=f.providerId||"",(0,E.xb)(f.getCustomParameters())||(je.customParameters=JSON.stringify(f.getCustomParameters()));for(const[on,ht]of Object.entries(ee||{}))je[on]=ht}if(f instanceof so){const on=f.getScopes().filter(ht=>""!==ht);on.length>0&&(je.scopes=on.join(","))}I.tenantId&&(je.tid=I.tenantId);const wt=je;for(const on of Object.keys(wt))void 0===wt[on]&&delete wt[on];return`${function Y({config:I}){return I.emulator?un(I,"emulator/auth/handler"):`https://${I.authDomain}/__/auth/handler`}(I)}?${(0,E.xO)(wt).slice(1)}`}const J="webStorageSupport",tt=class Se{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vs,this._completeRedirectFn=Ht,this._overrideRedirectResult=ia}_openPopup(f,p,T,W){var ee=this;return(0,y.Z)(function*(){var je;nt(null===(je=ee.eventManagers[f._key()])||void 0===je?void 0:je.manager,"_initialize() not called before _openPopup()");const wt=V(f,p,T,at(),W);return function g(I,f,p,T=500,W=600){const ee=Math.max((window.screen.availHeight-W)/2,0).toString(),je=Math.max((window.screen.availWidth-T)/2,0).toString();let wt="";const on=Object.assign(Object.assign({},tl),{width:T.toString(),height:W.toString(),top:ee,left:je}),ht=(0,E.z$)().toLowerCase();p&&(wt=ze(ht)?"_blank":p),K(ht)&&(f=f||"http://localhost",on.scrollbars="yes");const gt=Object.entries(on).reduce((Wn,[Ur,Go])=>`${Wn}${Ur}=${Go},`,"");if(function Me(I=(0,E.z$)()){var f;return oe(I)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(ht)&&"_self"!==wt)return function c(I,f){const p=document.createElement("a");p.href=I,p.target=f;const T=document.createEvent("MouseEvent");T.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(T)}(f||"",wt),new A(null);const Xt=window.open(f||"",wt,gt);Oe(Xt,I,"popup-blocked");try{Xt.focus()}catch{}return new A(Xt)}(f,wt,pa())})()}_openRedirect(f,p,T,W){var ee=this;return(0,y.Z)(function*(){return yield ee._originValidation(f),function ga(I){br().location.href=I}(V(f,p,T,at(),W)),new Promise(()=>{})})()}_initialize(f){const p=f._key();if(this.eventManagers[p]){const{manager:W,promise:ee}=this.eventManagers[p];return W?Promise.resolve(W):(nt(ee,"If manager is not set, promise should be"),ee)}const T=this.initAndGetManager(f);return this.eventManagers[p]={promise:T},T.catch(()=>{delete this.eventManagers[p]}),T}initAndGetManager(f){var p=this;return(0,y.Z)(function*(){const T=yield function zl(I){return Vu.apply(this,arguments)}(f),W=new di(f);return T.register("authEvent",ee=>(Oe(ee?.authEvent,f,"invalid-auth-event"),{status:W.onEvent(ee.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[f._key()]={manager:W},p.iframes[f._key()]=T,W})()}_isIframeWebStorageSupported(f,p){this.iframes[f._key()].send(J,{type:J},W=>{var ee;const je=null===(ee=W?.[0])||void 0===ee?void 0:ee[J];void 0!==je&&p(!!je),ft(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const p=f._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function yo(I){return Wo.apply(this,arguments)}(f)),this.originValidationPromises[p]}get _shouldInitProactively(){return Bt()||le()||oe()}};class kt extends class xt{constructor(f){this.factorId=f}_process(f,p,T){switch(p.type){case"enroll":return this._finalizeEnroll(f,p.credential,T);case"signin":return this._finalizeSignIn(f,p.credential);default:return He("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new kt(f)}_finalizeEnroll(f,p,T){return function ys(I,f){return en(I,"POST","/v2/accounts/mfaEnrollment:finalize",dn(I,f))}(f,{idToken:p,displayName:T,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,p){return function os(I,f){return en(I,"POST","/v2/accounts/mfaSignIn:finalize",dn(I,f))}(f,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let yn=(()=>{class I{constructor(){}static assertion(p){return kt._fromCredential(p)}}return I.FACTOR_ID="phone",I})();var Tn="@firebase/auth",On="0.20.10";class zn{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var p=this;return(0,y.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const p=this.auth.onIdTokenChanged(T=>{var W;f((null===(W=T)||void 0===W?void 0:W.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,p),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const p=this.internalListeners.get(f);!p||(this.internalListeners.delete(f),p(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const xs=(0,E.Pz)("authIdTokenMaxAge")||300;let qi=null;const wa=I=>function(){var f=(0,y.Z)(function*(p){const T=p&&(yield p.getIdTokenResult()),W=T&&((new Date).getTime()-Date.parse(T.issuedAtTime))/1e3;if(W&&W>xs)return;const ee=T?.token;qi!==ee&&(qi=ee,yield fetch(I,{method:ee?"POST":"DELETE",headers:ee?{Authorization:`Bearer ${ee}`}:{}}))});return function(p){return f.apply(this,arguments)}}();function Da(I=(0,B.getApp)()){const f=(0,B._getProvider)(I,"auth");if(f.isInitialized())return f.getImmediate();const p=function Xe(I,f){const p=(0,B._getProvider)(I,"auth");if(p.isInitialized()){const W=p.getImmediate(),ee=p.getOptions();if((0,E.vZ)(ee,f??{}))return W;ft(W,"already-initialized")}return p.initialize({options:f})}(I,{popupRedirectResolver:tt,persistence:[Ho,ui,vs]}),T=(0,E.Pz)("authTokenSyncURL");if(T){const ee=wa(T);(function Ir(I,f,p){(0,E.m9)(I).beforeAuthStateChanged(f,p)})(p,ee,()=>ee(p.currentUser)),function jr(I,f,p,T){(0,E.m9)(I).onIdTokenChanged(f,p,T)}(p,je=>ee(je))}const W=(0,E.q4)("auth");return W&&fs(p,`http://${W}`),p}!function Hr(I){(0,B._registerComponent)(new fe.wA("auth",(f,{options:p})=>{const T=f.getProvider("app").getImmediate(),W=f.getProvider("heartbeat"),{apiKey:ee,authDomain:je}=T.options;return((wt,on)=>{Oe(ee&&!ee.includes(":"),"invalid-api-key",{appName:wt.name}),Oe(!je?.includes(":"),"argument-error",{appName:wt.name});const ht={apiKey:ee,authDomain:je,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Sn(I)},gt=new vi(wt,on,ht);return function ce(I,f){const p=f?.persistence||[],T=(Array.isArray(p)?p:[p]).map(Re);f?.errorMap&&I._updateErrorMap(f.errorMap),I._initializeWithPersistence(T,f?.popupRedirectResolver)}(gt,p),gt})(T,W)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,p,T)=>{f.getProvider("auth-internal").initialize()})),(0,B._registerComponent)(new fe.wA("auth-internal",f=>{const p=sn(f.getProvider("auth").getImmediate());return new zn(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,B.registerVersion)(Tn,On,function Rn(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(I)),(0,B.registerVersion)(Tn,On,"esm2017")}("Browser")},5525:(Pt,Le,k)=>{k.d(Le,{u7:()=>vh,Jj:()=>Zs,IX:()=>Ny,my:()=>ds,xU:()=>yl,Lz:()=>Ru,WA:()=>At,F8:()=>Zu,$q:()=>_h,W:()=>$l,EK:()=>Vr,PU:()=>pu,l7:()=>q,Ky:()=>Vt,Xb:()=>Sr,Cf:()=>Ar,K9:()=>Eu,Me:()=>Fu,yq:()=>ys,Wi:()=>Ff,ET:()=>Wy,Ab:()=>vm,vr:()=>ym,Fc:()=>Ly,hJ:()=>Bg,B$:()=>Ay,at:()=>sh,oe:()=>Sc,AK:()=>gu,TF:()=>xu,JU:()=>Vg,ST:()=>t_,fH:()=>ad,Ix:()=>Fy,Wu:()=>ip,Lx:()=>am,qY:()=>$i,GL:()=>Tc,QT:()=>$y,kl:()=>cm,Xk:()=>jy,PL:()=>Hy,UQ:()=>dm,zN:()=>zy,ad:()=>ky,nP:()=>Ky,b9:()=>im,vh:()=>sm,Pb:()=>Yo,L$:()=>kl,cf:()=>Gy,sc:()=>pm,Xo:()=>tp,IO:()=>Xf,iE:()=>sd,Eo:()=>My,i3:()=>Pu,Bt:()=>mu,pl:()=>hm,Ub:()=>xo,qK:()=>lm,TQ:()=>By,e0:()=>om,r7:()=>fm,Mx:()=>qf,ar:()=>nm});var te,y=k(5861),E=k(9681),B=k(4859),se=k(1877),ue=k(2090),fe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},we={},De=De||{},X=fe||self;function ae(){}function be(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Je(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Ze="closure_uid_"+(1e9*Math.random()>>>0),Ct=0;function $e(i,e,n){return i.call.apply(i.bind,arguments)}function it(i,e,n){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function Ae(i,e,n){return(Ae=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?$e:it).apply(null,arguments)}function ft(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var o=n.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function Ue(i,e){function n(){}n.prototype=e.prototype,i.X=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.Wb=function(o,u,d){for(var m=Array(arguments.length-2),C=2;C<arguments.length;C++)m[C-2]=arguments[C];return e.prototype[u].apply(o,m)}}function Ce(){this.s=this.s,this.o=this.o}var yt={};Ce.prototype.s=!1,Ce.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function Ke(i){return Object.prototype.hasOwnProperty.call(i,Ze)&&i[Ze]||(i[Ze]=++Ct)}(this);delete yt[i]}},Ce.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Oe=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1};function He(i){const e=i.length;if(0<e){const n=Array(e);for(let o=0;o<e;o++)n[o]=i[o];return n}return[]}function nt(i,e){for(let n=1;n<arguments.length;n++){const o=arguments[n];if(be(o)){const u=i.length||0,d=o.length||0;i.length=u+d;for(let m=0;m<d;m++)i[u+m]=o[m]}else i.push(o)}}function Ie(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}Ie.prototype.h=function(){this.defaultPrevented=!0};var Re=function(){if(!X.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{X.addEventListener("test",ae,e),X.removeEventListener("test",ae,e)}catch{}return i}();function Xe(i){return/^[\s\xa0]*$/.test(i)}var ce=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function at(i,e){return i<e?-1:i>e?1:0}function Be(){var i=X.navigator;return i&&(i=i.userAgent)?i:""}function It(i){return-1!=Be().indexOf(i)}function Wt(i){return Wt[" "](i),i}Wt[" "]=ae;var yr,i,mt=It("Opera"),un=It("Trident")||It("MSIE"),En=It("Edge"),bn=En||un,Nt=It("Gecko")&&!(-1!=Be().toLowerCase().indexOf("webkit")&&!It("Edge"))&&!(It("Trident")||It("MSIE"))&&!It("Edge"),dn=-1!=Be().toLowerCase().indexOf("webkit")&&!It("Edge");function en(){var i=X.document;return i?i.documentMode:void 0}e:{var Mr="",Qn=(i=Be(),Nt?/rv:([^\);]+)(\)|;)/.exec(i):En?/Edge\/([\d\.]+)/.exec(i):un?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):dn?/WebKit\/(\S+)/.exec(i):mt?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Qn&&(Mr=Qn?Qn[1]:""),un){var mn=en();if(null!=mn&&mn>parseFloat(Mr)){yr=String(mn);break e}}yr=Mr}var xr={};var Pn=X.document&&un&&(en()||parseInt(yr,10))||void 0;function vn(i,e){if(Ie.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Nt){e:{try{Wt(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Ut[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&vn.X.h.call(this)}}Ue(vn,Ie);var Ut={2:"touch",3:"pen",4:"mouse"};vn.prototype.h=function(){vn.X.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var ur="closure_listenable_"+(1e6*Math.random()|0),vr=0;function er(i,e,n,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!o,this.ha=u,this.key=++vr,this.ba=this.ea=!1}function _r(i){i.ba=!0,i.listener=null,i.proxy=null,i.src=null,i.ha=null}function yi(i,e,n){for(const o in i)e.call(n,i[o],o,i)}function Xn(i){const e={};for(const n in i)e[n]=i[n];return e}const rr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Un(i,e){let n,o;for(let u=1;u<arguments.length;u++){for(n in o=arguments[u],o)i[n]=o[n];for(let d=0;d<rr.length;d++)n=rr[d],Object.prototype.hasOwnProperty.call(o,n)&&(i[n]=o[n])}}function Gt(i){this.src=i,this.g={},this.h=0}function Yt(i,e){var n=e.type;if(n in i.g){var d,o=i.g[n],u=Oe(o,e);(d=0<=u)&&Array.prototype.splice.call(o,u,1),d&&(_r(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function ln(i,e,n,o){for(var u=0;u<i.length;++u){var d=i[u];if(!d.ba&&d.listener==e&&d.capture==!!n&&d.ha==o)return u}return-1}Gt.prototype.add=function(i,e,n,o,u){var d=i.toString();(i=this.g[d])||(i=this.g[d]=[],this.h++);var m=ln(i,e,o,u);return-1<m?(e=i[m],n||(e.ea=!1)):((e=new er(e,this.src,d,!!o,u)).ea=n,i.push(e)),e};var cn="closure_lm_"+(1e6*Math.random()|0),$n={};function Rr(i,e,n,o,u){if(o&&o.once)return pn(i,e,n,o,u);if(Array.isArray(e)){for(var d=0;d<e.length;d++)Rr(i,e[d],n,o,u);return null}return n=re(n),i&&i[ur]?i.N(e,n,Je(o)?!!o.capture:!!o,u):tn(i,e,n,!1,o,u)}function tn(i,e,n,o,u,d){if(!e)throw Error("Invalid event type");var m=Je(u)?!!u.capture:!!u,C=We(i);if(C||(i[cn]=C=new Gt(i)),(n=C.add(e,n,o,m,d)).proxy)return n;if(o=function Pr(){const e=nr;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=o,o.src=i,o.listener=n,i.addEventListener)Re||(u=m),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(or(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return n}function pn(i,e,n,o,u){if(Array.isArray(e)){for(var d=0;d<e.length;d++)pn(i,e[d],n,o,u);return null}return n=re(n),i&&i[ur]?i.O(e,n,Je(o)?!!o.capture:!!o,u):tn(i,e,n,!0,o,u)}function tr(i,e,n,o,u){if(Array.isArray(e))for(var d=0;d<e.length;d++)tr(i,e[d],n,o,u);else o=Je(o)?!!o.capture:!!o,n=re(n),i&&i[ur]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=ln(d=i.g[e],n,o,u))&&(_r(d[n]),Array.prototype.splice.call(d,n,1),0==d.length&&(delete i.g[e],i.h--))):i&&(i=We(i))&&(e=i.g[e.toString()],i=-1,e&&(i=ln(e,n,o,u)),(n=-1<i?e[i]:null)&&gn(n))}function gn(i){if("number"!=typeof i&&i&&!i.ba){var e=i.src;if(e&&e[ur])Yt(e.i,i);else{var n=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(n,o,i.capture):e.detachEvent?e.detachEvent(or(n),o):e.addListener&&e.removeListener&&e.removeListener(o),(n=We(e))?(Yt(n,i),0==n.h&&(n.src=null,e[cn]=null)):_r(i)}}}function or(i){return i in $n?$n[i]:$n[i]="on"+i}function nr(i,e){if(i.ba)i=!0;else{e=new vn(e,this);var n=i.listener,o=i.ha||i.src;i.ea&&gn(i),i=n.call(o,e)}return i}function We(i){return(i=i[cn])instanceof Gt?i:null}var j="__closure_events_fn_"+(1e9*Math.random()>>>0);function re(i){return"function"==typeof i?i:(i[j]||(i[j]=function(e){return i.handleEvent(e)}),i[j])}function ke(){Ce.call(this),this.i=new Gt(this),this.P=this,this.I=null}function st(i,e){var n,o=i.I;if(o)for(n=[];o;o=o.I)n.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new Ie(e,i);else if(e instanceof Ie)e.target=e.target||i;else{var u=e;Un(e=new Ie(o,i),u)}if(u=!0,n)for(var d=n.length-1;0<=d;d--){var m=e.g=n[d];u=Zt(m,o,!0,e)&&u}if(u=Zt(m=e.g=i,o,!0,e)&&u,u=Zt(m,o,!1,e)&&u,n)for(d=0;d<n.length;d++)u=Zt(m=e.g=n[d],o,!1,e)&&u}function Zt(i,e,n,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,d=0;d<e.length;++d){var m=e[d];if(m&&!m.ba&&m.capture==n){var C=m.listener,U=m.ha||m.src;m.ea&&Yt(i.i,m),u=!1!==C.call(U,o)&&u}}return u&&!o.defaultPrevented}Ue(ke,Ce),ke.prototype[ur]=!0,ke.prototype.removeEventListener=function(i,e,n,o){tr(this,i,e,n,o)},ke.prototype.M=function(){if(ke.X.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],o=0;o<n.length;o++)_r(n[o]);delete i.g[e],i.h--}}this.I=null},ke.prototype.N=function(i,e,n,o){return this.i.add(String(i),e,!1,n,o)},ke.prototype.O=function(i,e,n,o){return this.i.add(String(i),e,!0,n,o)};var _e=X.JSON.stringify;function ye(){var i=de;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var _t,ge=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new K,i=>i.reset());class K{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function le(i){X.setTimeout(()=>{throw i},0)}function ze(i,e){_t||function zt(){var i=X.Promise.resolve(void 0);_t=function(){i.then(oe)}}(),Kt||(_t(),Kt=!0),de.add(i,e)}var Kt=!1,de=new class xe{constructor(){this.h=this.g=null}add(e,n){const o=ge.get();o.set(e,n),this.h?this.h.next=o:this.g=o,this.h=o}};function oe(){for(var i;i=ye();){try{i.h.call(i.g)}catch(n){le(n)}var e=ge;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Kt=!1}function ie(i,e){ke.call(this),this.h=i||1,this.g=e||X,this.j=Ae(this.lb,this),this.l=Date.now()}function Me(i){i.ca=!1,i.R&&(i.g.clearTimeout(i.R),i.R=null)}function Qe(i,e,n){if("function"==typeof i)n&&(i=Ae(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Ae(i.handleEvent,i)}return 2147483647<Number(e)?-1:X.setTimeout(i,e||0)}function Bt(i){i.g=Qe(()=>{i.g=null,i.i&&(i.i=!1,Bt(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Ue(ie,ke),(te=ie.prototype).ca=!1,te.R=null,te.lb=function(){if(this.ca){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-i):(this.R&&(this.g.clearTimeout(this.R),this.R=null),st(this,"tick"),this.ca&&(Me(this),this.start()))}},te.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},te.M=function(){ie.X.M.call(this),Me(this),delete this.g};class Cn extends Ce{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Bt(this)}M(){super.M(),this.g&&(X.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sn(i){Ce.call(this),this.h=i,this.g={}}Ue(Sn,Ce);var $r=[];function vi(i,e,n,o){Array.isArray(n)||(n&&($r[0]=n.toString()),n=$r);for(var u=0;u<n.length;u++){var d=Rr(e,n[u],o||i.handleEvent,!1,i.h||i);if(!d)break;i.g[d.key]=d}}function sn(i){yi(i.g,function(e,n){this.g.hasOwnProperty(n)&&gn(e)},i),i.g={}}function fi(){this.g=!0}function pi(i,e,n,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Ys(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var o=n[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var d=u[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var m=1;m<u.length;m++)u[m]=""}}}return _e(n)}catch{return e}}(i,n)+(o?" "+o:"")})}Sn.prototype.M=function(){Sn.X.M.call(this),sn(this)},Sn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},fi.prototype.Aa=function(){this.g=!1},fi.prototype.info=function(){};var qr={},Di=null;function Cr(){return Di=Di||new ke}function Qs(i){Ie.call(this,qr.Pa,i)}function Hn(i){const e=Cr();st(e,new Qs(e,i))}function Ha(i,e){Ie.call(this,qr.STAT_EVENT,i),this.stat=e}function Br(i){const e=Cr();st(e,new Ha(e,i))}function _o(i,e){Ie.call(this,qr.Qa,i),this.size=e}function ji(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return X.setTimeout(function(){i()},e)}qr.Pa="serverreachability",Ue(Qs,Ie),qr.STAT_EVENT="statevent",Ue(Ha,Ie),qr.Qa="timingevent",Ue(_o,Ie);var Hi={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Fe={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Ne(){}function pt(){}Ne.prototype.h=null;var zr,bt={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function jt(){Ie.call(this,"d")}function kn(){Ie.call(this,"c")}function ir(){}function Or(i,e,n,o){this.l=i,this.j=e,this.m=n,this.U=o||1,this.S=new Sn(this),this.O=eu,this.T=new ie(i=bn?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Js}function Js(){this.i=null,this.g="",this.h=!1}Ue(jt,Ie),Ue(kn,Ie),Ue(ir,Ne),ir.prototype.g=function(){return new XMLHttpRequest},ir.prototype.i=function(){return{}},zr=new ir;var eu=45e3,Xs={},Ci={};function eo(i,e,n){i.K=1,i.v=oo(ro(e)),i.s=n,i.P=!0,Ji(i,null)}function Ji(i,e){i.F=Date.now(),Eo(i),i.A=ro(i.v);var n=i.A,o=i.U;Array.isArray(o)||(o=[String(o)]),Ma(n.i,"t",o),i.C=0,n=i.l.H,i.h=new Js,i.g=M(i.l,n?e:null,!i.s),0<i.N&&(i.L=new Cn(Ae(i.La,i,i.g),i.N)),vi(i.S,i.g,"readystatechange",i.ib),e=i.H?Xn(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.da(i.A,i.u,i.s,e)):(i.u="GET",i.g.da(i.A,i.u,null,e)),Hn(1),function fs(i,e,n,o,u,d){i.info(function(){if(i.g)if(d)for(var m="",C=d.split("&"),U=0;U<C.length;U++){var z=C[U].split("=");if(1<z.length){var ne=z[0];z=z[1];var Te=ne.split("_");m=2<=Te.length&&"type"==Te[1]?m+(ne+"=")+z+"&":m+(ne+"=redacted&")}}else m=null;else m=d;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+n+"\n"+m})}(i.j,i.u,i.A,i.m,i.U,i.s)}function tu(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Da}function Ps(i,e,n){let u,o=!0;for(;!i.I&&i.C<n.length;){if(u=yu(i,n),u==Ci){4==e&&(i.o=4,Br(14),o=!1),pi(i.j,i.m,null,"[Incomplete Response]");break}if(u==Xs){i.o=4,Br(15),pi(i.j,i.m,n,"[Invalid Chunk]"),o=!1;break}pi(i.j,i.m,u,null),za(i,u)}tu(i)&&u!=Ci&&u!=Xs&&(i.h.g="",i.C=0),4!=e||0!=n.length||i.h.h||(i.o=1,Br(16),o=!1),i.i=i.i&&o,o?0<n.length&&!i.$&&(i.$=!0,(e=i.l).g==i&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ss(e),e.K=!0,Br(11))):(pi(i.j,i.m,n,"[Invalid Chunked Response]"),to(i),Ni(i))}function yu(i,e){var n=i.C,o=e.indexOf("\n",n);return-1==o?Ci:(n=Number(e.substring(n,o)),isNaN(n)?Xs:(o+=1)+n>e.length?Ci:(e=e.substr(o,n),i.C=o+n,e))}function Eo(i){i.V=Date.now()+i.O,Ca(i,i.O)}function Ca(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=ji(Ae(i.gb,i),e)}function Ai(i){i.B&&(X.clearTimeout(i.B),i.B=null)}function Ni(i){0==i.l.G||i.I||Xo(i.l,i)}function to(i){Ai(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,Me(i.T),sn(i.S),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function za(i,e){try{var n=i.l;if(0!=n.G&&(n.g==i||ps(n.h,i)))if(!i.J&&ps(n.h,i)&&3==n.G){try{var o=n.Fa.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<i.F))break e;is(n),uo(n)}Mo(n),Br(18)}}else n.Ba=u[1],0<n.Ba-n.T&&37500>u[2]&&n.L&&0==n.A&&!n.v&&(n.v=ji(Ae(n.cb,n),6e3));if(1>=ao(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else Fs(n,11)}else if((i.J||n.g==i)&&is(n),!Xe(e))for(u=n.Fa.g.parse(e),e=0;e<u.length;e++){let z=u[e];if(n.T=z[0],z=z[1],2==n.G)if("c"==z[0]){n.I=z[1],n.ka=z[2];const ne=z[3];null!=ne&&(n.ma=ne,n.j.info("VER="+n.ma));const Te=z[4];null!=Te&&(n.Ca=Te,n.j.info("SVER="+n.Ca));const rt=z[5];null!=rt&&"number"==typeof rt&&0<rt&&(n.J=o=1.5*rt,n.j.info("backChannelRequestTimeoutMs_="+o)),o=n;const vt=i.g;if(vt){const Tt=vt.g?vt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Tt){var d=o.h;d.g||-1==Tt.indexOf("spdy")&&-1==Tt.indexOf("quic")&&-1==Tt.indexOf("h2")||(d.j=d.l,d.g=new Set,d.h&&(lr(d,d.h),d.h=null))}if(o.D){const an=vt.g?vt.g.getResponseHeader("X-HTTP-Session-Id"):null;an&&(o.za=an,gr(o.F,o.D,an))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-i.F,n.j.info("Handshake RTT: "+n.P+"ms"));var m=i;if((o=n).sa=jo(o,o.H?o.ka:null,o.V),m.J){Ra(o.h,m);var C=m,U=o.J;U&&C.setTimeout(U),C.B&&(Ai(C),Eo(C)),o.g=m}else Ao(o);0<n.i.length&&rs(n)}else"stop"!=z[0]&&"close"!=z[0]||Fs(n,7);else 3==n.G&&("stop"==z[0]||"close"==z[0]?"stop"==z[0]?Fs(n,7):ns(n):"noop"!=z[0]&&n.l&&n.l.wa(z),n.A=0)}Hn(4)}catch{}}function wo(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(be(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var n=function no(i){if(i.oa&&"function"==typeof i.oa)return i.oa();if(!i.W||"function"!=typeof i.W){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(be(i)||"string"==typeof i){var e=[];i=i.length;for(var n=0;n<i;n++)e.push(n);return e}e=[],n=0;for(const o in i)e[n++]=o;return e}}}(i),o=function Nu(i){if(i.W&&"function"==typeof i.W)return i.W();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(be(i)){for(var e=[],n=i.length,o=0;o<n;o++)e.push(i[o]);return e}for(o in e=[],n=0,i)e[n++]=i[o];return e}(i),u=o.length,d=0;d<u;d++)e.call(void 0,o[d],n&&n[d],i)}(te=Or.prototype).setTimeout=function(i){this.O=i},te.ib=function(i){i=i.target;const e=this.L;e&&3==Ui(i)?e.l():this.La(i)},te.La=function(i){try{if(i==this.g)e:{const ne=Ui(this.g);var e=this.g.Ea();const Te=this.g.aa();if(!(3>ne)&&(3!=ne||bn||this.g&&(this.h.h||this.g.fa()||da(this.g)))){this.I||4!=ne||7==e||Hn(8==e||0>=Te?3:2),Ai(this);var n=this.g.aa();this.Y=n;t:if(tu(this)){var o=da(this.g);i="";var u=o.length,d=4==Ui(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){to(this),Ni(this);var m="";break t}this.h.i=new X.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:d&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,m=this.h.g}else m=this.g.fa();if(this.i=200==n,function Qi(i,e,n,o,u,d,m){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+n+"\n"+d+" "+m})}(this.j,this.u,this.A,this.m,this.U,ne,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var C,U=this.g;if((C=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Xe(C)){var z=C;break t}}z=null}if(!(n=z)){this.i=!1,this.o=3,Br(12),to(this),Ni(this);break e}pi(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,za(this,n)}this.P?(Ps(this,ne,m),bn&&this.i&&3==ne&&(vi(this.S,this.T,"tick",this.hb),this.T.start())):(pi(this.j,this.m,m,null),za(this,m)),4==ne&&to(this),this.i&&!this.I&&(4==ne?Xo(this.l,this):(this.i=!1,Eo(this)))}else 400==n&&0<m.indexOf("Unknown SID")?(this.o=3,Br(12)):(this.o=0,Br(13)),to(this),Ni(this)}}}catch{}},te.hb=function(){if(this.g){var i=Ui(this.g),e=this.g.fa();this.C<e.length&&(Ai(this),Ps(this,i,e),this.i&&4!=i&&Eo(this))}},te.cancel=function(){this.I=!0,to(this)},te.gb=function(){this.B=null;const i=Date.now();0<=i-this.V?(function pr(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Hn(3),Br(17)),to(this),this.o=2,Ni(this)):Ca(this,this.V-i)};var Wa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xi(i,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof Xi){this.h=void 0!==e?e:i.h,io(this,i.j),this.s=i.s,this.g=i.g,ti(this,i.m),this.l=i.l,e=i.i;var n=new ki;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),so(this,n),this.o=i.o}else i&&(n=String(i).match(Wa))?(this.h=!!e,io(this,n[1]||"",!0),this.s=Do(n[2]||""),this.g=Do(n[3]||"",!0),ti(this,n[4]),this.l=Do(n[5]||"",!0),so(this,n[6]||"",!0),this.o=Do(n[7]||"")):(this.h=!!e,this.i=new ki(null,this.h))}function ro(i){return new Xi(i)}function io(i,e,n){i.j=n?Do(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function ti(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function so(i,e,n){e instanceof ki?(i.i=e,function Ga(i,e){e&&!i.j&&(Yr(i),i.i=null,i.g.forEach(function(n,o){var u=o.toLowerCase();o!=u&&(bo(this,o),Ma(this,u,n))},i)),i.j=e}(i.i,i.h)):(n||(e=Uo(e,Os)),i.i=new ki(e,i.h))}function gr(i,e,n){i.i.set(e,n)}function oo(i){return gr(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Do(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Uo(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,Aa),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Aa(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Xi.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Uo(e,Io,!0),":");var n=this.g;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Uo(e,Io,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&i.push("/"),i.push(Uo(n,"/"==n.charAt(0)?es:vu,!0))),(n=this.i.toString())&&i.push("?",n),(n=this.o)&&i.push("#",Uo(n,ts)),i.join("")};var Io=/[#\/\?@]/g,vu=/[#\?:]/g,es=/[#\?]/g,Os=/[#\?@]/g,ts=/#/g;function ki(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Yr(i){i.g||(i.g=new Map,i.h=0,i.i&&function ua(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var o=i[n].indexOf("="),u=null;if(0<=o){var d=i[n].substring(0,o);u=i[n].substring(o+1)}else d=i[n];e(d,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function bo(i,e){Yr(i),e=Er(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function _u(i,e){return Yr(i),e=Er(i,e),i.g.has(e)}function Ma(i,e,n){bo(i,e),0<n.length&&(i.i=null,i.g.set(Er(i,e),He(n)),i.h+=n.length)}function Er(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Ds(i){this.l=i||Li,i=X.PerformanceNavigationTiming?0<(i=X.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(X.g&&X.g.Ga&&X.g.Ga()&&X.g.Ga().$b),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(te=ki.prototype).add=function(i,e){Yr(this),this.i=null,i=Er(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},te.forEach=function(i,e){Yr(this),this.g.forEach(function(n,o){n.forEach(function(u){i.call(e,u,o,this)},this)},this)},te.oa=function(){Yr(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let o=0;o<e.length;o++){const u=i[o];for(let d=0;d<u.length;d++)n.push(e[o])}return n},te.W=function(i){Yr(this);let e=[];if("string"==typeof i)_u(this,i)&&(e=e.concat(this.g.get(Er(this,i))));else{i=Array.from(this.g.values());for(let n=0;n<i.length;n++)e=e.concat(i[n])}return e},te.set=function(i,e){return Yr(this),this.i=null,_u(this,i=Er(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},te.get=function(i,e){return i&&0<(i=this.W(i)).length?String(i[0]):e},te.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var o=e[n];const d=encodeURIComponent(String(o)),m=this.W(o);for(o=0;o<m.length;o++){var u=d;""!==m[o]&&(u+="="+encodeURIComponent(String(m[o]))),i.push(u)}}return this.i=i.join("&")};var Li=10;function xa(i){return!!i.h||!!i.g&&i.g.size>=i.j}function ao(i){return i.h?1:i.g?i.g.size:0}function ps(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function lr(i,e){i.g?i.g.add(e):i.h=e}function Ra(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Is(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.D);return e}return He(i.i)}function _i(){}function zi(){this.g=new _i}function Ns(i,e,n){const o=n||"";try{wo(i,function(u,d){let m=u;Je(u)&&(m=_e(u)),e.push(o+d+"="+encodeURIComponent(m))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function An(i,e,n,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch{}}function bs(i){this.l=i.ac||null,this.j=i.jb||!1}function Bo(i,e){ke.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=So,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ds.prototype.cancel=function(){if(this.i=Is(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},_i.prototype.stringify=function(i){return X.JSON.stringify(i,void 0)},_i.prototype.parse=function(i){return X.JSON.parse(i,void 0)},Ue(bs,Ne),bs.prototype.g=function(){return new Bo(this.l,this.j)},bs.prototype.i=function(i){return function(){return i}}({}),Ue(Bo,ke);var So=0;function Pa(i){i.j.read().then(i.Ta.bind(i)).catch(i.ga.bind(i))}function Fi(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Mi(i)}function Mi(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(te=Bo.prototype).open=function(i,e){if(this.readyState!=So)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Mi(this)},te.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||X).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},te.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Fi(this)),this.readyState=So},te.Wa=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Mi(this)),this.g&&(this.readyState=3,Mi(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof X.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Pa(this)}else i.text().then(this.Va.bind(this),this.ga.bind(this))},te.Ta=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Fi(this):Mi(this),3==this.readyState&&Pa(this)}},te.Va=function(i){this.g&&(this.response=this.responseText=i,Fi(this))},te.Ua=function(i){this.g&&(this.response=i,Fi(this))},te.ga=function(){this.g&&Fi(this)},te.setRequestHeader=function(i,e){this.v.append(i,e)},te.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},te.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty(Bo.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var la=X.JSON.parse;function Dr(i){ke.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Et,this.K=this.L=!1}Ue(Dr,ke);var Et="",Bn=/^https?$/i,nu=["POST","PUT"];function ni(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,To(i),Ei(i)}function To(i){i.D||(i.D=!0,st(i,"complete"),st(i,"error"))}function Qo(i){if(i.h&&typeof De<"u"&&(!i.C[1]||4!=Ui(i)||2!=i.aa()))if(i.v&&4==Ui(i))Qe(i.Ha,0,i);else if(st(i,"readystatechange"),4==Ui(i)){i.h=!1;try{const C=i.aa();e:switch(C){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var o;if(o=0===C){var u=String(i.H).match(Wa)[1]||null;if(!u&&X.self&&X.self.location){var d=X.self.location.protocol;u=d.substr(0,d.length-1)}o=!Bn.test(u?u.toLowerCase():"")}n=o}if(n)st(i,"complete"),st(i,"success");else{i.m=6;try{var m=2<Ui(i)?i.g.statusText:""}catch{m=""}i.j=m+" ["+i.aa()+"]",To(i)}}finally{Ei(i)}}}function Ei(i,e){if(i.g){ca(i);const n=i.g,o=i.C[0]?ae:null;i.g=null,i.C=null,e||st(i,"ready");try{n.onreadystatechange=o}catch{}}}function ca(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(X.clearTimeout(i.A),i.A=null)}function Ui(i){return i.g?i.g.readyState:0}function da(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case Et:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function ks(i){let e="";return yi(i,function(n,o){e+=o,e+=":",e+=n,e+="\r\n"}),e}function Co(i,e,n){e:{for(o in n){var o=!1;break e}o=!0}o||(n=ks(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):gr(i,e,n))}function gs(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function ri(i){this.Ca=0,this.i=[],this.j=new fi,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=gs("failFast",!1,i),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=gs("baseRetryDelayMs",5e3,i),this.bb=gs("retryDelaySeedMs",1e4,i),this.$a=gs("forwardChannelMaxRetries",2,i),this.ta=gs("forwardChannelRequestTimeoutMs",2e4,i),this.ra=i&&i.xmlHttpFactory||void 0,this.Da=i&&i.Zb||!1,this.J=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.I="",this.h=new Ds(i&&i.concurrentRequestLimit),this.Fa=new zi,this.O=i&&i.fastHandshake||!1,this.N=i&&i.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=i&&i.Xb||!1,i&&i.Aa&&this.j.Aa(),i&&i.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&i&&i.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function ns(i){if($o(i),3==i.G){var e=i.U++,n=ro(i.F);gr(n,"SID",i.I),gr(n,"RID",e),gr(n,"TYPE","terminate"),Jo(i,n),(e=new Or(i,i.j,e,void 0)).K=2,e.v=oo(ro(n)),n=!1,X.navigator&&X.navigator.sendBeacon&&(n=X.navigator.sendBeacon(e.v.toString(),"")),!n&&X.Image&&((new Image).src=e.v,n=!0),n||(e.g=M(e.l,null),e.g.da(e.v)),e.F=Date.now(),Eo(e)}gi(i)}function uo(i){i.g&&(Ss(i),i.g.cancel(),i.g=null)}function $o(i){uo(i),i.u&&(X.clearTimeout(i.u),i.u=null),is(i),i.h.cancel(),i.m&&("number"==typeof i.m&&X.clearTimeout(i.m),i.m=null)}function rs(i){xa(i.h)||i.m||(i.m=!0,ze(i.Ja,i),i.C=0)}function ha(i,e){var n;n=e?e.m:i.U++;const o=ro(i.F);gr(o,"SID",i.I),gr(o,"RID",n),gr(o,"AID",i.T),Jo(i,o),i.o&&i.s&&Co(o,i.o,i.s),n=new Or(i,i.j,n,i.C+1),null===i.o&&(n.H=i.s),e&&(i.i=e.D.concat(i.i)),e=Oa(i,n,1e3),n.setTimeout(Math.round(.5*i.ta)+Math.round(.5*i.ta*Math.random())),lr(i.h,n),eo(n,o,e)}function Jo(i,e){i.ia&&yi(i.ia,function(n,o){gr(e,o,n)}),i.l&&wo({},function(n,o){gr(e,o,n)})}function Oa(i,e,n){n=Math.min(i.i.length,n);var o=i.l?Ae(i.l.Ra,i.l,i):null;e:{var u=i.i;let d=-1;for(;;){const m=["count="+n];-1==d?0<n?(d=u[0].h,m.push("ofs="+d)):d=0:m.push("ofs="+d);let C=!0;for(let U=0;U<n;U++){let z=u[U].h;const ne=u[U].g;if(z-=d,0>z)d=Math.max(0,u[U].h-100),C=!1;else try{Ns(ne,m,"req"+z+"_")}catch{o&&o(ne)}}if(C){o=m.join("&");break e}}}return i=i.i.splice(0,n),e.D=i,o}function Ao(i){i.g||i.u||(i.Z=1,ze(i.Ia,i),i.A=0)}function Mo(i){return!(i.g||i.u||3<=i.A||(i.Z++,i.u=ji(Ae(i.Ia,i),Ls(i,i.A)),i.A++,0))}function Ss(i){null!=i.B&&(X.clearTimeout(i.B),i.B=null)}function Wi(i){i.g=new Or(i,i.j,"rpc",i.Z),null===i.o&&(i.g.H=i.s),i.g.N=0;var e=ro(i.sa);gr(e,"RID","rpc"),gr(e,"SID",i.I),gr(e,"CI",i.L?"0":"1"),gr(e,"AID",i.T),gr(e,"TYPE","xmlhttp"),Jo(i,e),i.o&&i.s&&Co(e,i.o,i.s),i.J&&i.g.setTimeout(i.J);var n=i.g;i=i.ka,n.K=1,n.v=oo(ro(e)),n.s=null,n.P=!0,Ji(n,i)}function is(i){null!=i.v&&(X.clearTimeout(i.v),i.v=null)}function Xo(i,e){var n=null;if(i.g==e){is(i),Ss(i),i.g=null;var o=2}else{if(!ps(i.h,e))return;n=e.D,Ra(i.h,e),o=1}if(0!=i.G)if(i.pa=e.Y,e.i)if(1==o){n=e.s?e.s.length:0,e=Date.now()-e.F;var u=i.C;st(o=Cr(),new _o(o,n,e,u)),rs(i)}else Ao(i);else if(3==(u=e.o)||0==u&&0<i.pa||!(1==o&&function Ka(i,e){return!(ao(i.h)>=i.h.j-(i.m?1:0)||(i.m?(i.i=e.D.concat(i.i),0):1==i.G||2==i.G||i.C>=(i.Za?0:i.$a)||(i.m=ji(Ae(i.Ja,i,e),Ls(i,i.C)),i.C++,0)))}(i,e)||2==o&&Mo(i)))switch(n&&0<n.length&&(e=i.h,e.i=e.i.concat(n)),u){case 1:Fs(i,5);break;case 4:Fs(i,10);break;case 3:Fs(i,6);break;default:Fs(i,2)}}function Ls(i,e){let n=i.Xa+Math.floor(Math.random()*i.bb);return i.l||(n*=2),n*e}function Fs(i,e){if(i.j.info("Error code "+e),2==e){var n=null;i.l&&(n=null);var o=Ae(i.kb,i);n||(n=new Xi("//www.google.com/images/cleardot.gif"),X.location&&"http"==X.location.protocol||io(n,"https"),oo(n)),function Qr(i,e){const n=new fi;if(X.Image){const o=new Image;o.onload=ft(An,n,o,"TestLoadImage: loaded",!0,e),o.onerror=ft(An,n,o,"TestLoadImage: error",!1,e),o.onabort=ft(An,n,o,"TestLoadImage: abort",!1,e),o.ontimeout=ft(An,n,o,"TestLoadImage: timeout",!1,e),X.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(n.toString(),o)}else Br(2);i.G=0,i.l&&i.l.va(e),gi(i),$o(i)}function gi(i){if(i.G=0,i.la=[],i.l){const e=Is(i.h);(0!=e.length||0!=i.i.length)&&(nt(i.la,e),nt(i.la,i.i),i.h.i.length=0,He(i.i),i.i.length=0),i.l.ua()}}function jo(i,e,n){var o=n instanceof Xi?ro(n):new Xi(n,void 0);if(""!=o.g)e&&(o.g=e+"."+o.g),ti(o,o.m);else{var u=X.location;o=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var d=new Xi(null,void 0);o&&io(d,o),e&&(d.g=e),u&&ti(d,u),n&&(d.l=n),o=d}return e=i.za,(n=i.D)&&e&&gr(o,n,e),gr(o,"VER",i.ma),Jo(i,o),o}function M(i,e,n){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Dr(n&&i.Da&&!i.ra?new bs({jb:!0}):i.ra)).Ka(i.H),e}function H(){}function N(){if(un&&!(10<=Number(Pn)))throw Error("Environmental error: no available transport.")}function Z(i,e){ke.call(this),this.g=new ri(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.S=i,(i=e&&e.Yb)&&!Xe(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Xe(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new ct(this)}function Ee(i){jt.call(this);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function ot(){kn.call(this),this.status=1}function ct(i){this.g=i}(te=Dr.prototype).Ka=function(i){this.L=i},te.da=function(i,e,n,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():zr.g(),this.C=function Ge(i){return i.h||(i.h=i.i())}(this.u?this.u:zr),this.g.onreadystatechange=Ae(this.Ha,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(d){return void ni(this,d)}if(i=n||"",n=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var u in o)n.set(u,o[u]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const d of o.keys())n.set(d,o.get(d))}o=Array.from(n.keys()).find(d=>"content-type"==d.toLowerCase()),u=X.FormData&&i instanceof X.FormData,!(0<=Oe(nu,e))||o||u||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[d,m]of n)this.g.setRequestHeader(d,m);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ca(this),0<this.B&&((this.K=function Vo(i){return un&&function fr(){return function Ft(i){var e=xr;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=ce(String(yr)).split("."),n=ce("9").split("."),o=Math.max(e.length,n.length);for(let m=0;0==i&&m<o;m++){var u=e[m]||"",d=n[m]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],0==u[0].length&&0==d[0].length)break;i=at(0==u[1].length?0:parseInt(u[1],10),0==d[1].length?0:parseInt(d[1],10))||at(0==u[2].length,0==d[2].length)||at(u[2],d[2]),u=u[3],d=d[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ae(this.qa,this)):this.A=Qe(this.qa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(d){ni(this,d)}},te.qa=function(){typeof De<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,st(this,"timeout"),this.abort(8))},te.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,st(this,"complete"),st(this,"abort"),Ei(this))},te.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ei(this,!0)),Dr.X.M.call(this)},te.Ha=function(){this.s||(this.F||this.v||this.l?Qo(this):this.fb())},te.fb=function(){Qo(this)},te.aa=function(){try{return 2<Ui(this)?this.g.status:-1}catch{return-1}},te.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},te.Sa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),la(e)}},te.Ea=function(){return this.m},te.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(te=ri.prototype).ma=8,te.G=1,te.Ja=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.U=Math.floor(1e5*Math.random()),i=this.U++;const u=new Or(this,this.j,i,void 0);let d=this.s;if(this.S&&(d?(d=Xn(d),Un(d,this.S)):d=this.S),null!==this.o||this.N||(u.H=d,d=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){var o=this.i[n];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=n;break e}if(4096===e||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Oa(this,u,e),gr(n=ro(this.F),"RID",i),gr(n,"CVER",22),this.D&&gr(n,"X-HTTP-Session-Id",this.D),Jo(this,n),d&&(this.N?e="headers="+encodeURIComponent(String(ks(d)))+"&"+e:this.o&&Co(n,this.o,d)),lr(this.h,u),this.Ya&&gr(n,"TYPE","init"),this.O?(gr(n,"$req",e),gr(n,"SID","null"),u.Z=!0,eo(u,n,null)):eo(u,n,e),this.G=2}}else 3==this.G&&(i?ha(this,i):0==this.i.length||xa(this.h)||ha(this))},te.Ia=function(){if(this.u=null,Wi(this),this.$&&!(this.K||null==this.g||0>=this.P)){var i=2*this.P;this.j.info("BP detection timer enabled: "+i),this.B=ji(Ae(this.eb,this),i)}},te.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Br(10),uo(this),Wi(this))},te.cb=function(){null!=this.v&&(this.v=null,uo(this),Mo(this),Br(19))},te.kb=function(i){i?(this.j.info("Successfully pinged google.com"),Br(2)):(this.j.info("Failed to ping google.com"),Br(1))},(te=H.prototype).xa=function(){},te.wa=function(){},te.va=function(){},te.ua=function(){},te.Ra=function(){},N.prototype.g=function(i,e){return new Z(i,e)},Ue(Z,ke),Z.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,n=this.h||void 0;Br(0),i.V=e,i.ia=n||{},i.L=i.Y,i.F=jo(i,null,i.V),rs(i)},Z.prototype.close=function(){ns(this.g)},Z.prototype.u=function(i){var e=this.g;if("string"==typeof i){var n={};n.__data__=i,i=n}else this.v&&((n={}).__data__=_e(i),i=n);e.i.push(new class{constructor(i,e){this.h=i,this.g=e}}(e.ab++,i)),3==e.G&&rs(e)},Z.prototype.M=function(){this.g.l=null,delete this.j,ns(this.g),delete this.g,Z.X.M.call(this)},Ue(Ee,jt),Ue(ot,kn),Ue(ct,H),ct.prototype.xa=function(){st(this.g,"a")},ct.prototype.wa=function(i){st(this.g,new Ee(i))},ct.prototype.va=function(i){st(this.g,new ot(i))},ct.prototype.ua=function(){st(this.g,"b")},N.prototype.createWebChannel=N.prototype.g,Z.prototype.send=Z.prototype.u,Z.prototype.open=Z.prototype.m,Z.prototype.close=Z.prototype.close,Hi.NO_ERROR=0,Hi.TIMEOUT=8,Hi.HTTP_ERROR=6,Fe.COMPLETE="complete",pt.EventType=bt,bt.OPEN="a",bt.CLOSE="b",bt.ERROR="c",bt.MESSAGE="d",ke.prototype.listen=ke.prototype.N,Dr.prototype.listenOnce=Dr.prototype.O,Dr.prototype.getLastError=Dr.prototype.Oa,Dr.prototype.getLastErrorCode=Dr.prototype.Ea,Dr.prototype.getStatus=Dr.prototype.aa,Dr.prototype.getResponseJson=Dr.prototype.Sa,Dr.prototype.getResponseText=Dr.prototype.fa,Dr.prototype.send=Dr.prototype.da,Dr.prototype.setWithCredentials=Dr.prototype.Ka;var Jt=we.createWebChannelTransport=function(){return new N},dr=we.getStatEventTarget=function(){return Cr()},hr=we.ErrorCode=Hi,mr=we.EventType=Fe,sr=we.Event=qr,jr=we.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Ir=we.FetchXmlHttpFactory=bs,Nr=we.WebChannel=pt,Ts=we.XhrIo=Dr;const ms="@firebase/firestore";class wr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wr.UNAUTHENTICATED=new wr(null),wr.GOOGLE_CREDENTIALS=new wr("google-credentials-uid"),wr.FIRST_PARTY=new wr("first-party-uid"),wr.MOCK_USER=new wr("mock-user");let ss="9.12.1";const Wr=new se.Yd("@firebase/firestore");function ai(){return Wr.logLevel}function xo(i){Wr.setLogLevel(i)}function Mt(i,...e){if(Wr.logLevel<=se.in.DEBUG){const n=e.map(Cs);Wr.debug(`Firestore (${ss}): ${i}`,...n)}}function Vn(i,...e){if(Wr.logLevel<=se.in.ERROR){const n=e.map(Cs);Wr.error(`Firestore (${ss}): ${i}`,...n)}}function ys(i,...e){if(Wr.logLevel<=se.in.WARN){const n=e.map(Cs);Wr.warn(`Firestore (${ss}): ${i}`,...n)}}function Cs(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function nn(i="Unexpected state"){const e=`FIRESTORE (${ss}) INTERNAL ASSERTION FAILED: `+i;throw Vn(e),new Error(e)}function wn(i,e){i||nn()}function Eu(i,e){i||nn()}function Lt(i,e){return i}const lt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class At extends ue.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Jr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class Us{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Za{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(wr.UNAUTHENTICATED))}shutdown(){}}class ui{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class lo{constructor(e){this.t=e,this.currentUser=wr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var o=this;let u=this.i;const d=z=>this.i!==u?(u=this.i,n(z)):Promise.resolve();let m=new Jr;this.o=()=>{this.i++,this.currentUser=this.u(),m.resolve(),m=new Jr,e.enqueueRetryable(()=>d(this.currentUser))};const C=()=>{const z=m;e.enqueueRetryable((0,y.Z)(function*(){yield z.promise,yield d(o.currentUser)}))},U=z=>{Mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=z,this.auth.addAuthTokenListener(this.o),C()};this.t.onInit(z=>U(z)),setTimeout(()=>{if(!this.auth){const z=this.t.getImmediate({optional:!0});z?U(z):(Mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),m.resolve(),m=new Jr)}},0),C()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(o=>this.i!==e?(Mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(wn("string"==typeof o.accessToken),new Us(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return wn(null===e||"string"==typeof e),new wr(e)}}class vs{constructor(e,n,o,u){this.h=e,this.l=n,this.m=o,this.g=u,this.type="FirstParty",this.user=wr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(wn(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class ea{constructor(e,n,o,u){this.h=e,this.l=n,this.m=o,this.g=u}getToken(){return Promise.resolve(new vs(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(wr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fa{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pa{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const o=d=>{null!=d.error&&Mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`);const m=d.token!==this.A;return this.A=d.token,Mt("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?n(d.token):Promise.resolve()};this.o=d=>{e.enqueueRetryable(()=>o(d))};const u=d=>{Mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=d,this.appCheck.addTokenListener(this.o)};this.T.onInit(d=>u(d)),setTimeout(()=>{if(!this.appCheck){const d=this.T.getImmediate({optional:!0});d?u(d):Mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(wn("string"==typeof n.token),this.A=n.token,new fa(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function br(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let o=0;o<i;o++)n[o]=Math.floor(256*Math.random());return n}class ga{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const u=br(40);for(let d=0;d<u.length;++d)o.length<20&&u[d]<n&&(o+=e.charAt(u[d]%e.length))}return o}}function hn(i,e){return i<e?-1:i>e?1:0}function Bs(i,e,n){return i.length===e.length&&i.every((o,u)=>n(o,e[u]))}function co(i){return i+"\0"}class Vr{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new At(lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new At(lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new At(lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new At(lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Vr.fromMillis(Date.now())}static fromDate(e){return Vr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*n));return new Vr(n,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?hn(this.nanoseconds,e.nanoseconds):hn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class _n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new _n(e)}static min(){return new _n(new Vr(0,0))}static max(){return new _n(new Vr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class li{constructor(e,n,o){void 0===n?n=0:n>e.length&&nn(),void 0===o?o=e.length-n:o>e.length-n&&nn(),this.segments=e,this.offset=n,this.len=o}get length(){return this.len}isEqual(e){return 0===li.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof li?e.forEach(o=>{n.push(o)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,o=this.limit();n<o;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const o=Math.min(e.length,n.length);for(let u=0;u<o;u++){const d=e.get(u),m=n.get(u);if(d<m)return-1;if(d>m)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Gn extends li{construct(e,n,o){return new Gn(e,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const o of e){if(o.indexOf("//")>=0)throw new At(lt.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter(u=>u.length>0))}return new Gn(n)}static emptyPath(){return new Gn([])}}const ta=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Sr extends li{construct(e,n,o){return new Sr(e,n,o)}static isValidIdentifier(e){return ta.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Sr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Sr(["__name__"])}static fromServerFormat(e){const n=[];let o="",u=0;const d=()=>{if(0===o.length)throw new At(lt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let m=!1;for(;u<e.length;){const C=e[u];if("\\"===C){if(u+1===e.length)throw new At(lt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const U=e[u+1];if("\\"!==U&&"."!==U&&"`"!==U)throw new At(lt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=U,u+=2}else"`"===C?(m=!m,u++):"."!==C||m?(o+=C,u++):(d(),u++)}if(d(),m)throw new At(lt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Sr(n)}static emptyPath(){return new Sr([])}}class Vt{constructor(e){this.path=e}static fromPath(e){return new Vt(Gn.fromString(e))}static fromName(e){return new Vt(Gn.fromString(e).popFirst(5))}static empty(){return new Vt(Gn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Gn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Gn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Vt(new Gn(e.slice()))}}class Vs{constructor(e,n,o,u){this.indexId=e,this.collectionGroup=n,this.fields=o,this.indexState=u}}function ci(i){return i.fields.find(e=>2===e.kind)}function ho(i){return i.fields.filter(e=>2!==e.kind)}Vs.UNKNOWN_ID=-1;class Ii{constructor(e,n){this.fieldPath=e,this.kind=n}}class fo{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new fo(0,Bi.min())}}function ma(i,e){const n=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,u=_n.fromTimestamp(1e9===o?new Vr(n+1,0):new Vr(n,o));return new Bi(u,Vt.empty(),e)}function As(i){return new Bi(i.readTime,i.key,-1)}class Bi{constructor(e,n,o){this.readTime=e,this.documentKey=n,this.largestBatchId=o}static min(){return new Bi(_n.min(),Vt.empty(),-1)}static max(){return new Bi(_n.max(),Vt.empty(),-1)}}function ru(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=Vt.comparator(i.documentKey,e.documentKey),0!==n?n:hn(i.largestBatchId,e.largestBatchId))}const Ho="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ya{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function os(i){return Ro.apply(this,arguments)}function Ro(){return Ro=(0,y.Z)(function*(i){if(i.code!==lt.FAILED_PRECONDITION||i.message!==Ho)throw i;Mt("LocalStore","Unexpectedly lost primary lease")}),Ro.apply(this,arguments)}class qe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&nn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new qe((o,u)=>{this.nextCallback=d=>{this.wrapSuccess(e,d).next(o,u)},this.catchCallback=d=>{this.wrapFailure(n,d).next(o,u)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof qe?n:qe.resolve(n)}catch(n){return qe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):qe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):qe.reject(n)}static resolve(e){return new qe((n,o)=>{n(e)})}static reject(e){return new qe((n,o)=>{o(e)})}static waitFor(e){return new qe((n,o)=>{let u=0,d=0,m=!1;e.forEach(C=>{++u,C.next(()=>{++d,m&&d===u&&n()},U=>o(U))}),m=!0,d===u&&n()})}static or(e){let n=qe.resolve(!1);for(const o of e)n=n.next(u=>u?qe.resolve(u):o());return n}static forEach(e,n){const o=[];return e.forEach((u,d)=>{o.push(n.call(this,u,d))}),this.waitFor(o)}static mapArray(e,n){return new qe((o,u)=>{const d=e.length,m=new Array(d);let C=0;for(let U=0;U<d;U++){const z=U;n(e[z]).next(ne=>{m[z]=ne,++C,C===d&&o(m)},ne=>u(ne))}})}static doWhile(e,n){return new qe((o,u)=>{const d=()=>{!0===e()?n().next(()=>{d()},u):o()};d()})}}class $s{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.P=new Jr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{n.error?this.P.reject(new na(e,n.error)):this.P.resolve()},this.transaction.onerror=o=>{const u=ka(o.target.error);this.P.reject(new na(e,u))}}static open(e,n,o,u){try{return new $s(n,e.transaction(u,o))}catch(d){throw new na(n,d)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Mt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new bi(n)}}class Xr{constructor(e,n,o){this.name=e,this.version=n,this.S=o,12.2===Xr.D((0,ue.z$)())&&Vn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Mt("SimpleDb","Removing database:",e),_s(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,ue.hl)())return!1;if(Xr.N())return!0;const e=(0,ue.z$)(),n=Xr.D(e),o=0<n&&n<10,u=Xr.k(e),d=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||d)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,n){return e.store(n)}static D(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static k(e){const n=e.match(/Android ([\d.]+)/i),o=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(o)}F(e){var n=this;return(0,y.Z)(function*(){return n.db||(Mt("SimpleDb","Opening database:",n.name),n.db=yield new Promise((o,u)=>{const d=indexedDB.open(n.name,n.version);d.onsuccess=m=>{o(m.target.result)},d.onblocked=()=>{u(new na(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},d.onerror=m=>{const C=m.target.error;u("VersionError"===C.name?new At(lt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===C.name?new At(lt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+C):new na(e,C))},d.onupgradeneeded=m=>{Mt("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',m.oldVersion),n.S.$(m.target.result,d.transaction,m.oldVersion,n.version).next(()=>{Mt("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.B&&(n.db.onversionchange=o=>n.B(o)),n.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,o,u){var d=this;return(0,y.Z)(function*(){const m="readonly"===n;let C=0;for(;;){++C;try{d.db=yield d.F(e);const U=$s.open(d.db,e,m?"readonly":"readwrite",o),z=u(U).next(ne=>(U.V(),ne)).catch(ne=>(U.abort(ne),qe.reject(ne))).toPromise();return z.catch(()=>{}),yield U.v,z}catch(U){const z=U,ne="FirebaseError"!==z.name&&C<3;if(Mt("SimpleDb","Transaction failed with error:",z.message,"Retrying:",ne),d.close(),!ne)return Promise.reject(z)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class zo{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return _s(this.U.delete())}}class na extends At{constructor(e,n){super(lt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Gi(i){return"IndexedDbTransactionError"===i.name}class bi{constructor(e){this.store=e}put(e,n){let o;return void 0!==n?(Mt("SimpleDb","PUT",this.store.name,e,n),o=this.store.put(n,e)):(Mt("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),_s(o)}add(e){return Mt("SimpleDb","ADD",this.store.name,e,e),_s(this.store.add(e))}get(e){return _s(this.store.get(e)).next(n=>(void 0===n&&(n=null),Mt("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return Mt("SimpleDb","DELETE",this.store.name,e),_s(this.store.delete(e))}count(){return Mt("SimpleDb","COUNT",this.store.name),_s(this.store.count())}W(e,n){const o=this.options(e,n);if(o.index||"function"!=typeof this.store.getAll){const u=this.cursor(o),d=[];return this.H(u,(m,C)=>{d.push(C)}).next(()=>d)}{const u=this.store.getAll(o.range);return new qe((d,m)=>{u.onerror=C=>{m(C.target.error)},u.onsuccess=C=>{d(C.target.result)}})}}J(e,n){const o=this.store.getAll(e,null===n?void 0:n);return new qe((u,d)=>{o.onerror=m=>{d(m.target.error)},o.onsuccess=m=>{u(m.target.result)}})}Y(e,n){Mt("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,n);o.X=!1;const u=this.cursor(o);return this.H(u,(d,m,C)=>C.delete())}Z(e,n){let o;n?o=e:(o={},n=e);const u=this.cursor(o);return this.H(u,n)}tt(e){const n=this.cursor({});return new qe((o,u)=>{n.onerror=d=>{const m=ka(d.target.error);u(m)},n.onsuccess=d=>{const m=d.target.result;m?e(m.primaryKey,m.value).next(C=>{C?m.continue():o()}):o()}})}H(e,n){const o=[];return new qe((u,d)=>{e.onerror=m=>{d(m.target.error)},e.onsuccess=m=>{const C=m.target.result;if(!C)return void u();const U=new zo(C),z=n(C.primaryKey,C.value,U);if(z instanceof qe){const ne=z.catch(Te=>(U.done(),qe.reject(Te)));o.push(ne)}U.isDone?u():null===U.G?C.continue():C.continue(U.G)}}).next(()=>qe.waitFor(o))}options(e,n){let o;return void 0!==e&&("string"==typeof e?o=e:n=e),{index:o,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const o=this.store.index(e.index);return e.X?o.openKeyCursor(e.range,n):o.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function _s(i){return new qe((e,n)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const u=ka(o.target.error);n(u)}})}let Tr=!1;function ka(i){const e=Xr.D((0,ue.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(n)>=0){const o=new At("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Tr||(Tr=!0,setTimeout(()=>{throw o},0)),o}}return i}class Du{constructor(e,n){this.asyncQueue=e,this.et=n,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var n=this;Mt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,y.Z)(function*(){n.task=null;try{Mt("IndexBackiller",`Documents written: ${yield n.et.st()}`)}catch(o){Gi(o)?Mt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield os(o)}yield n.nt(6e4)}))}}class Qu{constructor(e,n){this.localStore=e,this.persistence=n}st(e=50){var n=this;return(0,y.Z)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>n.it(o,e))})()}it(e,n){const o=new Set;let u=n,d=!0;return qe.doWhile(()=>!0===d&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(m=>{if(null!==m&&!o.has(m))return Mt("IndexBackiller",`Processing collection: ${m}`),this.rt(e,m,u).next(C=>{u-=C,o.add(m)});d=!1})).next(()=>n-u)}rt(e,n,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(u=>this.localStore.localDocuments.getNextDocuments(e,n,u,o).next(d=>{const m=d.changes;return this.localStore.indexManager.updateIndexEntries(e,m).next(()=>this.ot(u,d)).next(C=>(Mt("IndexBackiller",`Updating offset: ${C}`),this.localStore.indexManager.updateCollectionGroup(e,n,C))).next(()=>m.size)}))}ot(e,n){let o=e;return n.changes.forEach((u,d)=>{const m=As(d);ru(m,o)>0&&(o=m)}),new Bi(o.readTime,o.documentKey,Math.max(n.batchId,e.largestBatchId))}}class Es{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=o=>this.ut(o),this.ct=o=>n.writeSequenceNumber(o))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function Ju(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function js(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Lu(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}Es.at=-1;class kr{constructor(e,n){this.comparator=e,this.root=n||xi.EMPTY}insert(e,n){return new kr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,xi.BLACK,null,null))}remove(e){return new kr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xi.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(0===o)return n.value;o<0?n=n.left:o>0&&(n=n.right)}return null}indexOf(e){let n=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return n+o.left.size;u<0?o=o.left:(n+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,o)=>(e(n,o),!1))}toString(){const e=[];return this.inorderTraversal((n,o)=>(e.push(`${n}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new La(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new La(this.root,e,this.comparator,!1)}getReverseIterator(){return new La(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new La(this.root,e,this.comparator,!0)}}class La{constructor(e,n,o,u){this.isReverse=u,this.nodeStack=[];let d=1;for(;!e.isEmpty();)if(d=n?o(e.key,n):1,n&&u&&(d*=-1),d<0)e=this.isReverse?e.left:e.right;else{if(0===d){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xi{constructor(e,n,o,u,d){this.key=e,this.value=n,this.color=o??xi.RED,this.left=u??xi.EMPTY,this.right=d??xi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,o,u,d){return new xi(e??this.key,n??this.value,o??this.color,u??this.left,d??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let u=this;const d=o(e,u.key);return u=d<0?u.copy(null,null,null,u.left.insert(e,n,o),null):0===d?u.copy(null,n,null,null,null):u.copy(null,null,null,null,u.right.insert(e,n,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return xi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let o,u=this;if(n(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,n),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===n(e,u.key)){if(u.right.isEmpty())return xi.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,n))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw nn();const e=this.left.check();if(e!==this.right.check())throw nn();return e+(this.isRed()?0:1)}}xi.EMPTY=null,xi.RED=!0,xi.BLACK=!1,xi.EMPTY=new class{constructor(){this.size=0}get key(){throw nn()}get value(){throw nn()}get color(){throw nn()}get left(){throw nn()}get right(){throw nn()}copy(i,e,n,o,u){return this}insert(i,e,n){return new xi(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xn{constructor(e){this.comparator=e,this.data=new kr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,o)=>(e(n),!1))}forEachInRange(e,n){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;n(u.key)}}forEachWhile(e,n){let o;for(o=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ya(this.data.getIterator())}getIteratorFrom(e){return new ya(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(o=>{n=n.add(o)}),n}isEqual(e){if(!(e instanceof xn)||this.size!==e.size)return!1;const n=this.data.getIterator(),o=e.data.getIterator();for(;n.hasNext();){const u=n.getNext().key,d=o.getNext().key;if(0!==this.comparator(u,d))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new xn(this.comparator);return n.data=e,n}}class ya{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function po(i){return i.hasNext()?i.getNext():void 0}class Ki{constructor(e){this.fields=e,e.sort(Sr.comparator)}static empty(){return new Ki([])}unionWith(e){let n=new xn(Sr.comparator);for(const o of this.fields)n=n.add(o);for(const o of e)n=n.add(o);return new Ki(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Bs(this.fields,e.fields,(n,o)=>n.isEqual(o))}}function Fu(){return typeof atob<"u"}class cr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new cr(n)}static fromUint8Array(e){const n=function(o){let u="";for(let d=0;d<o.length;++d)u+=String.fromCharCode(o[d]);return u}(e);return new cr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return hn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cr.EMPTY_BYTE_STRING=new cr("");const Po=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hs(i){if(wn(!!i),"string"==typeof i){let e=0;const n=Po.exec(i);if(wn(!!n),n[1]){let u=n[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Lr(i.seconds),nanos:Lr(i.nanos)}}function Lr(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function D(i){return"string"==typeof i?cr.fromBase64String(i):cr.fromUint8Array(i)}function b(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function w(i){const e=i.mapValue.fields.__previous_value__;return b(e)?w(e):e}function R(i){const e=Hs(i.mapValue.fields.__local_write_time__.timestampValue);return new Vr(e.seconds,e.nanos)}class L{constructor(e,n,o,u,d,m,C,U){this.databaseId=e,this.appId=n,this.persistenceKey=o,this.host=u,this.ssl=d,this.forceLongPolling=m,this.autoDetectLongPolling=C,this.useFetchStreams=U}}class q{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new q("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof q&&e.projectId===this.projectId&&e.database===this.database}}function pe(i){return null==i}function ve(i){return 0===i&&1/i==-1/0}function dt(i){return"number"==typeof i&&Number.isInteger(i)&&!ve(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const Ot={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Nn={nullValue:"NULL_VALUE"};function qt(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?b(i)?4:go(i)?9007199254740991:10:nn()}function Kn(i,e){if(i===e)return!0;const n=qt(i);if(n!==qt(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return R(i).isEqual(R(e));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const d=Hs(o.timestampValue),m=Hs(u.timestampValue);return d.seconds===m.seconds&&d.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,D(i.bytesValue).isEqual(D(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return Lr(o.geoPointValue.latitude)===Lr(u.geoPointValue.latitude)&&Lr(o.geoPointValue.longitude)===Lr(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Lr(o.integerValue)===Lr(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const d=Lr(o.doubleValue),m=Lr(u.doubleValue);return d===m?ve(d)===ve(m):isNaN(d)&&isNaN(m)}return!1}(i,e);case 9:return Bs(i.arrayValue.values||[],e.arrayValue.values||[],Kn);case 10:return function(o,u){const d=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Ju(d)!==Ju(m))return!1;for(const C in d)if(d.hasOwnProperty(C)&&(void 0===m[C]||!Kn(d[C],m[C])))return!1;return!0}(i,e);default:return nn()}var u}function ei(i,e){return void 0!==(i.values||[]).find(n=>Kn(n,e))}function Si(i,e){if(i===e)return 0;const n=qt(i),o=qt(e);if(n!==o)return hn(n,o);switch(n){case 0:case 9007199254740991:return 0;case 1:return hn(i.booleanValue,e.booleanValue);case 2:return function(u,d){const m=Lr(u.integerValue||u.doubleValue),C=Lr(d.integerValue||d.doubleValue);return m<C?-1:m>C?1:m===C?0:isNaN(m)?isNaN(C)?0:-1:1}(i,e);case 3:return as(i.timestampValue,e.timestampValue);case 4:return as(R(i),R(e));case 5:return hn(i.stringValue,e.stringValue);case 6:return function(u,d){const m=D(u),C=D(d);return m.compareTo(C)}(i.bytesValue,e.bytesValue);case 7:return function(u,d){const m=u.split("/"),C=d.split("/");for(let U=0;U<m.length&&U<C.length;U++){const z=hn(m[U],C[U]);if(0!==z)return z}return hn(m.length,C.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,d){const m=hn(Lr(u.latitude),Lr(d.latitude));return 0!==m?m:hn(Lr(u.longitude),Lr(d.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,d){const m=u.values||[],C=d.values||[];for(let U=0;U<m.length&&U<C.length;++U){const z=Si(m[U],C[U]);if(z)return z}return hn(m.length,C.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,d){if(u===Ot.mapValue&&d===Ot.mapValue)return 0;if(u===Ot.mapValue)return 1;if(d===Ot.mapValue)return-1;const m=u.fields||{},C=Object.keys(m),U=d.fields||{},z=Object.keys(U);C.sort(),z.sort();for(let ne=0;ne<C.length&&ne<z.length;++ne){const Te=hn(C[ne],z[ne]);if(0!==Te)return Te;const rt=Si(m[C[ne]],U[z[ne]]);if(0!==rt)return rt}return hn(C.length,z.length)}(i.mapValue,e.mapValue);default:throw nn()}}function as(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return hn(i,e);const n=Hs(i),o=Hs(e),u=hn(n.seconds,o.seconds);return 0!==u?u:hn(n.nanos,o.nanos)}function Zi(i){return Fa(i)}function Fa(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const u=Hs(o);return`time(${u.seconds},${u.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?D(i.bytesValue).toBase64():"referenceValue"in i?Vt.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let u="[",d=!0;for(const m of o.values||[])d?d=!1:u+=",",u+=Fa(m);return u+"]"}(i.arrayValue):"mapValue"in i?function(o){const u=Object.keys(o.fields||{}).sort();let d="{",m=!0;for(const C of u)m?m=!1:d+=",",d+=`${C}:${Fa(o.fields[C])}`;return d+"}"}(i.mapValue):nn();var e}function us(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function va(i){return!!i&&"integerValue"in i}function ra(i){return!!i&&"arrayValue"in i}function Oo(i){return!!i&&"nullValue"in i}function ls(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function No(i){return!!i&&"mapValue"in i}function ko(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return js(i.mapValue.fields,(n,o)=>e.mapValue.fields[n]=ko(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ko(i.arrayValue.values[n]);return e}return Object.assign({},i)}function go(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function El(i){return"nullValue"in i?Nn:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?us(q.empty(),Vt.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:nn()}function ia(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?us(q.empty(),Vt.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?Ot:nn()}function _a(i,e){const n=Si(i.value,e.value);return 0!==n?n:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function Ua(i,e){const n=Si(i.value,e.value);return 0!==n?n:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class Vi{constructor(e){this.value=e}static empty(){return new Vi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let o=0;o<e.length-1;++o)if(n=(n.mapValue.fields||{})[e.get(o)],!No(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ko(n)}setAll(e){let n=Sr.emptyPath(),o={},u=[];e.forEach((m,C)=>{if(!n.isImmediateParentOf(C)){const U=this.getFieldsMap(n);this.applyChanges(U,o,u),o={},u=[],n=C.popLast()}m?o[C.lastSegment()]=ko(m):u.push(C.lastSegment())});const d=this.getFieldsMap(n);this.applyChanges(d,o,u)}delete(e){const n=this.field(e.popLast());No(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Kn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=n.mapValue.fields[e.get(o)];No(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},n.mapValue.fields[e.get(o)]=u),n=u}return n.mapValue.fields}applyChanges(e,n,o){js(n,(u,d)=>e[u]=d);for(const u of o)delete e[u]}clone(){return new Vi(ko(this.value))}}function ii(i){const e=[];return js(i.fields,(n,o)=>{const u=new Sr([n]);if(No(o)){const d=ii(o.mapValue).fields;if(0===d.length)e.push(u);else for(const m of d)e.push(u.child(m))}else e.push(u)}),new Ki(e)}class Fr{constructor(e,n,o,u,d,m){this.key=e,this.documentType=n,this.version=o,this.readTime=u,this.data=d,this.documentState=m}static newInvalidDocument(e){return new Fr(e,0,_n.min(),_n.min(),Vi.empty(),0)}static newFoundDocument(e,n,o){return new Fr(e,1,n,_n.min(),o,0)}static newNoDocument(e,n){return new Fr(e,2,n,_n.min(),Vi.empty(),0)}static newUnknownDocument(e,n){return new Fr(e,3,n,_n.min(),Vi.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_n.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Fr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Uu{constructor(e,n=null,o=[],u=[],d=null,m=null,C=null){this.path=e,this.collectionGroup=n,this.orderBy=o,this.filters=u,this.limit=d,this.startAt=m,this.endAt=C,this.ht=null}}function O(i,e=null,n=[],o=[],u=null,d=null,m=null){return new Uu(i,e,n,o,u,d,m)}function F(i){const e=Lt(i);if(null===e.ht){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(o=>{return(u=o).field.canonicalString()+u.op.toString()+Zi(u.value);var u}).join(","),n+="|ob:",n+=e.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),pe(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>Zi(o)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>Zi(o)).join(",")),e.ht=n}return e.ht}function me(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let u=0;u<i.orderBy.length;u++)if(!su(i.orderBy[u],e.orderBy[u]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let u=0;u<i.filters.length;u++)if((n=i.filters[u]).op!==(o=e.filters[u]).op||!n.field.isEqual(o.field)||!Kn(n.value,o.value))return!1;var n,o;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Wo(i.startAt,e.startAt)&&Wo(i.endAt,e.endAt)}function Ve(i){return Vt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function ut(i,e){return i.filters.filter(n=>n instanceof Qt&&n.field.isEqual(e))}function St(i,e,n){let o=Nn,u=!0;for(const d of ut(i,e)){let m=Nn,C=!0;switch(d.op){case"<":case"<=":m=El(d.value);break;case"==":case"in":case">=":m=d.value;break;case">":m=d.value,C=!1;break;case"!=":case"not-in":m=Nn}_a({value:o,inclusive:u},{value:m,inclusive:C})<0&&(o=m,u=C)}if(null!==n)for(let d=0;d<i.orderBy.length;++d)if(i.orderBy[d].field.isEqual(e)){const m=n.position[d];_a({value:o,inclusive:u},{value:m,inclusive:n.inclusive})<0&&(o=m,u=n.inclusive);break}return{value:o,inclusive:u}}function Ht(i,e,n){let o=Ot,u=!0;for(const d of ut(i,e)){let m=Ot,C=!0;switch(d.op){case">=":case">":m=ia(d.value),C=!1;break;case"==":case"in":case"<=":m=d.value;break;case"<":m=d.value,C=!1;break;case"!=":case"not-in":m=Ot}Ua({value:o,inclusive:u},{value:m,inclusive:C})>0&&(o=m,u=C)}if(null!==n)for(let d=0;d<i.orderBy.length;++d)if(i.orderBy[d].field.isEqual(e)){const m=n.position[d];Ua({value:o,inclusive:u},{value:m,inclusive:n.inclusive})>0&&(o=m,u=n.inclusive);break}return{value:o,inclusive:u}}class Qt extends class{}{constructor(e,n,o){super(),this.field=e,this.op=n,this.value=o}static create(e,n,o){return e.isKeyField()?"in"===n||"not-in"===n?this.lt(e,n,o):new Ln(e,n,o):"array-contains"===n?new ws(e,o):"in"===n?new Qa(e,o):"not-in"===n?new iu(e,o):"array-contains-any"===n?new mo(e,o):new Qt(e,n,o)}static lt(e,n,o){return"in"===n?new Zn(e,o):new In(e,o)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.ft(Si(n,this.value)):null!==n&&qt(this.value)===qt(n)&&this.ft(Si(n,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return nn()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Ln extends Qt{constructor(e,n,o){super(e,n,o),this.key=Vt.fromName(o.referenceValue)}matches(e){const n=Vt.comparator(e.key,this.key);return this.ft(n)}}class Zn extends Qt{constructor(e,n){super(e,"in",n),this.keys=di(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class In extends Qt{constructor(e,n){super(e,"not-in",n),this.keys=di(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function di(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(o=>Vt.fromName(o.referenceValue))}class ws extends Qt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ra(n)&&ei(n.arrayValue,this.value)}}class Qa extends Qt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&ei(this.value.arrayValue,n)}}class iu extends Qt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ei(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!ei(this.value.arrayValue,n)}}class mo extends Qt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ra(n)||!n.arrayValue.values)&&n.arrayValue.values.some(o=>ei(this.value.arrayValue,o))}}class Ms{constructor(e,n){this.position=e,this.inclusive=n}}class Ea{constructor(e,n="asc"){this.field=e,this.dir=n}}function su(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function yo(i,e,n){let o=0;for(let u=0;u<i.position.length;u++){const d=e[u],m=i.position[u];if(o=d.field.isKeyField()?Vt.comparator(Vt.fromName(m.referenceValue),n.key):Si(m,n.data.field(d.field)),"desc"===d.dir&&(o*=-1),0!==o)break}return o}function Wo(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Kn(i.position[n],e.position[n]))return!1;return!0}class sa{constructor(e,n=null,o=[],u=[],d=null,m="F",C=null,U=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=u,this.limit=d,this.limitType=m,this.startAt=C,this.endAt=U,this._t=null,this.wt=null}}function wl(i,e,n,o,u,d,m,C){return new sa(i,e,n,o,u,d,m,C)}function ou(i){return new sa(i)}function Hl(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function Ba(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function Xu(i){for(const e of i.filters)if(e.dt())return e.field;return null}function Dl(i){return null!==i.collectionGroup}function au(i){const e=Lt(i);if(null===e._t){e._t=[];const n=Xu(e),o=Ba(e);if(null!==n&&null===o)n.isKeyField()||e._t.push(new Ea(n)),e._t.push(new Ea(Sr.keyField(),"asc"));else{let u=!1;for(const d of e.explicitOrderBy)e._t.push(d),d.field.isKeyField()&&(u=!0);if(!u){const d=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new Ea(Sr.keyField(),d))}}}return e._t}function zs(i){const e=Lt(i);if(!e.wt)if("F"===e.limitType)e.wt=O(e.path,e.collectionGroup,au(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const d of au(e))n.push(new Ea(d.field,"desc"===d.dir?"asc":"desc"));const o=e.endAt?new Ms(e.endAt.position,e.endAt.inclusive):null,u=e.startAt?new Ms(e.startAt.position,e.startAt.inclusive):null;e.wt=O(e.path,e.collectionGroup,n,e.filters,e.limit,o,u)}return e.wt}function uu(i,e,n){return new sa(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Bu(i,e){return me(zs(i),zs(e))&&i.limitType===e.limitType}function el(i){return`${F(zs(i))}|lt:${i.limitType}`}function zl(i){return`Query(target=${function G(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(n=>{return`${(o=n).field.canonicalString()} ${o.op} ${Zi(o.value)}`;var o}).join(", ")}]`),pe(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(n=>{return`${(o=n).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(n=>Zi(n)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(n=>Zi(n)).join(",")),`Target(${e})`}(zs(i))}; limitType=${i.limitType})`}function Vu(i,e){return e.isFoundDocument()&&function(n,o){const u=o.key.path;return null!==n.collectionGroup?o.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(u):Vt.isDocumentKey(n.path)?n.path.isEqual(u):n.path.isImmediateParentOf(u)}(i,e)&&function(n,o){for(const u of n.explicitOrderBy)if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(i,e)&&function(n,o){for(const u of n.filters)if(!u.matches(o))return!1;return!0}(i,e)&&(o=e,!((n=i).startAt&&!function(u,d,m){const C=yo(u,d,m);return u.inclusive?C<=0:C<0}(n.startAt,au(n),o)||n.endAt&&!function(u,d,m){const C=yo(u,d,m);return u.inclusive?C>=0:C>0}(n.endAt,au(n),o)));var n,o}function tl(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function nl(i){return(e,n)=>{let o=!1;for(const u of au(i)){const d=Iu(u,e,n);if(0!==d)return d;o=o||u.field.isKeyField()}return 0}}function Iu(i,e,n){const o=i.field.isKeyField()?Vt.comparator(e.key,n.key):function(u,d,m){const C=d.data.field(u),U=m.data.field(u);return null!==C&&null!==U?Si(C,U):nn()}(i.field,e,n);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return nn()}}function Wl(i,e){if(i.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ve(e)?"-0":e}}function Gl(i){return{integerValue:""+i}}function A(i,e){return dt(e)?Gl(e):Wl(i,e)}class g{constructor(){this._=void 0}}function c(i,e,n){return i instanceof V?function(o,u){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&(d.fields.__previous_value__=u),{mapValue:d}}(n,e):i instanceof Y?J(i,e):i instanceof Se?tt(i,e):function(o,u){const d=P(o,u),m=kt(d)+kt(o.yt);return va(d)&&va(o.yt)?Gl(m):Wl(o.It,m)}(i,e)}function _(i,e,n){return i instanceof Y?J(i,e):i instanceof Se?tt(i,e):n}function P(i,e){return i instanceof xt?va(n=e)||(o=n)&&"doubleValue"in o?e:{integerValue:0}:null;var o,n}class V extends g{}class Y extends g{constructor(e){super(),this.elements=e}}function J(i,e){const n=yn(e);for(const o of i.elements)n.some(u=>Kn(u,o))||n.push(o);return{arrayValue:{values:n}}}class Se extends g{constructor(e){super(),this.elements=e}}function tt(i,e){let n=yn(e);for(const o of i.elements)n=n.filter(u=>!Kn(u,o));return{arrayValue:{values:n}}}class xt extends g{constructor(e,n){super(),this.It=e,this.yt=n}}function kt(i){return Lr(i.integerValue||i.doubleValue)}function yn(i){return ra(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Tn{constructor(e,n){this.field=e,this.transform=n}}class zn{constructor(e,n){this.version=e,this.transformResults=n}}class Rn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Rn}static exists(e){return new Rn(void 0,e)}static updateTime(e){return new Rn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hr(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class Ri{}function xs(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new je(i.key,Rn.none()):new f(i.key,i.data,Rn.none());{const n=i.data,o=Vi.empty();let u=new xn(Sr.comparator);for(let d of e.fields)if(!u.has(d)){let m=n.field(d);null===m&&d.length>1&&(d=d.popLast(),m=n.field(d)),null===m?o.delete(d):o.set(d,m),u=u.add(d)}return new p(i.key,o,new Ki(u.toArray()),Rn.none())}}function qi(i,e,n){i instanceof f?function(o,u,d){const m=o.value.clone(),C=W(o.fieldTransforms,u,d.transformResults);m.setAll(C),u.convertToFoundDocument(d.version,m).setHasCommittedMutations()}(i,e,n):i instanceof p?function(o,u,d){if(!Hr(o.precondition,u))return void u.convertToUnknownDocument(d.version);const m=W(o.fieldTransforms,u,d.transformResults),C=u.data;C.setAll(T(o)),C.setAll(m),u.convertToFoundDocument(d.version,C).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function wa(i,e,n,o){return i instanceof f?function(u,d,m,C){if(!Hr(u.precondition,d))return m;const U=u.value.clone(),z=ee(u.fieldTransforms,C,d);return U.setAll(z),d.convertToFoundDocument(d.version,U).setHasLocalMutations(),null}(i,e,n,o):i instanceof p?function(u,d,m,C){if(!Hr(u.precondition,d))return m;const U=ee(u.fieldTransforms,C,d),z=d.data;return z.setAll(T(u)),z.setAll(U),d.convertToFoundDocument(d.version,z).setHasLocalMutations(),null===m?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(ne=>ne.field))}(i,e,n,o):(m=n,Hr(i.precondition,d=e)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):m);var d,m}function Da(i,e){let n=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),d=P(o.transform,u||null);null!=d&&(null===n&&(n=Vi.empty()),n.set(o.field,d))}return n||null}function I(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(n=i.fieldTransforms)&&void 0===o||n&&o&&Bs(n,o,(u,d)=>function On(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(n=i.transform)instanceof Y&&o instanceof Y||n instanceof Se&&o instanceof Se?Bs(n.elements,o.elements,Kn):n instanceof xt&&o instanceof xt?Kn(n.yt,o.yt):n instanceof V&&o instanceof V);var n,o}(u,d))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var n,o}class f extends Ri{constructor(e,n,o,u=[]){super(),this.key=e,this.value=n,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class p extends Ri{constructor(e,n,o,u,d=[]){super(),this.key=e,this.data=n,this.fieldMask=o,this.precondition=u,this.fieldTransforms=d,this.type=1}getFieldMask(){return this.fieldMask}}function T(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const o=i.data.field(n);e.set(n,o)}}),e}function W(i,e,n){const o=new Map;wn(i.length===n.length);for(let u=0;u<n.length;u++){const d=i[u],m=d.transform,C=e.data.field(d.field);o.set(d.field,_(m,C,n[u]))}return o}function ee(i,e,n){const o=new Map;for(const u of i){const d=u.transform,m=n.data.field(u.field);o.set(u.field,c(d,m,e))}return o}class je extends Ri{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wt extends Ri{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class on{constructor(e){this.count=e}}var ht,gt;function Xt(i){switch(i){default:return nn();case lt.CANCELLED:case lt.UNKNOWN:case lt.DEADLINE_EXCEEDED:case lt.RESOURCE_EXHAUSTED:case lt.INTERNAL:case lt.UNAVAILABLE:case lt.UNAUTHENTICATED:return!1;case lt.INVALID_ARGUMENT:case lt.NOT_FOUND:case lt.ALREADY_EXISTS:case lt.PERMISSION_DENIED:case lt.FAILED_PRECONDITION:case lt.ABORTED:case lt.OUT_OF_RANGE:case lt.UNIMPLEMENTED:case lt.DATA_LOSS:return!0}}function Wn(i){if(void 0===i)return Vn("GRPC error has no .code"),lt.UNKNOWN;switch(i){case ht.OK:return lt.OK;case ht.CANCELLED:return lt.CANCELLED;case ht.UNKNOWN:return lt.UNKNOWN;case ht.DEADLINE_EXCEEDED:return lt.DEADLINE_EXCEEDED;case ht.RESOURCE_EXHAUSTED:return lt.RESOURCE_EXHAUSTED;case ht.INTERNAL:return lt.INTERNAL;case ht.UNAVAILABLE:return lt.UNAVAILABLE;case ht.UNAUTHENTICATED:return lt.UNAUTHENTICATED;case ht.INVALID_ARGUMENT:return lt.INVALID_ARGUMENT;case ht.NOT_FOUND:return lt.NOT_FOUND;case ht.ALREADY_EXISTS:return lt.ALREADY_EXISTS;case ht.PERMISSION_DENIED:return lt.PERMISSION_DENIED;case ht.FAILED_PRECONDITION:return lt.FAILED_PRECONDITION;case ht.ABORTED:return lt.ABORTED;case ht.OUT_OF_RANGE:return lt.OUT_OF_RANGE;case ht.UNIMPLEMENTED:return lt.UNIMPLEMENTED;case ht.DATA_LOSS:return lt.DATA_LOSS;default:return nn()}}(gt=ht||(ht={}))[gt.OK=0]="OK",gt[gt.CANCELLED=1]="CANCELLED",gt[gt.UNKNOWN=2]="UNKNOWN",gt[gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gt[gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gt[gt.NOT_FOUND=5]="NOT_FOUND",gt[gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",gt[gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",gt[gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",gt[gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gt[gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gt[gt.ABORTED=10]="ABORTED",gt[gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",gt[gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",gt[gt.INTERNAL=13]="INTERNAL",gt[gt.UNAVAILABLE=14]="UNAVAILABLE",gt[gt.DATA_LOSS=15]="DATA_LOSS";class Ur{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0!==o)for(const[u,d]of o)if(this.equalsFn(u,e))return d}has(e){return void 0!==this.get(e)}set(e,n){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,n]],void this.innerSize++;for(let d=0;d<u.length;d++)if(this.equalsFn(u[d][0],e))return void(u[d]=[e,n]);u.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[n]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){js(this.inner,(n,o)=>{for(const[u,d]of o)e(u,d)})}isEmpty(){return Lu(this.inner)}size(){return this.innerSize}}const Go=new kr(Vt.comparator);function Gr(){return Go}const oa=new kr(Vt.comparator);function Kr(...i){let e=oa;for(const n of i)e=e.insert(n.key,n);return e}function rl(i){let e=oa;return i.forEach((n,o)=>e=e.insert(n,o.overlayedDocument)),e}function Ko(){return Ws()}function Yi(){return Ws()}function Ws(){return new Ur(i=>i.toString(),(i,e)=>i.isEqual(e))}const Gs=new kr(Vt.comparator),lu=new xn(Vt.comparator);function qn(...i){let e=lu;for(const n of i)e=e.add(n);return e}const Pi=new xn(hn);function Il(){return Pi}class Ac{constructor(e,n,o,u,d){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(e,n,o){const u=new Map;return u.set(e,bl.createSynthesizedTargetChangeForCurrentChange(e,n,o)),new Ac(_n.min(),u,Il(),Gr(),qn())}}class bl{constructor(e,n,o,u,d){this.resumeToken=e,this.current=n,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(e,n,o){return new bl(o,n,qn(),qn(),qn())}}class Mc{constructor(e,n,o,u){this.Tt=e,this.removedTargetIds=n,this.key=o,this.Et=u}}class vp{constructor(e,n){this.targetId=e,this.At=n}}class _p{constructor(e,n,o=cr.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=n,this.resumeToken=o,this.cause=u}}class Ep{constructor(){this.Rt=0,this.bt=Lm(),this.Pt=cr.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=qn(),n=qn(),o=qn();return this.bt.forEach((u,d)=>{switch(d){case 0:e=e.add(u);break;case 2:n=n.add(u);break;case 1:o=o.add(u);break;default:nn()}}),new bl(this.Pt,this.vt,e,n,o)}Nt(){this.Vt=!1,this.bt=Lm()}kt(e,n){this.Vt=!0,this.bt=this.bt.insert(e,n)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class km{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=Gr(),this.qt=wp(),this.Kt=new xn(hn)}Gt(e){for(const n of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(n,e.Et):this.jt(n,e.key,e.Et);for(const n of e.removedTargetIds)this.jt(n,e.key,e.Et)}Wt(e){this.forEachTarget(e,n=>{const o=this.zt(n);switch(e.state){case 0:this.Ht(n)&&o.Ct(e.resumeToken);break;case 1:o.Ft(),o.St||o.Nt(),o.Ct(e.resumeToken);break;case 2:o.Ft(),o.St||this.removeTarget(n);break;case 3:this.Ht(n)&&(o.$t(),o.Ct(e.resumeToken));break;case 4:this.Ht(n)&&(this.Jt(n),o.Ct(e.resumeToken));break;default:nn()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Lt.forEach((o,u)=>{this.Ht(u)&&n(u)})}Yt(e){const n=e.targetId,o=e.At.count,u=this.Xt(n);if(u){const d=u.target;if(Ve(d))if(0===o){const m=new Vt(d.path);this.jt(n,m,Fr.newNoDocument(m,_n.min()))}else wn(1===o);else this.Zt(n)!==o&&(this.Jt(n),this.Kt=this.Kt.add(n))}}te(e){const n=new Map;this.Lt.forEach((d,m)=>{const C=this.Xt(m);if(C){if(d.current&&Ve(C.target)){const U=new Vt(C.target.path);null!==this.Ut.get(U)||this.ee(m,U)||this.jt(m,U,Fr.newNoDocument(U,e))}d.Dt&&(n.set(m,d.xt()),d.Nt())}});let o=qn();this.qt.forEach((d,m)=>{let C=!0;m.forEachWhile(U=>{const z=this.Xt(U);return!z||2===z.purpose||(C=!1,!1)}),C&&(o=o.add(d))}),this.Ut.forEach((d,m)=>m.setReadTime(e));const u=new Ac(e,n,this.Kt,this.Ut,o);return this.Ut=Gr(),this.qt=wp(),this.Kt=new xn(hn),u}Qt(e,n){if(!this.Ht(e))return;const o=this.ee(e,n.key)?2:0;this.zt(e).kt(n.key,o),this.Ut=this.Ut.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ne(n.key).add(e))}jt(e,n,o){if(!this.Ht(e))return;const u=this.zt(e);this.ee(e,n)?u.kt(n,1):u.Ot(n),this.qt=this.qt.insert(n,this.ne(n).delete(e)),o&&(this.Ut=this.Ut.insert(n,o))}removeTarget(e){this.Lt.delete(e)}Zt(e){const n=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let n=this.Lt.get(e);return n||(n=new Ep,this.Lt.set(e,n)),n}ne(e){let n=this.qt.get(e);return n||(n=new xn(hn),this.qt=this.qt.insert(e,n)),n}Ht(e){const n=null!==this.Xt(e);return n||Mt("WatchChangeAggregator","Detected inactive target",e),n}Xt(e){const n=this.Lt.get(e);return n&&n.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new Ep),this.Bt.getRemoteKeysForTarget(e).forEach(n=>{this.jt(e,n,null)})}ee(e,n){return this.Bt.getRemoteKeysForTarget(e).has(n)}}function wp(){return new kr(Vt.comparator)}function Lm(){return new kr(Vt.comparator)}const Bv={asc:"ASCENDING",desc:"DESCENDING"},xc={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Th{constructor(e,n){this.databaseId=e,this.gt=n}}function Kl(i,e){return i.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ch(i,e){return i.gt?e.toBase64():e.toUint8Array()}function Dp(i,e){return Kl(i,e.toTimestamp())}function vo(i){return wn(!!i),_n.fromTimestamp(function(e){const n=Hs(e);return new Vr(n.seconds,n.nanos)}(i))}function _d(i,e){return(n=i,new Gn(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function Ah(i){const e=Gn.fromString(i);return wn(Tp(e)),e}function Sl(i,e){return _d(i.databaseId,e.path)}function $u(i,e){const n=Ah(e);if(n.get(1)!==i.databaseId.projectId)throw new At(lt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new At(lt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Vt(xh(n))}function Mh(i,e){return _d(i.databaseId,e)}function Ed(i){const e=Ah(i);return 4===e.length?Gn.emptyPath():xh(e)}function Zl(i){return new Gn(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function xh(i){return wn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function il(i,e,n){return{name:Sl(i,e),fields:n.value.mapValue.fields}}function Ip(i,e,n){const o=$u(i,e.name),u=vo(e.updateTime),d=new Vi({mapValue:{fields:e.fields}}),m=Fr.newFoundDocument(o,u,d);return n&&m.setHasCommittedMutations(),n?m.setHasCommittedMutations():m}function Rc(i,e){let n;if(e instanceof f)n={update:il(i,e.key,e.value)};else if(e instanceof je)n={delete:Sl(i,e.key)};else if(e instanceof p)n={update:il(i,e.key,e.data),updateMask:Ph(e.fieldMask)};else{if(!(e instanceof wt))return nn();n={verify:Sl(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(o=>function(u,d){const m=d.transform;if(m instanceof V)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Y)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Se)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof xt)return{fieldPath:d.field.canonicalString(),increment:m.yt};throw nn()}(0,o))),e.precondition.isNone||(n.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:Dp(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:nn()),n;var u}function Pc(i,e){const n=e.currentDocument?void 0!==(u=e.currentDocument).updateTime?Rn.updateTime(vo(u.updateTime)):void 0!==u.exists?Rn.exists(u.exists):Rn.none():Rn.none(),o=e.updateTransforms?e.updateTransforms.map(u=>function(d,m){let C=null;"setToServerValue"in m?(wn("REQUEST_TIME"===m.setToServerValue),C=new V):"appendMissingElements"in m?C=new Y(m.appendMissingElements.values||[]):"removeAllFromArray"in m?C=new Se(m.removeAllFromArray.values||[]):"increment"in m?C=new xt(d,m.increment):nn();const U=Sr.fromServerFormat(m.fieldPath);return new Tn(U,C)}(i,u)):[];var u;if(e.update){const u=$u(i,e.update.name),d=new Vi({mapValue:{fields:e.update.fields}});if(e.updateMask){const m=new Ki((e.updateMask.fieldPaths||[]).map(z=>Sr.fromServerFormat(z)));return new p(u,d,m,n,o)}return new f(u,d,n,o)}if(e.delete){const u=$u(i,e.delete);return new je(u,n)}if(e.verify){const u=$u(i,e.verify);return new wt(u,n)}return nn()}function sl(i,e){return{documents:[Mh(i,e.path)]}}function Id(i,e){const n={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(n.parent=Mh(i,o),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Mh(i,o.popLast()),n.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(U){if(0===U.length)return;const z=U.map(ne=>function(Te){if("=="===Te.op){if(ls(Te.value))return{unaryFilter:{field:Yl(Te.field),op:"IS_NAN"}};if(Oo(Te.value))return{unaryFilter:{field:Yl(Te.field),op:"IS_NULL"}}}else if("!="===Te.op){if(ls(Te.value))return{unaryFilter:{field:Yl(Te.field),op:"IS_NOT_NAN"}};if(Oo(Te.value))return{unaryFilter:{field:Yl(Te.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yl(Te.field),op:ql(Te.op),value:Te.value}}}(ne));return 1===z.length?z[0]:{compositeFilter:{op:"AND",filters:z}}}(e.filters);u&&(n.structuredQuery.where=u);const d=function(U){if(0!==U.length)return U.map(z=>{return{field:Yl((ne=z).field),direction:Sp(ne.dir)};var ne})}(e.orderBy);d&&(n.structuredQuery.orderBy=d);const m=(z=e.limit,i.gt||pe(z)?z:{value:z});var z,C,U;return null!==m&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt={before:(C=e.startAt).inclusive,values:C.position}),e.endAt&&(n.structuredQuery.endAt={before:!(U=e.endAt).inclusive,values:U.position}),n}function bd(i){let e=Ed(i.parent);const n=i.structuredQuery,o=n.from?n.from.length:0;let u=null;if(o>0){wn(1===o);const ne=n.from[0];ne.allDescendants?u=ne.collectionId:e=e.child(ne.collectionId)}let d=[];n.where&&(d=bp(n.where));let m=[];n.orderBy&&(m=n.orderBy.map(ne=>{return new Ea(Ql((Te=ne).field),function(rt){switch(rt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Te.direction));var Te}));let C=null;n.limit&&(C=function(ne){let Te;return Te="object"==typeof ne?ne.value:ne,pe(Te)?null:Te}(n.limit));let U=null;var ne;n.startAt&&(U=new Ms((ne=n.startAt).values||[],!!ne.before));let z=null;return n.endAt&&(z=function(ne){return new Ms(ne.values||[],!ne.before)}(n.endAt)),wl(e,u,m,d,C,"F",U,z)}function bp(i){return i?void 0!==i.unaryFilter?[Bm(i)]:void 0!==i.fieldFilter?[Um(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>bp(e)).reduce((e,n)=>e.concat(n)):nn():[]}function Sp(i){return Bv[i]}function ql(i){return xc[i]}function Yl(i){return{fieldPath:i.canonicalString()}}function Ql(i){return Sr.fromServerFormat(i.fieldPath)}function Um(i){return Qt.create(Ql(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return nn()}}(i.fieldFilter.op),i.fieldFilter.value)}function Bm(i){switch(i.unaryFilter.op){case"IS_NAN":const e=Ql(i.unaryFilter.field);return Qt.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Ql(i.unaryFilter.field);return Qt.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ql(i.unaryFilter.field);return Qt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Ql(i.unaryFilter.field);return Qt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return nn()}}function Ph(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Tp(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function Zo(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Oh(e)),e=Vm(i.get(n),e);return Oh(e)}function Vm(i,e){let n=e;const o=i.length;for(let u=0;u<o;u++){const d=i.charAt(u);switch(d){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=d}}return n}function Oh(i){return i+"\x01\x01"}function ju(i){const e=i.length;if(wn(e>=2),2===e)return wn("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Gn.emptyPath();const n=e-2,o=[];let u="";for(let d=0;d<e;){const m=i.indexOf("\x01",d);switch((m<0||m>n)&&nn(),i.charAt(m+1)){case"\x01":const C=i.substring(d,m);let U;0===u.length?U=C:(u+=C,U=u,u=""),o.push(U);break;case"\x10":u+=i.substring(d,m),u+="\0";break;case"\x11":u+=i.substring(d,m+1);break;default:nn()}d=m+2}return new Gn(o)}const Cp=["userId","batchId"];function ol(i,e){return[i,Zo(e)]}function Ap(i,e,n){return[i,Zo(e),n]}const Jl={},Oc=["prefixPath","collectionGroup","readTime","documentId"],$m=["prefixPath","collectionGroup","documentId"],Vv=["collectionGroup","readTime","prefixPath","documentId"],Mp=["canonicalId","targetId"],jm=["targetId","path"],Hm=["path","targetId"],zm=["collectionId","parent"],xp=["indexId","uid"],Rp=["uid","sequenceNumber"],Nh=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Wm=["indexId","uid","orderedDocumentKey"],Gm=["userId","collectionPath","documentId"],kh=["userId","collectionPath","largestBatchId"],$v=["userId","collectionGroup","largestBatchId"],Km=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Lh=[...Km,"documentOverlays"],Zm=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],qm=Zm,jv=[...qm,"indexConfiguration","indexState","indexEntries"];class Pp extends Ya{constructor(e,n){super(),this.ie=e,this.currentSequenceNumber=n}}function Lo(i,e){const n=Lt(i);return Xr.M(n.ie,e)}class Fh{constructor(e,n,o,u){this.batchId=e,this.localWriteTime=n,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,n){const o=n.mutationResults;for(let u=0;u<this.mutations.length;u++){const d=this.mutations[u];d.key.isEqual(e.key)&&qi(d,e,o[u])}}applyToLocalView(e,n){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(n=wa(o,e,n,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(n=wa(o,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const o=Yi();return this.mutations.forEach(u=>{const d=e.get(u.key),m=d.overlayedDocument;let C=this.applyToLocalView(m,d.mutatedFields);C=n.has(u.key)?null:C;const U=xs(m,C);null!==U&&o.set(u.key,U),m.isValidDocument()||m.convertToNoDocument(_n.min())}),o}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),qn())}isEqual(e){return this.batchId===e.batchId&&Bs(this.mutations,e.mutations,(n,o)=>I(n,o))&&Bs(this.baseMutations,e.baseMutations,(n,o)=>I(n,o))}}class Sd{constructor(e,n,o,u){this.batch=e,this.commitVersion=n,this.mutationResults=o,this.docVersions=u}static from(e,n,o){wn(e.mutations.length===o.length);let u=Gs;const d=e.mutations;for(let m=0;m<d.length;m++)u=u.insert(d[m].key,o[m].version);return new Sd(e,n,o,u)}}class Nc{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Hu{constructor(e,n,o,u,d=_n.min(),m=_n.min(),C=cr.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=C}withSequenceNumber(e){return new Hu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Hu(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Hu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Uh{constructor(e){this.re=e}}function Td(i,e){const n=e.key,o={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Cd(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:Sl(u=i.re,(d=e).key),fields:d.data.value.mapValue.fields,updateTime:Kl(u,d.version.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:n.path.toArray(),readTime:zu(e.version)};else{if(!e.isUnknownDocument())return nn();o.unknownDocument={path:n.path.toArray(),version:zu(e.version)}}var u,d;return o}function Cd(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function zu(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function cu(i){const e=new Vr(i.seconds,i.nanoseconds);return _n.fromTimestamp(e)}function Tl(i,e){const n=(e.baseMutations||[]).map(d=>Pc(i.re,d));for(let d=0;d<e.mutations.length-1;++d){const m=e.mutations[d];d+1<e.mutations.length&&void 0!==e.mutations[d+1].transform&&(m.updateTransforms=e.mutations[d+1].transform.fieldTransforms,e.mutations.splice(d+1,1),++d)}const o=e.mutations.map(d=>Pc(i.re,d)),u=Vr.fromMillis(e.localWriteTimeMs);return new Fh(e.batchId,u,n,o)}function kc(i){const e=cu(i.readTime),n=void 0!==i.lastLimboFreeSnapshotVersion?cu(i.lastLimboFreeSnapshotVersion):_n.min();let o;var u;return void 0!==i.query.documents?(wn(1===(u=i.query).documents.length),o=zs(ou(Ed(u.documents[0])))):o=zs(bd(i.query)),new Hu(o,i.targetId,0,i.lastListenSequenceNumber,e,n,cr.fromBase64String(i.resumeToken))}function Np(i,e){const n=zu(e.snapshotVersion),o=zu(e.lastLimboFreeSnapshotVersion);let u;u=Ve(e.target)?sl(i.re,e.target):Id(i.re,e.target);const d=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:F(e.target),readTime:n,resumeToken:d,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:u}}function Ad(i){const e=bd({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?uu(e,e.limit,"L"):e}function Bh(i,e){return new Nc(e.largestBatchId,Pc(i.re,e.overlayMutation))}function kp(i,e){const n=e.path.lastSegment();return[i,Zo(e.path.popLast()),n]}function Lp(i,e,n,o){return{indexId:i,uid:e.uid||"",sequenceNumber:n,readTime:zu(o.readTime),documentKey:Zo(o.documentKey.path),largestBatchId:o.largestBatchId}}class Ym{getBundleMetadata(e,n){return Md(e).get(n).next(o=>{if(o)return{id:(u=o).bundleId,createTime:cu(u.createTime),version:u.version};var u})}saveBundleMetadata(e,n){return Md(e).put({bundleId:(o=n).id,createTime:zu(vo(o.createTime)),version:o.version});var o}getNamedQuery(e,n){return Fp(e).get(n).next(o=>{if(o)return{name:(u=o).name,query:Ad(u.bundledQuery),readTime:cu(u.readTime)};var u})}saveNamedQuery(e,n){return Fp(e).put({name:(o=n).name,readTime:zu(vo(o.readTime)),bundledQuery:o.bundledQuery});var o}}function Md(i){return Lo(i,"bundles")}function Fp(i){return Lo(i,"namedQueries")}class xd{constructor(e,n){this.It=e,this.userId=n}static oe(e,n){return new xd(e,n.uid||"")}getOverlay(e,n){return Lc(e).get(kp(this.userId,n)).next(o=>o?Bh(this.It,o):null)}getOverlays(e,n){const o=Ko();return qe.forEach(n,u=>this.getOverlay(e,u).next(d=>{null!==d&&o.set(u,d)})).next(()=>o)}saveOverlays(e,n,o){const u=[];return o.forEach((d,m)=>{const C=new Nc(n,m);u.push(this.ue(e,C))}),qe.waitFor(u)}removeOverlaysForBatchId(e,n,o){const u=new Set;n.forEach(m=>u.add(Zo(m.getCollectionPath())));const d=[];return u.forEach(m=>{const C=IDBKeyRange.bound([this.userId,m,o],[this.userId,m,o+1],!1,!0);d.push(Lc(e).Y("collectionPathOverlayIndex",C))}),qe.waitFor(d)}getOverlaysForCollection(e,n,o){const u=Ko(),d=Zo(n),m=IDBKeyRange.bound([this.userId,d,o],[this.userId,d,Number.POSITIVE_INFINITY],!0);return Lc(e).W("collectionPathOverlayIndex",m).next(C=>{for(const U of C){const z=Bh(this.It,U);u.set(z.getKey(),z)}return u})}getOverlaysForCollectionGroup(e,n,o,u){const d=Ko();let m;const C=IDBKeyRange.bound([this.userId,n,o],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Lc(e).Z({index:"collectionGroupOverlayIndex",range:C},(U,z,ne)=>{const Te=Bh(this.It,z);d.size()<u||Te.largestBatchId===m?(d.set(Te.getKey(),Te),m=Te.largestBatchId):ne.done()}).next(()=>d)}ue(e,n){return Lc(e).put(function(o,u,d){const[m,C,U]=kp(u,d.mutation.key);return{userId:u,collectionPath:C,documentId:U,collectionGroup:d.mutation.key.getCollectionGroup(),largestBatchId:d.largestBatchId,overlayMutation:Rc(o.re,d.mutation)}}(this.It,this.userId,n))}}function Lc(i){return Lo(i,"documentOverlays")}class al{constructor(){}ce(e,n){this.ae(e,n),n.he()}ae(e,n){if("nullValue"in e)this.le(n,5);else if("booleanValue"in e)this.le(n,10),n.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(n,15),n.fe(Lr(e.integerValue));else if("doubleValue"in e){const o=Lr(e.doubleValue);isNaN(o)?this.le(n,13):(this.le(n,15),ve(o)?n.fe(0):n.fe(o))}else if("timestampValue"in e){const o=e.timestampValue;this.le(n,20),"string"==typeof o?n.de(o):(n.de(`${o.seconds||""}`),n.fe(o.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,n),this.we(n);else if("bytesValue"in e)this.le(n,30),n.me(D(e.bytesValue)),this.we(n);else if("referenceValue"in e)this.ge(e.referenceValue,n);else if("geoPointValue"in e){const o=e.geoPointValue;this.le(n,45),n.fe(o.latitude||0),n.fe(o.longitude||0)}else"mapValue"in e?go(e)?this.le(n,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,n),this.we(n)):"arrayValue"in e?(this.pe(e.arrayValue,n),this.we(n)):nn()}_e(e,n){this.le(n,25),this.Ie(e,n)}Ie(e,n){n.de(e)}ye(e,n){const o=e.fields||{};this.le(n,55);for(const u of Object.keys(o))this._e(u,n),this.ae(o[u],n)}pe(e,n){const o=e.values||[];this.le(n,50);for(const u of o)this.ae(u,n)}ge(e,n){this.le(n,37),Vt.fromName(e).path.forEach(o=>{this.le(n,60),this.Ie(o,n)})}le(e,n){e.fe(n)}we(e){e.fe(2)}}function Qm(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function Up(i){const e=64-function(n){let o=0;for(let u=0;u<8;++u){const d=Qm(255&n[u]);if(o+=d,8!==d)break}return o}(i);return Math.ceil(e/8)}al.Te=new al;class aa{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const n=e[Symbol.iterator]();let o=n.next();for(;!o.done;)this.Ae(o.value),o=n.next();this.Re()}be(e){const n=e[Symbol.iterator]();let o=n.next();for(;!o.done;)this.Pe(o.value),o=n.next();this.ve()}Ve(e){for(const n of e){const o=n.charCodeAt(0);if(o<128)this.Ae(o);else if(o<2048)this.Ae(960|o>>>6),this.Ae(128|63&o);else if(n<"\ud800"||"\udbff"<n)this.Ae(480|o>>>12),this.Ae(128|63&o>>>6),this.Ae(128|63&o);else{const u=n.codePointAt(0);this.Ae(240|u>>>18),this.Ae(128|63&u>>>12),this.Ae(128|63&u>>>6),this.Ae(128|63&u)}}this.Re()}Se(e){for(const n of e){const o=n.charCodeAt(0);if(o<128)this.Pe(o);else if(o<2048)this.Pe(960|o>>>6),this.Pe(128|63&o);else if(n<"\ud800"||"\udbff"<n)this.Pe(480|o>>>12),this.Pe(128|63&o>>>6),this.Pe(128|63&o);else{const u=n.codePointAt(0);this.Pe(240|u>>>18),this.Pe(128|63&u>>>12),this.Pe(128|63&u>>>6),this.Pe(128|63&u)}}this.ve()}De(e){const n=this.Ce(e),o=Up(n);this.xe(1+o),this.buffer[this.position++]=255&o;for(let u=n.length-o;u<n.length;++u)this.buffer[this.position++]=255&n[u]}Ne(e){const n=this.Ce(e),o=Up(n);this.xe(1+o),this.buffer[this.position++]=~(255&o);for(let u=n.length-o;u<n.length;++u)this.buffer[this.position++]=~(255&n[u])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const n=function(u){const d=new DataView(new ArrayBuffer(8));return d.setFloat64(0,u,!1),new Uint8Array(d.buffer)}(e),o=0!=(128&n[0]);n[0]^=o?255:128;for(let u=1;u<n.length;++u)n[u]^=o?255:0;return n}Ae(e){const n=255&e;0===n?(this.Oe(0),this.Oe(255)):255===n?(this.Oe(255),this.Oe(0)):this.Oe(n)}Pe(e){const n=255&e;0===n?(this.Fe(0),this.Fe(255)):255===n?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const n=e+this.position;if(n<=this.buffer.length)return;let o=2*this.buffer.length;o<n&&(o=n);const u=new Uint8Array(o);u.set(this.buffer),this.buffer=u}}class Vh{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class Bp{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class Cl{constructor(){this.Be=new aa,this.Le=new Vh(this.Be),this.Ue=new Bp(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class cs{constructor(e,n,o,u){this.indexId=e,this.documentKey=n,this.arrayValue=o,this.directionalValue=u}Ke(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(n);return o.set(this.directionalValue,0),n!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new cs(this.indexId,this.documentKey,this.arrayValue,o)}}function du(i,e){let n=i.indexId-e.indexId;return 0!==n?n:(n=$h(i.arrayValue,e.arrayValue),0!==n?n:(n=$h(i.directionalValue,e.directionalValue),0!==n?n:Vt.comparator(i.documentKey,e.documentKey)))}function $h(i,e){for(let n=0;n<i.length&&n<e.length;++n){const o=i[n]-e[n];if(0!==o)return o}return i.length-e.length}class Jm{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const n of e.filters){const o=n;o.dt()?this.je=o:this.Qe.push(o)}}We(e){const n=ci(e);if(void 0!==n&&!this.ze(n))return!1;const o=ho(e);let u=0,d=0;for(;u<o.length&&this.ze(o[u]);++u);if(u===o.length)return!0;if(void 0!==this.je){const m=o[u];if(!this.He(this.je,m)||!this.Je(this.Ge[d++],m))return!1;++u}for(;u<o.length;++u){const m=o[u];if(d>=this.Ge.length||!this.Je(this.Ge[d++],m))return!1}return!0}ze(e){for(const n of this.Qe)if(this.He(n,e))return!0;return!1}He(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}class Xm{constructor(){this.Ye=new Rd}addToCollectionParentIndex(e,n){return this.Ye.add(n),qe.resolve()}getCollectionParents(e,n){return qe.resolve(this.Ye.getEntries(n))}addFieldIndex(e,n){return qe.resolve()}deleteFieldIndex(e,n){return qe.resolve()}getDocumentsMatchingTarget(e,n){return qe.resolve(null)}getIndexType(e,n){return qe.resolve(0)}getFieldIndexes(e,n){return qe.resolve([])}getNextCollectionGroupToUpdate(e){return qe.resolve(null)}getMinOffset(e,n){return qe.resolve(Bi.min())}getMinOffsetFromCollectionGroup(e,n){return qe.resolve(Bi.min())}updateCollectionGroup(e,n,o){return qe.resolve()}updateIndexEntries(e,n){return qe.resolve()}}class Rd{constructor(){this.index={}}add(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n]||new xn(Gn.comparator),d=!u.has(o);return this.index[n]=u.add(o),d}has(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n];return u&&u.has(o)}getEntries(e){return(this.index[e]||new xn(Gn.comparator)).toArray()}}const Pd=new Uint8Array(0);class Vp{constructor(e,n){this.user=e,this.databaseId=n,this.Xe=new Rd,this.Ze=new Ur(o=>F(o),(o,u)=>me(o,u)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.Xe.has(n)){const o=n.lastSegment(),u=n.popLast();e.addOnCommittedListener(()=>{this.Xe.add(n)});const d={collectionId:o,parent:Zo(u)};return $p(e).put(d)}return qe.resolve()}getCollectionParents(e,n){const o=[],u=IDBKeyRange.bound([n,""],[co(n),""],!1,!0);return $p(e).W(u).next(d=>{for(const m of d){if(m.collectionId!==n)break;o.push(ju(m.parent))}return o})}addFieldIndex(e,n){const o=Od(e),u={indexId:(m=n).indexId,collectionGroup:m.collectionGroup,fields:m.fields.map(C=>[C.fieldPath.canonicalString(),C.kind])};var m;delete u.indexId;const d=o.add(u);if(n.indexState){const m=Fc(e);return d.next(C=>{m.put(Lp(C,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return d.next()}deleteFieldIndex(e,n){const o=Od(e),u=Fc(e),d=Xl(e);return o.delete(n.indexId).next(()=>u.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>d.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const o=Xl(e);let u=!0;const d=new Map;return qe.forEach(this.tn(n),m=>this.en(e,m).next(C=>{u&&(u=!!C),d.set(m,C)})).next(()=>{if(u){let m=qn();const C=[];return qe.forEach(d,(U,z)=>{var ne;Mt("IndexedDbIndexManager",`Using index ${ne=U,`id=${ne.indexId}|cg=${ne.collectionGroup}|f=${ne.fields.map(si=>`${si.fieldPath}:${si.kind}`).join(",")}`} to execute ${F(n)}`);const Te=function(si,qs){const mi=ci(qs);if(void 0===mi)return null;for(const oi of ut(si,mi.fieldPath))switch(oi.op){case"array-contains-any":return oi.value.arrayValue.values||[];case"array-contains":return[oi.value]}return null}(z,U),rt=function(si,qs){const mi=new Map;for(const oi of ho(qs))for(const Fo of ut(si,oi.fieldPath))switch(Fo.op){case"==":case"in":mi.set(oi.fieldPath.canonicalString(),Fo.value);break;case"not-in":case"!=":return mi.set(oi.fieldPath.canonicalString(),Fo.value),Array.from(mi.values())}return null}(z,U),vt=function(si,qs){const mi=[];let oi=!0;for(const Fo of ho(qs)){const gd=0===Fo.kind?St(si,Fo.fieldPath,si.startAt):Ht(si,Fo.fieldPath,si.startAt);mi.push(gd.value),oi&&(oi=gd.inclusive)}return new Ms(mi,oi)}(z,U),Tt=function(si,qs){const mi=[];let oi=!0;for(const Fo of ho(qs)){const gd=0===Fo.kind?Ht(si,Fo.fieldPath,si.endAt):St(si,Fo.fieldPath,si.endAt);mi.push(gd.value),oi&&(oi=gd.inclusive)}return new Ms(mi,oi)}(z,U),an=this.nn(U,z,vt),fn=this.nn(U,z,Tt),Zr=this.sn(U,z,rt),wi=this.rn(U.indexId,Te,an,vt.inclusive,fn,Tt.inclusive,Zr);return qe.forEach(wi,si=>o.J(si,n.limit).next(qs=>{qs.forEach(mi=>{const oi=Vt.fromSegments(mi.documentKey);m.has(oi)||(m=m.add(oi),C.push(oi))})}))}).next(()=>C)}return qe.resolve(null)})}tn(e){let n=this.Ze.get(e);return n||(n=[e],this.Ze.set(e,n),n)}rn(e,n,o,u,d,m,C){const U=(null!=n?n.length:1)*Math.max(o.length,d.length),z=U/(null!=n?n.length:1),ne=[];for(let Te=0;Te<U;++Te){const rt=n?this.on(n[Te/z]):Pd,vt=this.un(e,rt,o[Te%z],u),Tt=this.cn(e,rt,d[Te%z],m),an=C.map(fn=>this.un(e,rt,fn,!0));ne.push(...this.createRange(vt,Tt,an))}return ne}un(e,n,o,u){const d=new cs(e,Vt.empty(),n,o);return u?d:d.Ke()}cn(e,n,o,u){const d=new cs(e,Vt.empty(),n,o);return u?d.Ke():d}en(e,n){const o=new Jm(n),u=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,u).next(d=>{let m=null;for(const C of d)o.We(C)&&(!m||C.fields.length>m.fields.length)&&(m=C);return m})}getIndexType(e,n){let o=2;return qe.forEach(this.tn(n),u=>this.en(e,u).next(d=>{d?0!==o&&d.fields.length<function(m){let C=new xn(Sr.comparator),U=!1;for(const z of m.filters){const ne=z;ne.field.isKeyField()||("array-contains"===ne.op||"array-contains-any"===ne.op?U=!0:C=C.add(ne.field))}for(const z of m.orderBy)z.field.isKeyField()||(C=C.add(z.field));return C.size+(U?1:0)}(u)&&(o=1):o=0})).next(()=>o)}an(e,n){const o=new Cl;for(const u of ho(e)){const d=n.data.field(u.fieldPath);if(null==d)return null;const m=o.qe(u.kind);al.Te.ce(d,m)}return o.$e()}on(e){const n=new Cl;return al.Te.ce(e,n.qe(0)),n.$e()}hn(e,n){const o=new Cl;return al.Te.ce(us(this.databaseId,n),o.qe(function(u){const d=ho(u);return 0===d.length?0:d[d.length-1].kind}(e))),o.$e()}sn(e,n,o){if(null===o)return[];let u=[];u.push(new Cl);let d=0;for(const m of ho(e)){const C=o[d++];for(const U of u)if(this.ln(n,m.fieldPath)&&ra(C))u=this.fn(u,m,C);else{const z=U.qe(m.kind);al.Te.ce(C,z)}}return this.dn(u)}nn(e,n,o){return this.sn(e,n,o.position)}dn(e){const n=[];for(let o=0;o<e.length;++o)n[o]=e[o].$e();return n}fn(e,n,o){const u=[...e],d=[];for(const m of o.arrayValue.values||[])for(const C of u){const U=new Cl;U.seed(C.$e()),al.Te.ce(m,U.qe(n.kind)),d.push(U)}return d}ln(e,n){return!!e.filters.find(o=>o instanceof Qt&&o.field.isEqual(n)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,n){const o=Od(e),u=Fc(e);return(n?o.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):o.W()).next(d=>{const m=[];return qe.forEach(d,C=>u.get([C.indexId,this.uid]).next(U=>{m.push(function(z,ne){const Te=ne?new fo(ne.sequenceNumber,new Bi(cu(ne.readTime),new Vt(ju(ne.documentKey)),ne.largestBatchId)):fo.empty(),rt=z.fields.map(([vt,Tt])=>new Ii(Sr.fromServerFormat(vt),Tt));return new Vs(z.indexId,z.collectionGroup,rt,Te)}(C,U))})).next(()=>m)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((o,u)=>{const d=o.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==d?d:hn(o.collectionGroup,u.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,o){const u=Od(e),d=Fc(e);return this._n(e).next(m=>u.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(C=>qe.forEach(C,U=>d.put(Lp(U.indexId,this.user,m,o)))))}updateIndexEntries(e,n){const o=new Map;return qe.forEach(n,(u,d)=>{const m=o.get(u.collectionGroup);return(m?qe.resolve(m):this.getFieldIndexes(e,u.collectionGroup)).next(C=>(o.set(u.collectionGroup,C),qe.forEach(C,U=>this.wn(e,u,U).next(z=>{const ne=this.mn(d,U);return z.isEqual(ne)?qe.resolve():this.gn(e,d,U,z,ne)}))))})}yn(e,n,o,u){return Xl(e).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.hn(o,n.key),documentKey:n.key.path.toArray()})}pn(e,n,o,u){return Xl(e).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.hn(o,n.key),n.key.path.toArray()])}wn(e,n,o){const u=Xl(e);let d=new xn(du);return u.Z({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.hn(o,n)])},(m,C)=>{d=d.add(new cs(o.indexId,n,C.arrayValue,C.directionalValue))}).next(()=>d)}mn(e,n){let o=new xn(du);const u=this.an(n,e);if(null==u)return o;const d=ci(n);if(null!=d){const m=e.data.field(d.fieldPath);if(ra(m))for(const C of m.arrayValue.values||[])o=o.add(new cs(n.indexId,e.key,this.on(C),u))}else o=o.add(new cs(n.indexId,e.key,Pd,u));return o}gn(e,n,o,u,d){Mt("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const m=[];return function(C,U,z,ne,Te){const rt=C.getIterator(),vt=U.getIterator();let Tt=po(rt),an=po(vt);for(;Tt||an;){let fn=!1,Zr=!1;if(Tt&&an){const wi=z(Tt,an);wi<0?Zr=!0:wi>0&&(fn=!0)}else null!=Tt?Zr=!0:fn=!0;fn?(ne(an),an=po(vt)):Zr?(Te(Tt),Tt=po(rt)):(Tt=po(rt),an=po(vt))}}(u,d,du,C=>{m.push(this.yn(e,n,o,C))},C=>{m.push(this.pn(e,n,o,C))}),qe.waitFor(m)}_n(e){let n=1;return Fc(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,u,d)=>{d.done(),n=u.sequenceNumber+1}).next(()=>n)}createRange(e,n,o){o=o.sort((m,C)=>du(m,C)).filter((m,C,U)=>!C||0!==du(m,U[C-1]));const u=[];u.push(e);for(const m of o){const C=du(m,e),U=du(m,n);if(0===C)u[0]=e.Ke();else if(C>0&&U<0)u.push(m),u.push(m.Ke());else if(U>0)break}u.push(n);const d=[];for(let m=0;m<u.length;m+=2)d.push(IDBKeyRange.bound([u[m].indexId,this.uid,u[m].arrayValue,u[m].directionalValue,Pd,[]],[u[m+1].indexId,this.uid,u[m+1].arrayValue,u[m+1].directionalValue,Pd,[]]));return d}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(jp)}getMinOffset(e,n){return qe.mapArray(this.tn(n),o=>this.en(e,o).next(u=>u||nn())).next(jp)}}function $p(i){return Lo(i,"collectionParents")}function Xl(i){return Lo(i,"indexEntries")}function Od(i){return Lo(i,"indexConfiguration")}function Fc(i){return Lo(i,"indexState")}function jp(i){wn(0!==i.length);let e=i[0].indexState.offset,n=e.largestBatchId;for(let o=1;o<i.length;o++){const u=i[o].indexState.offset;ru(u,e)<0&&(e=u),n<u.largestBatchId&&(n=u.largestBatchId)}return new Bi(e.readTime,e.documentKey,n)}const jh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ia{constructor(e,n,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Ia(e,Ia.DEFAULT_COLLECTION_PERCENTILE,Ia.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Al(i,e,n){const o=i.store("mutations"),u=i.store("documentMutations"),d=[],m=IDBKeyRange.only(n.batchId);let C=0;const U=o.Z({range:m},(ne,Te,rt)=>(C++,rt.delete()));d.push(U.next(()=>{wn(1===C)}));const z=[];for(const ne of n.mutations){const Te=Ap(e,ne.key.path,n.batchId);d.push(u.delete(Te)),z.push(ne.key)}return qe.waitFor(d).next(()=>z)}function Ja(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw nn();e=i.noDocument}return JSON.stringify(e).length}Ia.DEFAULT_COLLECTION_PERCENTILE=10,Ia.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ia.DEFAULT=new Ia(41943040,Ia.DEFAULT_COLLECTION_PERCENTILE,Ia.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ia.DISABLED=new Ia(-1,0,0);class Nd{constructor(e,n,o,u){this.userId=e,this.It=n,this.indexManager=o,this.referenceDelegate=u,this.In={}}static oe(e,n,o,u){wn(""!==e.uid);const d=e.isAuthenticated()?e.uid:"";return new Nd(d,n,o,u)}checkEmpty(e){let n=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ml(e).Z({index:"userMutationsIndex",range:o},(u,d,m)=>{n=!1,m.done()}).next(()=>n)}addMutationBatch(e,n,o,u){const d=Uc(e),m=Ml(e);return m.add({}).next(C=>{wn("number"==typeof C);const U=new Fh(C,n,o,u),z=function(rt,vt,Tt){const an=Tt.baseMutations.map(Zr=>Rc(rt.re,Zr)),fn=Tt.mutations.map(Zr=>Rc(rt.re,Zr));return{userId:vt,batchId:Tt.batchId,localWriteTimeMs:Tt.localWriteTime.toMillis(),baseMutations:an,mutations:fn}}(this.It,this.userId,U),ne=[];let Te=new xn((rt,vt)=>hn(rt.canonicalString(),vt.canonicalString()));for(const rt of u){const vt=Ap(this.userId,rt.key.path,C);Te=Te.add(rt.key.path.popLast()),ne.push(m.put(z)),ne.push(d.put(vt,Jl))}return Te.forEach(rt=>{ne.push(this.indexManager.addToCollectionParentIndex(e,rt))}),e.addOnCommittedListener(()=>{this.In[C]=U.keys()}),qe.waitFor(ne).next(()=>U)})}lookupMutationBatch(e,n){return Ml(e).get(n).next(o=>o?(wn(o.userId===this.userId),Tl(this.It,o)):null)}Tn(e,n){return this.In[n]?qe.resolve(this.In[n]):this.lookupMutationBatch(e,n).next(o=>{if(o){const u=o.keys();return this.In[n]=u,u}return null})}getNextMutationBatchAfterBatchId(e,n){const o=n+1,u=IDBKeyRange.lowerBound([this.userId,o]);let d=null;return Ml(e).Z({index:"userMutationsIndex",range:u},(m,C,U)=>{C.userId===this.userId&&(wn(C.batchId>=o),d=Tl(this.It,C)),U.done()}).next(()=>d)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return Ml(e).Z({index:"userMutationsIndex",range:n,reverse:!0},(u,d,m)=>{o=d.batchId,m.done()}).next(()=>o)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ml(e).W("userMutationsIndex",n).next(o=>o.map(u=>Tl(this.It,u)))}getAllMutationBatchesAffectingDocumentKey(e,n){const o=ol(this.userId,n.path),u=IDBKeyRange.lowerBound(o),d=[];return Uc(e).Z({range:u},(m,C,U)=>{const[z,ne,Te]=m,rt=ju(ne);if(z===this.userId&&n.path.isEqual(rt))return Ml(e).get(Te).next(vt=>{if(!vt)throw nn();wn(vt.userId===this.userId),d.push(Tl(this.It,vt))});U.done()}).next(()=>d)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new xn(hn);const u=[];return n.forEach(d=>{const m=ol(this.userId,d.path),C=IDBKeyRange.lowerBound(m),U=Uc(e).Z({range:C},(z,ne,Te)=>{const[rt,vt,Tt]=z,an=ju(vt);rt===this.userId&&d.path.isEqual(an)?o=o.add(Tt):Te.done()});u.push(U)}),qe.waitFor(u).next(()=>this.En(e,o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,u=o.length+1,d=ol(this.userId,o),m=IDBKeyRange.lowerBound(d);let C=new xn(hn);return Uc(e).Z({range:m},(U,z,ne)=>{const[Te,rt,vt]=U,Tt=ju(rt);Te===this.userId&&o.isPrefixOf(Tt)?Tt.length===u&&(C=C.add(vt)):ne.done()}).next(()=>this.En(e,C))}En(e,n){const o=[],u=[];return n.forEach(d=>{u.push(Ml(e).get(d).next(m=>{if(null===m)throw nn();wn(m.userId===this.userId),o.push(Tl(this.It,m))}))}),qe.waitFor(u).next(()=>o)}removeMutationBatch(e,n){return Al(e.ie,this.userId,n).next(o=>(e.addOnCommittedListener(()=>{this.An(n.batchId)}),qe.forEach(o,u=>this.referenceDelegate.markPotentiallyOrphaned(e,u))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return qe.resolve();const o=IDBKeyRange.lowerBound([this.userId]),u=[];return Uc(e).Z({range:o},(d,m,C)=>{if(d[0]===this.userId){const U=ju(d[1]);u.push(U)}else C.done()}).next(()=>{wn(0===u.length)})})}containsKey(e,n){return Hp(e,this.userId,n)}Rn(e){return Hh(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Hp(i,e,n){const o=ol(e,n.path),u=o[1],d=IDBKeyRange.lowerBound(o);let m=!1;return Uc(i).Z({range:d,X:!0},(C,U,z)=>{const[ne,Te,rt]=C;ne===e&&Te===u&&(m=!0),z.done()}).next(()=>m)}function Ml(i){return Lo(i,"mutations")}function Uc(i){return Lo(i,"documentMutations")}function Hh(i){return Lo(i,"mutationQueues")}class ec{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new ec(0)}static vn(){return new ec(-1)}}class bu{constructor(e,n){this.referenceDelegate=e,this.It=n}allocateTargetId(e){return this.Vn(e).next(n=>{const o=new ec(n.highestTargetId);return n.highestTargetId=o.next(),this.Sn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(n=>_n.fromTimestamp(new Vr(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,o){return this.Vn(e).next(u=>(u.highestListenSequenceNumber=n,o&&(u.lastRemoteSnapshotVersion=o.toTimestamp()),n>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=n),this.Sn(e,u)))}addTargetData(e,n){return this.Dn(e,n).next(()=>this.Vn(e).next(o=>(o.targetCount+=1,this.Cn(n,o),this.Sn(e,o))))}updateTargetData(e,n){return this.Dn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>ul(e).delete(n.targetId)).next(()=>this.Vn(e)).next(o=>(wn(o.targetCount>0),o.targetCount-=1,this.Sn(e,o)))}removeTargets(e,n,o){let u=0;const d=[];return ul(e).Z((m,C)=>{const U=kc(C);U.sequenceNumber<=n&&null===o.get(U.targetId)&&(u++,d.push(this.removeTargetData(e,U)))}).next(()=>qe.waitFor(d)).next(()=>u)}forEachTarget(e,n){return ul(e).Z((o,u)=>{const d=kc(u);n(d)})}Vn(e){return kd(e).get("targetGlobalKey").next(n=>(wn(null!==n),n))}Sn(e,n){return kd(e).put("targetGlobalKey",n)}Dn(e,n){return ul(e).put(Np(this.It,n))}Cn(e,n){let o=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,o=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.Vn(e).next(n=>n.targetCount)}getTargetData(e,n){const o=F(n),u=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let d=null;return ul(e).Z({range:u,index:"queryTargetsIndex"},(m,C,U)=>{const z=kc(C);me(n,z.target)&&(d=z,U.done())}).next(()=>d)}addMatchingKeys(e,n,o){const u=[],d=ll(e);return n.forEach(m=>{const C=Zo(m.path);u.push(d.put({targetId:o,path:C})),u.push(this.referenceDelegate.addReference(e,o,m))}),qe.waitFor(u)}removeMatchingKeys(e,n,o){const u=ll(e);return qe.forEach(n,d=>{const m=Zo(d.path);return qe.waitFor([u.delete([o,m]),this.referenceDelegate.removeReference(e,o,d)])})}removeMatchingKeysForTargetId(e,n){const o=ll(e),u=IDBKeyRange.bound([n],[n+1],!1,!0);return o.delete(u)}getMatchingKeysForTargetId(e,n){const o=IDBKeyRange.bound([n],[n+1],!1,!0),u=ll(e);let d=qn();return u.Z({range:o,X:!0},(m,C,U)=>{const z=ju(m[1]),ne=new Vt(z);d=d.add(ne)}).next(()=>d)}containsKey(e,n){const o=Zo(n.path),u=IDBKeyRange.bound([o],[co(o)],!1,!0);let d=0;return ll(e).Z({index:"documentTargetsIndex",X:!0,range:u},([m,C],U,z)=>{0!==m&&(d++,z.done())}).next(()=>d>0)}se(e,n){return ul(e).get(n).next(o=>o?kc(o):null)}}function ul(i){return Lo(i,"targets")}function kd(i){return Lo(i,"targetGlobal")}function ll(i){return Lo(i,"targetDocuments")}function zh([i,e],[n,o]){const u=hn(i,n);return 0===u?hn(e,o):u}class ey{constructor(e){this.xn=e,this.buffer=new xn(zh),this.Nn=0}kn(){return++this.Nn}On(e){const n=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(n);else{const o=this.buffer.last();zh(n,o)<0&&(this.buffer=this.buffer.delete(o).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Bc{constructor(e,n,o){this.garbageCollector=e,this.asyncQueue=n,this.localStore=o,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var n=this;Mt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,y.Z)(function*(){n.Mn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(o){Gi(o)?Mt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield os(o)}yield n.Fn(3e5)}))}}class ty{constructor(e,n){this.$n=e,this.params=n}calculateTargetCount(e,n){return this.$n.Bn(e).next(o=>Math.floor(n/100*o))}nthSequenceNumber(e,n){if(0===n)return qe.resolve(Es.at);const o=new ey(n);return this.$n.forEachTarget(e,u=>o.On(u.sequenceNumber)).next(()=>this.$n.Ln(e,u=>o.On(u))).next(()=>o.maxValue)}removeTargets(e,n,o){return this.$n.removeTargets(e,n,o)}removeOrphanedDocuments(e,n){return this.$n.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(Mt("LruGarbageCollector","Garbage collection skipped; disabled"),qe.resolve(jh)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(Mt("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jh):this.Un(e,n))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,n){let o,u,d,m,C,U,z;const ne=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Te=>(Te>this.params.maximumSequenceNumbersToCollect?(Mt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Te}`),u=this.params.maximumSequenceNumbersToCollect):u=Te,m=Date.now(),this.nthSequenceNumber(e,u))).next(Te=>(o=Te,C=Date.now(),this.removeTargets(e,o,n))).next(Te=>(d=Te,U=Date.now(),this.removeOrphanedDocuments(e,o))).next(Te=>(z=Date.now(),ai()<=se.in.DEBUG&&Mt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${m-ne}ms\n\tDetermined least recently used ${u} in `+(C-m)+`ms\n\tRemoved ${d} targets in `+(U-C)+`ms\n\tRemoved ${Te} documents in `+(z-U)+`ms\nTotal Duration: ${z-ne}ms`),qe.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:d,documentsRemoved:Te})))}}class ny{constructor(e,n){this.db=e,this.garbageCollector=new ty(this,n)}Bn(e){const n=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>n.next(u=>o+u))}qn(e){let n=0;return this.Ln(e,o=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Ln(e,n){return this.Kn(e,(o,u)=>n(u))}addReference(e,n,o){return tc(e,o)}removeReference(e,n,o){return tc(e,o)}removeTargets(e,n,o){return this.db.getTargetCache().removeTargets(e,n,o)}markPotentiallyOrphaned(e,n){return tc(e,n)}Gn(e,n){return function(o,u){let d=!1;return Hh(o).tt(m=>Hp(o,m,u).next(C=>(C&&(d=!0),qe.resolve(!C)))).next(()=>d)}(e,n)}removeOrphanedDocuments(e,n){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let d=0;return this.Kn(e,(m,C)=>{if(C<=n){const U=this.Gn(e,m).next(z=>{if(!z)return d++,o.getEntry(e,m).next(()=>(o.removeEntry(m,_n.min()),ll(e).delete([0,Zo(m.path)])))});u.push(U)}}).next(()=>qe.waitFor(u)).next(()=>o.apply(e)).next(()=>d)}removeTarget(e,n){const o=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,n){return tc(e,n)}Kn(e,n){const o=ll(e);let u,d=Es.at;return o.Z({index:"documentTargetsIndex"},([m,C],{path:U,sequenceNumber:z})=>{0===m?(d!==Es.at&&n(new Vt(ju(u)),d),d=z,u=U):d=Es.at}).next(()=>{d!==Es.at&&n(new Vt(ju(u)),d)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function tc(i,e){return ll(i).put((o=i.currentSequenceNumber,{targetId:0,path:Zo(e.path),sequenceNumber:o}));var o}class Ld{constructor(){this.changes=new Ur(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Fr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const o=this.changes.get(n);return void 0!==o?qe.resolve(o):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class zp{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,o){return cl(e).put(o)}removeEntry(e,n,o){return cl(e).delete(function(u,d){const m=u.path.toArray();return[m.slice(0,m.length-2),m[m.length-2],Cd(d),m[m.length-1]]}(n,o))}updateMetadata(e,n){return this.getMetadata(e).next(o=>(o.byteSize+=n,this.Qn(e,o)))}getEntry(e,n){let o=Fr.newInvalidDocument(n);return cl(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Vc(n))},(u,d)=>{o=this.jn(n,d)}).next(()=>o)}Wn(e,n){let o={size:0,document:Fr.newInvalidDocument(n)};return cl(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Vc(n))},(u,d)=>{o={document:this.jn(n,d),size:Ja(d)}}).next(()=>o)}getEntries(e,n){let o=Gr();return this.zn(e,n,(u,d)=>{const m=this.jn(u,d);o=o.insert(u,m)}).next(()=>o)}Hn(e,n){let o=Gr(),u=new kr(Vt.comparator);return this.zn(e,n,(d,m)=>{const C=this.jn(d,m);o=o.insert(d,C),u=u.insert(d,Ja(m))}).next(()=>({documents:o,Jn:u}))}zn(e,n,o){if(n.isEmpty())return qe.resolve();let u=new xn(Wp);n.forEach(U=>u=u.add(U));const d=IDBKeyRange.bound(Vc(u.first()),Vc(u.last())),m=u.getIterator();let C=m.getNext();return cl(e).Z({index:"documentKeyIndex",range:d},(U,z,ne)=>{const Te=Vt.fromSegments([...z.prefixPath,z.collectionGroup,z.documentId]);for(;C&&Wp(C,Te)<0;)o(C,null),C=m.getNext();C&&C.isEqual(Te)&&(o(C,z),C=m.hasNext()?m.getNext():null),C?ne.j(Vc(C)):ne.done()}).next(()=>{for(;C;)o(C,null),C=m.hasNext()?m.getNext():null})}getAllFromCollection(e,n,o){const u=[n.popLast().toArray(),n.lastSegment(),Cd(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],d=[n.popLast().toArray(),n.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return cl(e).W(IDBKeyRange.bound(u,d,!0)).next(m=>{let C=Gr();for(const U of m){const z=this.jn(Vt.fromSegments(U.prefixPath.concat(U.collectionGroup,U.documentId)),U);C=C.insert(z.key,z)}return C})}getAllFromCollectionGroup(e,n,o,u){let d=Gr();const m=Ud(n,o),C=Ud(n,Bi.max());return cl(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(m,C,!0)},(U,z,ne)=>{const Te=this.jn(Vt.fromSegments(z.prefixPath.concat(z.collectionGroup,z.documentId)),z);d=d.insert(Te.key,Te),d.size===u&&ne.done()}).next(()=>d)}newChangeBuffer(e){return new nc(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return Fd(e).get("remoteDocumentGlobalKey").next(n=>(wn(!!n),n))}Qn(e,n){return Fd(e).put("remoteDocumentGlobalKey",n)}jn(e,n){if(n){const o=function Op(i,e){let n;if(e.document)n=Ip(i.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=Vt.fromSegments(e.noDocument.path),u=cu(e.noDocument.readTime);n=Fr.newNoDocument(o,u),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return nn();{const o=Vt.fromSegments(e.unknownDocument.path),u=cu(e.unknownDocument.version);n=Fr.newUnknownDocument(o,u)}}return e.readTime&&n.setReadTime(function(o){const u=new Vr(o[0],o[1]);return _n.fromTimestamp(u)}(e.readTime)),n}(this.It,n);if(!o.isNoDocument()||!o.version.isEqual(_n.min()))return o}return Fr.newInvalidDocument(e)}}function ry(i){return new zp(i)}class nc extends Ld{constructor(e,n){super(),this.Yn=e,this.trackRemovals=n,this.Xn=new Ur(o=>o.toString(),(o,u)=>o.isEqual(u))}applyChanges(e){const n=[];let o=0,u=new xn((d,m)=>hn(d.canonicalString(),m.canonicalString()));return this.changes.forEach((d,m)=>{const C=this.Xn.get(d);if(n.push(this.Yn.removeEntry(e,d,C.readTime)),m.isValidDocument()){const U=Td(this.Yn.It,m);u=u.add(d.path.popLast()),o+=Ja(U)-C.size,n.push(this.Yn.addEntry(e,d,U))}else if(o-=C.size,this.trackRemovals){const U=Td(this.Yn.It,m.convertToNoDocument(_n.min()));n.push(this.Yn.addEntry(e,d,U))}}),u.forEach(d=>{n.push(this.Yn.indexManager.addToCollectionParentIndex(e,d))}),n.push(this.Yn.updateMetadata(e,o)),qe.waitFor(n)}getFromCache(e,n){return this.Yn.Wn(e,n).next(o=>(this.Xn.set(n,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,n){return this.Yn.Hn(e,n).next(({documents:o,Jn:u})=>(u.forEach((d,m)=>{this.Xn.set(d,{size:m,readTime:o.get(d).readTime})}),o))}}function Fd(i){return Lo(i,"remoteDocumentGlobal")}function cl(i){return Lo(i,"remoteDocumentsV14")}function Vc(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Ud(i,e){const n=e.documentKey.path.toArray();return[i,Cd(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Wp(i,e){const n=i.path.toArray(),o=e.path.toArray();let u=0;for(let d=0;d<n.length-2&&d<o.length-2;++d)if(u=hn(n[d],o[d]),u)return u;return u=hn(n.length,o.length),u||(u=hn(n[n.length-2],o[o.length-2]),u||hn(n[n.length-1],o[o.length-1]))}class iy{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Gp{constructor(e,n,o,u){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,n){let o=null;return this.documentOverlayCache.getOverlay(e,n).next(u=>(o=u,this.getBaseDocument(e,n,o))).next(u=>(null!==o&&wa(o.mutation,u,Ki.empty(),Vr.now()),u))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.getLocalViewOfDocuments(e,o,qn()).next(()=>o))}getLocalViewOfDocuments(e,n,o=qn()){const u=Ko();return this.populateOverlays(e,u,n).next(()=>this.computeViews(e,n,u,o).next(d=>{let m=Kr();return d.forEach((C,U)=>{m=m.insert(C,U.overlayedDocument)}),m}))}getOverlayedDocuments(e,n){const o=Ko();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,qn()))}populateOverlays(e,n,o){const u=[];return o.forEach(d=>{n.has(d)||u.push(d)}),this.documentOverlayCache.getOverlays(e,u).next(d=>{d.forEach((m,C)=>{n.set(m,C)})})}computeViews(e,n,o,u){let d=Gr();const m=Ws(),C=Ws();return n.forEach((U,z)=>{const ne=o.get(z.key);u.has(z.key)&&(void 0===ne||ne.mutation instanceof p)?d=d.insert(z.key,z):void 0!==ne&&(m.set(z.key,ne.mutation.getFieldMask()),wa(ne.mutation,z,ne.mutation.getFieldMask(),Vr.now()))}),this.recalculateAndSaveOverlays(e,d).next(U=>(U.forEach((z,ne)=>m.set(z,ne)),n.forEach((z,ne)=>{var Te;return C.set(z,new iy(ne,null!==(Te=m.get(z))&&void 0!==Te?Te:null))}),C))}recalculateAndSaveOverlays(e,n){const o=Ws();let u=new kr((m,C)=>m-C),d=qn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(m=>{for(const C of m)C.keys().forEach(U=>{const z=n.get(U);if(null===z)return;let ne=o.get(U)||Ki.empty();ne=C.applyToLocalView(z,ne),o.set(U,ne);const Te=(u.get(C.batchId)||qn()).add(U);u=u.insert(C.batchId,Te)})}).next(()=>{const m=[],C=u.getReverseIterator();for(;C.hasNext();){const U=C.getNext(),z=U.key,ne=U.value,Te=Yi();ne.forEach(rt=>{if(!d.has(rt)){const vt=xs(n.get(rt),o.get(rt));null!==vt&&Te.set(rt,vt),d=d.add(rt)}}),m.push(this.documentOverlayCache.saveOverlays(e,z,Te))}return qe.waitFor(m)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,n,o){return Vt.isDocumentKey((u=n).path)&&null===u.collectionGroup&&0===u.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):Dl(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,o):this.getDocumentsMatchingCollectionQuery(e,n,o);var u}getNextDocuments(e,n,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,o,u).next(d=>{const m=u-d.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,o.largestBatchId,u-d.size):qe.resolve(Ko());let C=-1,U=d;return m.next(z=>qe.forEach(z,(ne,Te)=>(C<Te.largestBatchId&&(C=Te.largestBatchId),d.get(ne)?qe.resolve():this.getBaseDocument(e,ne,Te).next(rt=>{U=U.insert(ne,rt)}))).next(()=>this.populateOverlays(e,z,d)).next(()=>this.computeViews(e,U,z,qn())).next(ne=>({batchId:C,changes:rl(ne)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Vt(n)).next(o=>{let u=Kr();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,n,o){const u=n.collectionGroup;let d=Kr();return this.indexManager.getCollectionParents(e,u).next(m=>qe.forEach(m,C=>{const U=(z=n,ne=C.child(u),new sa(ne,null,z.explicitOrderBy.slice(),z.filters.slice(),z.limit,z.limitType,z.startAt,z.endAt));var z,ne;return this.getDocumentsMatchingCollectionQuery(e,U,o).next(z=>{z.forEach((ne,Te)=>{d=d.insert(ne,Te)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,n,o){let u;return this.remoteDocumentCache.getAllFromCollection(e,n.path,o).next(d=>(u=d,this.documentOverlayCache.getOverlaysForCollection(e,n.path,o.largestBatchId))).next(d=>{d.forEach((C,U)=>{const z=U.getKey();null===u.get(z)&&(u=u.insert(z,Fr.newInvalidDocument(z)))});let m=Kr();return u.forEach((C,U)=>{const z=d.get(C);void 0!==z&&wa(z.mutation,U,Ki.empty(),Vr.now()),Vu(n,U)&&(m=m.insert(C,U))}),m})}getBaseDocument(e,n,o){return null===o||1===o.mutation.type?this.remoteDocumentCache.getEntry(e,n):qe.resolve(Fr.newInvalidDocument(n))}}class sy{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return qe.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var o;return this.Zn.set(n.id,{id:(o=n).id,version:o.version,createTime:vo(o.createTime)}),qe.resolve()}getNamedQuery(e,n){return qe.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,{name:(o=n).name,query:Ad(o.bundledQuery),readTime:vo(o.readTime)}),qe.resolve();var o}}class oy{constructor(){this.overlays=new kr(Vt.comparator),this.es=new Map}getOverlay(e,n){return qe.resolve(this.overlays.get(n))}getOverlays(e,n){const o=Ko();return qe.forEach(n,u=>this.getOverlay(e,u).next(d=>{null!==d&&o.set(u,d)})).next(()=>o)}saveOverlays(e,n,o){return o.forEach((u,d)=>{this.ue(e,n,d)}),qe.resolve()}removeOverlaysForBatchId(e,n,o){const u=this.es.get(o);return void 0!==u&&(u.forEach(d=>this.overlays=this.overlays.remove(d)),this.es.delete(o)),qe.resolve()}getOverlaysForCollection(e,n,o){const u=Ko(),d=n.length+1,m=new Vt(n.child("")),C=this.overlays.getIteratorFrom(m);for(;C.hasNext();){const U=C.getNext().value,z=U.getKey();if(!n.isPrefixOf(z.path))break;z.path.length===d&&U.largestBatchId>o&&u.set(U.getKey(),U)}return qe.resolve(u)}getOverlaysForCollectionGroup(e,n,o,u){let d=new kr((z,ne)=>z-ne);const m=this.overlays.getIterator();for(;m.hasNext();){const z=m.getNext().value;if(z.getKey().getCollectionGroup()===n&&z.largestBatchId>o){let ne=d.get(z.largestBatchId);null===ne&&(ne=Ko(),d=d.insert(z.largestBatchId,ne)),ne.set(z.getKey(),z)}}const C=Ko(),U=d.getIterator();for(;U.hasNext()&&(U.getNext().value.forEach((z,ne)=>C.set(z,ne)),!(C.size()>=u)););return qe.resolve(C)}ue(e,n,o){const u=this.overlays.get(o.key);if(null!==u){const m=this.es.get(u.largestBatchId).delete(o.key);this.es.set(u.largestBatchId,m)}this.overlays=this.overlays.insert(o.key,new Nc(n,o));let d=this.es.get(n);void 0===d&&(d=qn(),this.es.set(n,d)),this.es.set(n,d.add(o.key))}}class Wh{constructor(){this.ns=new xn(Ks.ss),this.rs=new xn(Ks.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const o=new Ks(e,n);this.ns=this.ns.add(o),this.rs=this.rs.add(o)}us(e,n){e.forEach(o=>this.addReference(o,n))}removeReference(e,n){this.cs(new Ks(e,n))}hs(e,n){e.forEach(o=>this.removeReference(o,n))}ls(e){const n=new Vt(new Gn([])),o=new Ks(n,e),u=new Ks(n,e+1),d=[];return this.rs.forEachInRange([o,u],m=>{this.cs(m),d.push(m.key)}),d}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new Vt(new Gn([])),o=new Ks(n,e),u=new Ks(n,e+1);let d=qn();return this.rs.forEachInRange([o,u],m=>{d=d.add(m.key)}),d}containsKey(e){const n=new Ks(e,0),o=this.ns.firstAfterOrEqual(n);return null!==o&&e.isEqual(o.key)}}class Ks{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return Vt.comparator(e.key,n.key)||hn(e._s,n._s)}static os(e,n){return hn(e._s,n._s)||Vt.comparator(e.key,n.key)}}class Gh{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new xn(Ks.ss)}checkEmpty(e){return qe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,o,u){const d=this.ws;this.ws++;const m=new Fh(d,n,o,u);this.mutationQueue.push(m);for(const C of u)this.gs=this.gs.add(new Ks(C.key,d)),this.indexManager.addToCollectionParentIndex(e,C.key.path.popLast());return qe.resolve(m)}lookupMutationBatch(e,n){return qe.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const u=this.ps(n+1),d=u<0?0:u;return qe.resolve(this.mutationQueue.length>d?this.mutationQueue[d]:null)}getHighestUnacknowledgedBatchId(){return qe.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return qe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const o=new Ks(n,0),u=new Ks(n,Number.POSITIVE_INFINITY),d=[];return this.gs.forEachInRange([o,u],m=>{const C=this.ys(m._s);d.push(C)}),qe.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new xn(hn);return n.forEach(u=>{const d=new Ks(u,0),m=new Ks(u,Number.POSITIVE_INFINITY);this.gs.forEachInRange([d,m],C=>{o=o.add(C._s)})}),qe.resolve(this.Is(o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,u=o.length+1;let d=o;Vt.isDocumentKey(d)||(d=d.child(""));const m=new Ks(new Vt(d),0);let C=new xn(hn);return this.gs.forEachWhile(U=>{const z=U.key.path;return!!o.isPrefixOf(z)&&(z.length===u&&(C=C.add(U._s)),!0)},m),qe.resolve(this.Is(C))}Is(e){const n=[];return e.forEach(o=>{const u=this.ys(o);null!==u&&n.push(u)}),n}removeMutationBatch(e,n){wn(0===this.Ts(n.batchId,"removed")),this.mutationQueue.shift();let o=this.gs;return qe.forEach(n.mutations,u=>{const d=new Ks(u.key,n.batchId);return o=o.delete(d),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.gs=o})}An(e){}containsKey(e,n){const o=new Ks(n,0),u=this.gs.firstAfterOrEqual(o);return qe.resolve(n.isEqual(u&&u.key))}performConsistencyCheck(e){return qe.resolve()}Ts(e,n){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Kp{constructor(e){this.Es=e,this.docs=new kr(Vt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const o=n.key,u=this.docs.get(o),d=u?u.size:0,m=this.Es(n);return this.docs=this.docs.insert(o,{document:n.mutableCopy(),size:m}),this.size+=m-d,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const o=this.docs.get(n);return qe.resolve(o?o.document.mutableCopy():Fr.newInvalidDocument(n))}getEntries(e,n){let o=Gr();return n.forEach(u=>{const d=this.docs.get(u);o=o.insert(u,d?d.document.mutableCopy():Fr.newInvalidDocument(u))}),qe.resolve(o)}getAllFromCollection(e,n,o){let u=Gr();const d=new Vt(n.child("")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:C,value:{document:U}}=m.getNext();if(!n.isPrefixOf(C.path))break;C.path.length>n.length+1||ru(As(U),o)<=0||(u=u.insert(U.key,U.mutableCopy()))}return qe.resolve(u)}getAllFromCollectionGroup(e,n,o,u){nn()}As(e,n){return qe.forEach(this.docs,o=>n(o))}newChangeBuffer(e){return new Kh(this)}getSize(e){return qe.resolve(this.size)}}class Kh extends Ld{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?n.push(this.Yn.addEntry(e,u)):this.Yn.removeEntry(o)}),qe.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}class ay{constructor(e){this.persistence=e,this.Rs=new Ur(n=>F(n),me),this.lastRemoteSnapshotVersion=_n.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Wh,this.targetCount=0,this.vs=ec.Pn()}forEachTarget(e,n){return this.Rs.forEach((o,u)=>n(u)),qe.resolve()}getLastRemoteSnapshotVersion(e){return qe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return qe.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),qe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,o){return o&&(this.lastRemoteSnapshotVersion=o),n>this.bs&&(this.bs=n),qe.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new ec(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,qe.resolve()}updateTargetData(e,n){return this.Dn(n),qe.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,qe.resolve()}removeTargets(e,n,o){let u=0;const d=[];return this.Rs.forEach((m,C)=>{C.sequenceNumber<=n&&null===o.get(C.targetId)&&(this.Rs.delete(m),d.push(this.removeMatchingKeysForTargetId(e,C.targetId)),u++)}),qe.waitFor(d).next(()=>u)}getTargetCount(e){return qe.resolve(this.targetCount)}getTargetData(e,n){const o=this.Rs.get(n)||null;return qe.resolve(o)}addMatchingKeys(e,n,o){return this.Ps.us(n,o),qe.resolve()}removeMatchingKeys(e,n,o){this.Ps.hs(n,o);const u=this.persistence.referenceDelegate,d=[];return u&&n.forEach(m=>{d.push(u.markPotentiallyOrphaned(e,m))}),qe.waitFor(d)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),qe.resolve()}getMatchingKeysForTargetId(e,n){const o=this.Ps.ds(n);return qe.resolve(o)}containsKey(e,n){return qe.resolve(this.Ps.containsKey(n))}}class Zp{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new Es(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new ay(this),this.indexManager=new Xm,this.remoteDocumentCache=new Kp(o=>this.referenceDelegate.xs(o)),this.It=new Uh(n),this.Ns=new sy(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new oy,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let o=this.Vs[e.toKey()];return o||(o=new Gh(n,this.referenceDelegate),this.Vs[e.toKey()]=o),o}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,o){Mt("MemoryPersistence","Starting transaction:",e);const u=new qp(this.Ss.next());return this.referenceDelegate.ks(),o(u).next(d=>this.referenceDelegate.Os(u).next(()=>d)).toPromise().then(d=>(u.raiseOnCommittedEvent(),d))}Ms(e,n){return qe.or(Object.values(this.Vs).map(o=>()=>o.containsKey(e,n)))}}class qp extends Ya{constructor(e){super(),this.currentSequenceNumber=e}}class $c{constructor(e){this.persistence=e,this.Fs=new Wh,this.$s=null}static Bs(e){return new $c(e)}get Ls(){if(this.$s)return this.$s;throw nn()}addReference(e,n,o){return this.Fs.addReference(o,n),this.Ls.delete(o.toString()),qe.resolve()}removeReference(e,n,o){return this.Fs.removeReference(o,n),this.Ls.add(o.toString()),qe.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),qe.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(u=>this.Ls.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(u=>{u.forEach(d=>this.Ls.add(d.toString()))}).next(()=>o.removeTargetData(e,n))}ks(){this.$s=new Set}Os(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return qe.forEach(this.Ls,o=>{const u=Vt.fromPath(o);return this.Us(e,u).next(d=>{d||n.removeEntry(u,_n.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.Us(e,n).next(o=>{o?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}Us(e,n){return qe.or([()=>qe.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ms(e,n)])}}class xl{constructor(e){this.It=e}$(e,n,o,u){const d=new $s("createOrUpgrade",n);var C;o<1&&u>=1&&(e.createObjectStore("owner"),(C=e).createObjectStore("mutationQueues",{keyPath:"userId"}),C.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Cp,{unique:!0}),C.createObjectStore("documentMutations"),Zh(e),function(C){C.createObjectStore("remoteDocuments")}(e));let m=qe.resolve();return o<3&&u>=3&&(0!==o&&(function(C){C.deleteObjectStore("targetDocuments"),C.deleteObjectStore("targets"),C.deleteObjectStore("targetGlobal")}(e),Zh(e)),m=m.next(()=>function(C){const U=C.store("targetGlobal"),z={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:_n.min().toTimestamp(),targetCount:0};return U.put("targetGlobalKey",z)}(d))),o<4&&u>=4&&(0!==o&&(m=m.next(()=>function(C,U){return U.store("mutations").W().next(z=>{C.deleteObjectStore("mutations"),C.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Cp,{unique:!0});const ne=U.store("mutations"),Te=z.map(rt=>ne.put(rt));return qe.waitFor(Te)})}(e,d))),m=m.next(()=>{!function(C){C.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&u>=5&&(m=m.next(()=>this.qs(d))),o<6&&u>=6&&(m=m.next(()=>(function(C){C.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(d)))),o<7&&u>=7&&(m=m.next(()=>this.Gs(d))),o<8&&u>=8&&(m=m.next(()=>this.Qs(e,d))),o<9&&u>=9&&(m=m.next(()=>{!function(C){C.objectStoreNames.contains("remoteDocumentChanges")&&C.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&u>=10&&(m=m.next(()=>this.js(d))),o<11&&u>=11&&(m=m.next(()=>{(function(C){C.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(C){C.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&u>=12&&(m=m.next(()=>{!function(C){const U=C.createObjectStore("documentOverlays",{keyPath:Gm});U.createIndex("collectionPathOverlayIndex",kh,{unique:!1}),U.createIndex("collectionGroupOverlayIndex",$v,{unique:!1})}(e)})),o<13&&u>=13&&(m=m.next(()=>function(C){const U=C.createObjectStore("remoteDocumentsV14",{keyPath:Oc});U.createIndex("documentKeyIndex",$m),U.createIndex("collectionGroupIndex",Vv)}(e)).next(()=>this.Ws(e,d)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&u>=14&&(m=m.next(()=>this.zs(e,d))),o<15&&u>=15&&(m=m.next(()=>function(C){C.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),C.createObjectStore("indexState",{keyPath:xp}).createIndex("sequenceNumberIndex",Rp,{unique:!1}),C.createObjectStore("indexEntries",{keyPath:Nh}).createIndex("documentKeyIndex",Wm,{unique:!1})}(e))),m}Ks(e){let n=0;return e.store("remoteDocuments").Z((o,u)=>{n+=Ja(u)}).next(()=>{const o={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}qs(e){const n=e.store("mutationQueues"),o=e.store("mutations");return n.W().next(u=>qe.forEach(u,d=>{const m=IDBKeyRange.bound([d.userId,-1],[d.userId,d.lastAcknowledgedBatchId]);return o.W("userMutationsIndex",m).next(C=>qe.forEach(C,U=>{wn(U.userId===d.userId);const z=Tl(this.It,U);return Al(e,d.userId,z).next(()=>{})}))}))}Gs(e){const n=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(u=>{const d=[];return o.Z((m,C)=>{const U=new Gn(m),z=[0,Zo(U)];d.push(n.get(z).next(ne=>ne?qe.resolve():n.put({targetId:0,path:Zo(U),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>qe.waitFor(d))})}Qs(e,n){e.createObjectStore("collectionParents",{keyPath:zm});const o=n.store("collectionParents"),u=new Rd,d=m=>{if(u.add(m)){const C=m.lastSegment(),U=m.popLast();return o.put({collectionId:C,parent:Zo(U)})}};return n.store("remoteDocuments").Z({X:!0},(m,C)=>{const U=new Gn(m);return d(U.popLast())}).next(()=>n.store("documentMutations").Z({X:!0},([m,C,U],z)=>{const ne=ju(C);return d(ne.popLast())}))}js(e){const n=e.store("targets");return n.Z((o,u)=>{const d=kc(u),m=Np(this.It,d);return n.put(m)})}Ws(e,n){const o=n.store("remoteDocuments"),u=[];return o.Z((d,m)=>{const C=n.store("remoteDocumentsV14"),U=(z=m,z.document?new Vt(Gn.fromString(z.document.name).popFirst(5)):z.noDocument?Vt.fromSegments(z.noDocument.path):z.unknownDocument?Vt.fromSegments(z.unknownDocument.path):nn()).path.toArray();var z;const ne={prefixPath:U.slice(0,U.length-2),collectionGroup:U[U.length-2],documentId:U[U.length-1],readTime:m.readTime||[0,0],unknownDocument:m.unknownDocument,noDocument:m.noDocument,document:m.document,hasCommittedMutations:!!m.hasCommittedMutations};u.push(C.put(ne))}).next(()=>qe.waitFor(u))}zs(e,n){const o=n.store("mutations"),u=ry(this.It),d=new Zp($c.Bs,this.It.re);return o.W().next(m=>{const C=new Map;return m.forEach(U=>{var z;let ne=null!==(z=C.get(U.userId))&&void 0!==z?z:qn();Tl(this.It,U).keys().forEach(Te=>ne=ne.add(Te)),C.set(U.userId,ne)}),qe.forEach(C,(U,z)=>{const ne=new wr(z),Te=xd.oe(this.It,ne),rt=d.getIndexManager(ne),vt=Nd.oe(ne,this.It,rt,d.referenceDelegate);return new Gp(u,vt,Te,rt).recalculateAndSaveOverlaysForDocumentKeys(new Pp(n,Es.at),U).next()})})}}function Zh(i){i.createObjectStore("targetDocuments",{keyPath:jm}).createIndex("documentTargetsIndex",Hm,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Mp,{unique:!0}),i.createObjectStore("targetGlobal")}const Bd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class qh{constructor(e,n,o,u,d,m,C,U,z,ne,Te=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=o,this.Hs=d,this.window=m,this.document=C,this.Js=z,this.Ys=ne,this.Xs=Te,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=rt=>Promise.resolve(),!qh.C())throw new At(lt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ny(this,u),this.ii=n+"main",this.It=new Uh(U),this.ri=new Xr(this.ii,this.Xs,new xl(this.It)),this.Cs=new bu(this.referenceDelegate,this.It),this.remoteDocumentCache=ry(this.It),this.Ns=new Ym,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===ne&&Vn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new At(lt.FAILED_PRECONDITION,Bd);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Es(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var n=this;return this.si=function(){var o=(0,y.Z)(function*(u){if(n.started)return e(u)});return function(u){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var n=(0,y.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,y.Z)(function*(){n.started&&(yield n.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Rl(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(n=>{n||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(n=>this.isPrimary&&!n?this._i(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(Gi(e))return Mt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Mt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return Vd(e).get("owner").next(n=>qe.resolve(this.mi(n)))}gi(e){return Rl(e).delete(this.clientId)}yi(){var e=this;return(0,y.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const u=Lo(o,"clientMetadata");return u.W().next(d=>{const m=e.Ii(d,18e5),C=d.filter(U=>-1===m.indexOf(U));return qe.forEach(C,U=>u.delete(U.clientId)).next(()=>C)})}).catch(()=>[]);if(e.oi)for(const o of n)e.oi.removeItem(e.Ti(o.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?qe.resolve(!0):Vd(e).get("owner").next(n=>{if(null!==n&&this.pi(n.leaseTimestampMs,5e3)&&!this.Ei(n.ownerId)){if(this.mi(n)&&this.networkEnabled)return!0;if(!this.mi(n)){if(!n.allowTabSynchronization)throw new At(lt.FAILED_PRECONDITION,Bd);return!1}}return!(!this.networkEnabled||!this.inForeground)||Rl(e).W().next(o=>void 0===this.Ii(o,5e3).find(u=>{if(this.clientId!==u.clientId){const m=!this.inForeground&&u.inForeground,C=this.networkEnabled===u.networkEnabled;if(!this.networkEnabled&&u.networkEnabled||m&&C)return!0}return!1}))}).next(n=>(this.isPrimary!==n&&Mt("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,y.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const o=new Pp(n,Es.at);return e._i(o).next(()=>e.gi(o))}),e.ri.close(),e.Pi()})()}Ii(e,n){return e.filter(o=>this.pi(o.updateTimeMs,n)&&!this.Ei(o.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>Rl(e).W().next(n=>this.Ii(n,18e5).map(o=>o.clientId)))}get started(){return this.Ds}getMutationQueue(e,n){return Nd.oe(e,this.It,n,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Vp(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return xd.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,n,o){Mt("IndexedDbPersistence","Starting transaction:",e);const u="readonly"===n?"readonly":"readwrite",d=15===(m=this.Xs)?jv:14===m?qm:13===m?Zm:12===m?Lh:11===m?Km:void nn();var m;let C;return this.ri.runTransaction(e,u,d,U=>(C=new Pp(U,this.Ss?this.Ss.next():Es.at),"readwrite-primary"===n?this.fi(C).next(z=>!!z||this.di(C)).next(z=>{if(!z)throw Vn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new At(lt.FAILED_PRECONDITION,Ho);return o(C)}).next(z=>this.wi(C).next(()=>z)):this.Vi(C).next(()=>o(C)))).then(U=>(C.raiseOnCommittedEvent(),U))}Vi(e){return Vd(e).get("owner").next(n=>{if(null!==n&&this.pi(n.leaseTimestampMs,5e3)&&!this.Ei(n.ownerId)&&!this.mi(n)&&!(this.Ys||this.allowTabSynchronization&&n.allowTabSynchronization))throw new At(lt.FAILED_PRECONDITION,Bd)})}wi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Vd(e).put("owner",n)}static C(){return Xr.C()}_i(e){const n=Vd(e);return n.get("owner").next(o=>this.mi(o)?(Mt("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):qe.resolve())}pi(e,n){const o=Date.now();return!(e<o-n||e>o&&(Vn(`Detected an update time that is in the future: ${e} > ${o}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,ue.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var n;try{const o=null!==(null===(n=this.oi)||void 0===n?void 0:n.getItem(this.Ti(e)));return Mt("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return Vn("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Vn("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Vd(i){return Lo(i,"owner")}function Rl(i){return Lo(i,"clientMetadata")}function Yh(i,e){let n=i.projectId;return i.isDefaultDatabase||(n+="."+i.database),"firestore/"+e+"/"+n+"/"}class $d{constructor(e,n,o,u){this.targetId=e,this.fromCache=n,this.Si=o,this.Di=u}static Ci(e,n){let o=qn(),u=qn();for(const d of n.docChanges)switch(d.type){case 0:o=o.add(d.doc.key);break;case 1:u=u.add(d.doc.key)}return new $d(e,n.fromCache,o,u)}}class Qh{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,o,u){return this.ki(e,n).next(d=>d||this.Oi(e,n,u,o)).next(d=>d||this.Mi(e,n))}ki(e,n){if(Hl(n))return qe.resolve(null);let o=zs(n);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==n.limit&&1===u&&(n=uu(n,null,"F"),o=zs(n)),this.indexManager.getDocumentsMatchingTarget(e,o).next(d=>{const m=qn(...d);return this.Ni.getDocuments(e,m).next(C=>this.indexManager.getMinOffset(e,o).next(U=>{const z=this.Fi(n,C);return this.$i(n,z,m,U.readTime)?this.ki(e,uu(n,null,"F")):this.Bi(e,z,n,U)}))})))}Oi(e,n,o,u){return Hl(n)||u.isEqual(_n.min())?this.Mi(e,n):this.Ni.getDocuments(e,o).next(d=>{const m=this.Fi(n,d);return this.$i(n,m,o,u)?this.Mi(e,n):(ai()<=se.in.DEBUG&&Mt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),zl(n)),this.Bi(e,m,n,ma(u,-1)))})}Fi(e,n){let o=new xn(nl(e));return n.forEach((u,d)=>{Vu(e,d)&&(o=o.add(d))}),o}$i(e,n,o,u){if(null===e.limit)return!1;if(o.size!==n.size)return!0;const d="F"===e.limitType?n.last():n.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(u)>0)}Mi(e,n){return ai()<=se.in.DEBUG&&Mt("QueryEngine","Using full collection scan to execute query:",zl(n)),this.Ni.getDocumentsMatchingQuery(e,n,Bi.min())}Bi(e,n,o,u){return this.Ni.getDocumentsMatchingQuery(e,o,u).next(d=>(n.forEach(m=>{d=d.insert(m.key,m)}),d))}}class Yp{constructor(e,n,o,u){this.persistence=e,this.Li=n,this.It=u,this.Ui=new kr(hn),this.qi=new Ur(d=>F(d),me),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(o)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Gp(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ui))}}function jd(i,e,n,o){return new Yp(i,e,n,o)}function Jh(i,e){return rc.apply(this,arguments)}function rc(){return rc=(0,y.Z)(function*(i,e){const n=Lt(i);return yield n.persistence.runTransaction("Handle user change","readonly",o=>{let u;return n.mutationQueue.getAllMutationBatches(o).next(d=>(u=d,n.Qi(e),n.mutationQueue.getAllMutationBatches(o))).next(d=>{const m=[],C=[];let U=qn();for(const z of u){m.push(z.batchId);for(const ne of z.mutations)U=U.add(ne.key)}for(const z of d){C.push(z.batchId);for(const ne of z.mutations)U=U.add(ne.key)}return n.localDocuments.getDocuments(o,U).next(z=>({ji:z,removedBatchIds:m,addedBatchIds:C}))})})}),rc.apply(this,arguments)}function Hd(i,e){const n=Lt(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),d=n.Gi.newChangeBuffer({trackRemovals:!0});return function(m,C,U,z){const ne=U.batch,Te=ne.keys();let rt=qe.resolve();return Te.forEach(vt=>{rt=rt.next(()=>z.getEntry(C,vt)).next(Tt=>{const an=U.docVersions.get(vt);wn(null!==an),Tt.version.compareTo(an)<0&&(ne.applyToRemoteDocument(Tt,U),Tt.isValidDocument()&&(Tt.setReadTime(U.commitVersion),z.addEntry(Tt)))})}),rt.next(()=>m.mutationQueue.removeMutationBatch(C,ne))}(n,o,e,d).next(()=>d.apply(o)).next(()=>n.mutationQueue.performConsistencyCheck(o)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(m){let C=qn();for(let U=0;U<m.mutationResults.length;++U)m.mutationResults[U].transformResults.length>0&&(C=C.add(m.batch.mutations[U].key));return C}(e))).next(()=>n.localDocuments.getDocuments(o,u))})}function Xh(i){const e=Lt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function ef(i,e){const n=Lt(i),o=e.snapshotVersion;let u=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const m=n.Gi.newChangeBuffer({trackRemovals:!0});u=n.Ui;const C=[];e.targetChanges.forEach((ne,Te)=>{const rt=u.get(Te);if(!rt)return;C.push(n.Cs.removeMatchingKeys(d,ne.removedDocuments,Te).next(()=>n.Cs.addMatchingKeys(d,ne.addedDocuments,Te)));let vt=rt.withSequenceNumber(d.currentSequenceNumber);var Tt,an,fn;e.targetMismatches.has(Te)?vt=vt.withResumeToken(cr.EMPTY_BYTE_STRING,_n.min()).withLastLimboFreeSnapshotVersion(_n.min()):ne.resumeToken.approximateByteSize()>0&&(vt=vt.withResumeToken(ne.resumeToken,o)),u=u.insert(Te,vt),an=vt,fn=ne,(0===(Tt=rt).resumeToken.approximateByteSize()||an.snapshotVersion.toMicroseconds()-Tt.snapshotVersion.toMicroseconds()>=3e8||fn.addedDocuments.size+fn.modifiedDocuments.size+fn.removedDocuments.size>0)&&C.push(n.Cs.updateTargetData(d,vt))});let U=Gr(),z=qn();if(e.documentUpdates.forEach(ne=>{e.resolvedLimboDocuments.has(ne)&&C.push(n.persistence.referenceDelegate.updateLimboDocument(d,ne))}),C.push(tf(d,m,e.documentUpdates).next(ne=>{U=ne.Wi,z=ne.zi})),!o.isEqual(_n.min())){const ne=n.Cs.getLastRemoteSnapshotVersion(d).next(Te=>n.Cs.setTargetsMetadata(d,d.currentSequenceNumber,o));C.push(ne)}return qe.waitFor(C).next(()=>m.apply(d)).next(()=>n.localDocuments.getLocalViewOfDocuments(d,U,z)).next(()=>U)}).then(d=>(n.Ui=u,d))}function tf(i,e,n){let o=qn(),u=qn();return n.forEach(d=>o=o.add(d)),e.getEntries(i,o).next(d=>{let m=Gr();return n.forEach((C,U)=>{const z=d.get(C);U.isFoundDocument()!==z.isFoundDocument()&&(u=u.add(C)),U.isNoDocument()&&U.version.isEqual(_n.min())?(e.removeEntry(C,U.readTime),m=m.insert(C,U)):!z.isValidDocument()||U.version.compareTo(z.version)>0||0===U.version.compareTo(z.version)&&z.hasPendingWrites?(e.addEntry(U),m=m.insert(C,U)):Mt("LocalStore","Ignoring outdated watch update for ",C,". Current version:",z.version," Watch version:",U.version)}),{Wi:m,zi:u}})}function nf(i,e){const n=Lt(i);return n.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function Su(i,e){const n=Lt(i);return n.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return n.Cs.getTargetData(o,e).next(d=>d?(u=d,qe.resolve(u)):n.Cs.allocateTargetId(o).next(m=>(u=new Hu(e,m,0,o.currentSequenceNumber),n.Cs.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=n.Ui.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(o.targetId,o),n.qi.set(e,o.targetId)),o})}function ic(i,e,n){return zd.apply(this,arguments)}function zd(){return zd=(0,y.Z)(function*(i,e,n){const o=Lt(i),u=o.Ui.get(e),d=n?"readwrite":"readwrite-primary";try{n||(yield o.persistence.runTransaction("Release target",d,m=>o.persistence.referenceDelegate.removeTarget(m,u)))}catch(m){if(!Gi(m))throw m;Mt("LocalStore",`Failed to update sequence numbers for target ${e}: ${m}`)}o.Ui=o.Ui.remove(e),o.qi.delete(u.target)}),zd.apply(this,arguments)}function Wd(i,e,n){const o=Lt(i);let u=_n.min(),d=qn();return o.persistence.runTransaction("Execute query","readonly",m=>function(C,U,z){const ne=Lt(C),Te=ne.qi.get(z);return void 0!==Te?qe.resolve(ne.Ui.get(Te)):ne.Cs.getTargetData(U,z)}(o,m,zs(e)).next(C=>{if(C)return u=C.lastLimboFreeSnapshotVersion,o.Cs.getMatchingKeysForTargetId(m,C.targetId).next(U=>{d=U})}).next(()=>o.Li.getDocumentsMatchingQuery(m,e,n?u:_n.min(),n?d:qn())).next(C=>(Gd(o,tl(e),C),{documents:C,Hi:d})))}function Qp(i,e){const n=Lt(i),o=Lt(n.Cs),u=n.Ui.get(e);return u?Promise.resolve(u.target):n.persistence.runTransaction("Get target data","readonly",d=>o.se(d,e).next(m=>m?m.target:null))}function rf(i,e){const n=Lt(i),o=n.Ki.get(e)||_n.min();return n.persistence.runTransaction("Get new document changes","readonly",u=>n.Gi.getAllFromCollectionGroup(u,e,ma(o,-1),Number.MAX_SAFE_INTEGER)).then(u=>(Gd(n,e,u),u))}function Gd(i,e,n){let o=i.Ki.get(e)||_n.min();n.forEach((u,d)=>{d.readTime.compareTo(o)>0&&(o=d.readTime)}),i.Ki.set(e,o)}function Xp(){return Xp=(0,y.Z)(function*(i,e,n,o){const u=Lt(i);let d=qn(),m=Gr();for(const z of n){const ne=e.Ji(z.metadata.name);z.document&&(d=d.add(ne));const Te=e.Yi(z);Te.setReadTime(e.Xi(z.metadata.readTime)),m=m.insert(ne,Te)}const C=u.Gi.newChangeBuffer({trackRemovals:!0}),U=yield Su(u,(z=o,zs(ou(Gn.fromString(`__bundle__/docs/${z}`)))));var z;return u.persistence.runTransaction("Apply bundle documents","readwrite",z=>tf(z,C,m).next(ne=>(C.apply(z),ne)).next(ne=>u.Cs.removeMatchingKeysForTargetId(z,U.targetId).next(()=>u.Cs.addMatchingKeys(z,d,U.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(z,ne.Wi,ne.zi)).next(()=>ne.Wi)))}),Xp.apply(this,arguments)}function eg(i,e){return sf.apply(this,arguments)}function sf(){return sf=(0,y.Z)(function*(i,e,n=qn()){const o=yield Su(i,zs(Ad(e.bundledQuery))),u=Lt(i);return u.persistence.runTransaction("Save named query","readwrite",d=>{const m=vo(e.readTime);if(o.snapshotVersion.compareTo(m)>=0)return u.Ns.saveNamedQuery(d,e);const C=o.withResumeToken(cr.EMPTY_BYTE_STRING,m);return u.Ui=u.Ui.insert(C.targetId,C),u.Cs.updateTargetData(d,C).next(()=>u.Cs.removeMatchingKeysForTargetId(d,o.targetId)).next(()=>u.Cs.addMatchingKeys(d,n,o.targetId)).next(()=>u.Ns.saveNamedQuery(d,e))})}),sf.apply(this,arguments)}function af(i,e){return`firestore_clients_${i}_${e}`}function tg(i,e,n){let o=`firestore_mutations_${i}_${n}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function uf(i,e){return`firestore_targets_${i}_${e}`}class ba{constructor(e,n,o,u){this.user=e,this.batchId=n,this.state=o,this.error=u}static Zi(e,n,o){const u=JSON.parse(o);let d,m="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return m&&u.error&&(m="string"==typeof u.error.message&&"string"==typeof u.error.code,m&&(d=new At(u.error.code,u.error.message))),m?new ba(e,n,u.state,d):(Vn("SharedClientState",`Failed to parse mutation state for ID '${n}': ${o}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class jc{constructor(e,n,o){this.targetId=e,this.state=n,this.error=o}static Zi(e,n){const o=JSON.parse(n);let u,d="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return d&&o.error&&(d="string"==typeof o.error.message&&"string"==typeof o.error.code,d&&(u=new At(o.error.code,o.error.message))),d?new jc(e,o.state,u):(Vn("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Hc{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Zi(e,n){const o=JSON.parse(n);let u="object"==typeof o&&o.activeTargetIds instanceof Array,d=Il();for(let m=0;u&&m<o.activeTargetIds.length;++m)u=dt(o.activeTargetIds[m]),d=d.add(o.activeTargetIds[m]);return u?new Hc(e,d):(Vn("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class lf{constructor(e,n){this.clientId=e,this.onlineState=n}static Zi(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new lf(n.clientId,n.onlineState):(Vn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class cf{constructor(){this.activeTargetIds=Il()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class df{constructor(e,n,o,u,d){this.window=e,this.Hs=n,this.persistenceKey=o,this.sr=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new kr(hn),this.started=!1,this.cr=[];const m=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=d,this.ar=af(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new cf),this.lr=new RegExp(`^firestore_clients_${m}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${m}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${m}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(C){return`firestore_bundle_loaded_v2_${C}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,y.Z)(function*(){const n=yield e.syncEngine.vi();for(const u of n){if(u===e.sr)continue;const d=e.getItem(af(e.persistenceKey,u));if(d){const m=Hc.Zi(u,d);m&&(e.ur=e.ur.insert(m.clientId,m))}}e.gr();const o=e.storage.getItem(e.wr);if(o){const u=e.yr(o);u&&e.pr(u)}for(const u of e.cr)e.rr(u);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let n=!1;return this.ur.forEach((o,u)=>{u.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,n,o){this.Tr(e,n,o),this.Er(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(uf(this.persistenceKey,e));if(o){const u=jc.Zi(e,o);u&&(n=u.state)}}return this.Ar.er(e),this.gr(),n}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(uf(this.persistenceKey,e))}updateQueryState(e,n,o){this.Rr(e,n,o)}handleUserChange(e,n,o){n.forEach(u=>{this.Er(u)}),this.currentUser=e,o.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return Mt("SharedClientState","READ",e,n),n}setItem(e,n){Mt("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){Mt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var n=this;const o=e;if(o.storageArea===this.storage){if(Mt("SharedClientState","EVENT",o.key,o.newValue),o.key===this.ar)return void Vn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,y.Z)(function*(){if(n.started){if(null!==o.key)if(n.lr.test(o.key)){if(null==o.newValue){const u=n.vr(o.key);return n.Vr(u,null)}{const u=n.Sr(o.key,o.newValue);if(u)return n.Vr(u.clientId,u)}}else if(n.dr.test(o.key)){if(null!==o.newValue){const u=n.Dr(o.key,o.newValue);if(u)return n.Cr(u)}}else if(n._r.test(o.key)){if(null!==o.newValue){const u=n.Nr(o.key,o.newValue);if(u)return n.kr(u)}}else if(o.key===n.wr){if(null!==o.newValue){const u=n.yr(o.newValue);if(u)return n.pr(u)}}else if(o.key===n.hr){const u=function(d){let m=Es.at;if(null!=d)try{const C=JSON.parse(d);wn("number"==typeof C),m=C}catch(C){Vn("SharedClientState","Failed to read sequence number from WebStorage",C)}return m}(o.newValue);u!==Es.at&&n.sequenceNumberHandler(u)}else if(o.key===n.mr){const u=n.Or(o.newValue);yield Promise.all(u.map(d=>n.syncEngine.Mr(d)))}}else n.cr.push(o)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,n,o){const u=new ba(this.currentUser,e,n,o),d=tg(this.persistenceKey,this.currentUser,e);this.setItem(d,u.tr())}Er(e){const n=tg(this.persistenceKey,this.currentUser,e);this.removeItem(n)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,n,o){const u=uf(this.persistenceKey,e),d=new jc(e,n,o);this.setItem(u,d.tr())}Pr(e){const n=JSON.stringify(Array.from(e));this.setItem(this.mr,n)}vr(e){const n=this.lr.exec(e);return n?n[1]:null}Sr(e,n){const o=this.vr(e);return Hc.Zi(o,n)}Dr(e,n){const o=this.dr.exec(e),u=Number(o[1]);return ba.Zi(new wr(void 0!==o[2]?o[2]:null),u,n)}Nr(e,n){const o=this._r.exec(e),u=Number(o[1]);return jc.Zi(u,n)}yr(e){return lf.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var n=this;return(0,y.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.Fr(e.batchId,e.state,e.error);Mt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,n){const o=n?this.ur.insert(e,n):this.ur.remove(e),u=this.Ir(this.ur),d=this.Ir(o),m=[],C=[];return d.forEach(U=>{u.has(U)||m.push(U)}),u.forEach(U=>{d.has(U)||C.push(U)}),this.syncEngine.Br(m,C).then(()=>{this.ur=o})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let n=Il();return e.forEach((o,u)=>{n=n.unionWith(u.activeTargetIds)}),n}}class ng{constructor(){this.Lr=new cf,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,o){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,n,o){this.Ur[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new cf,Promise.resolve()}handleUserChange(e,n,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class rg{qr(e){}shutdown(){}}class ig{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Mt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Mt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const uy={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ly{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class ar extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,n,o,u,d){const m=this.ho(e,n);Mt("RestConnection","Sending: ",m,o);const C={};return this.lo(C,u,d),this.fo(e,m,C,o).then(U=>(Mt("RestConnection","Received: ",U),U),U=>{throw ys("RestConnection",`${e} failed with error: `,U,"url: ",m,"request:",o),U})}_o(e,n,o,u,d,m){return this.ao(e,n,o,u,d)}lo(e,n,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+ss,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((u,d)=>e[d]=u),o&&o.headers.forEach((u,d)=>e[d]=u)}ho(e,n){return`${this.oo}/v1/${n}:${uy[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,n,o,u){return new Promise((d,m)=>{const C=new Ts;C.setWithCredentials(!0),C.listenOnce(mr.COMPLETE,()=>{try{switch(C.getLastErrorCode()){case hr.NO_ERROR:const z=C.getResponseJson();Mt("Connection","XHR received:",JSON.stringify(z)),d(z);break;case hr.TIMEOUT:Mt("Connection",'RPC "'+e+'" timed out'),m(new At(lt.DEADLINE_EXCEEDED,"Request time out"));break;case hr.HTTP_ERROR:const ne=C.getStatus();if(Mt("Connection",'RPC "'+e+'" failed with status:',ne,"response text:",C.getResponseText()),ne>0){const Te=C.getResponseJson().error;if(Te&&Te.status&&Te.message){const rt=function(vt){const Tt=vt.toLowerCase().replace(/_/g,"-");return Object.values(lt).indexOf(Tt)>=0?Tt:lt.UNKNOWN}(Te.status);m(new At(rt,Te.message))}else m(new At(lt.UNKNOWN,"Server responded with status "+C.getStatus()))}else m(new At(lt.UNAVAILABLE,"Connection failed."));break;default:nn()}}finally{Mt("Connection",'RPC "'+e+'" completed.')}});const U=JSON.stringify(u);C.send(n,"POST",U,o,15)})}wo(e,n,o){const u=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Jt(),m=dr(),C={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(C.xmlHttpFactory=new Ir({})),this.lo(C.initMessageHeaders,n,o),C.encodeInitMessageHeaders=!0;const U=u.join("");Mt("Connection","Creating WebChannel: "+U,C);const z=d.createWebChannel(U,C);let ne=!1,Te=!1;const rt=new ly({Hr:Tt=>{Te?Mt("Connection","Not sending because WebChannel is closed:",Tt):(ne||(Mt("Connection","Opening WebChannel transport."),z.open(),ne=!0),Mt("Connection","WebChannel sending:",Tt),z.send(Tt))},Jr:()=>z.close()}),vt=(Tt,an,fn)=>{Tt.listen(an,Zr=>{try{fn(Zr)}catch(wi){setTimeout(()=>{throw wi},0)}})};return vt(z,Nr.EventType.OPEN,()=>{Te||Mt("Connection","WebChannel transport opened.")}),vt(z,Nr.EventType.CLOSE,()=>{Te||(Te=!0,Mt("Connection","WebChannel transport closed"),rt.io())}),vt(z,Nr.EventType.ERROR,Tt=>{Te||(Te=!0,ys("Connection","WebChannel transport errored:",Tt),rt.io(new At(lt.UNAVAILABLE,"The operation could not be completed")))}),vt(z,Nr.EventType.MESSAGE,Tt=>{var an;if(!Te){const fn=Tt.data[0];wn(!!fn);const Zr=fn,wi=Zr.error||(null===(an=Zr[0])||void 0===an?void 0:an.error);if(wi){Mt("Connection","WebChannel received error:",wi);const si=wi.status;let qs=function(oi){const Fo=ht[oi];if(void 0!==Fo)return Wn(Fo)}(si),mi=wi.message;void 0===qs&&(qs=lt.INTERNAL,mi="Unknown error status: "+si+" with message "+wi.message),Te=!0,rt.io(new At(qs,mi)),z.close()}else Mt("Connection","WebChannel received:",fn),rt.ro(fn)}}),vt(m,sr.STAT_EVENT,Tt=>{Tt.stat===jr.PROXY?Mt("Connection","Detected buffering proxy"):Tt.stat===jr.NOPROXY&&Mt("Connection","Detected no buffering proxy")}),setTimeout(()=>{rt.so()},0),rt}}function hf(){return typeof window<"u"?window:null}function zc(){return typeof document<"u"?document:null}function sc(i){return new Th(i,!0)}class ff{constructor(e,n,o=1e3,u=1.5,d=6e4){this.Hs=e,this.timerId=n,this.mo=o,this.yo=u,this.po=d,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const n=Math.floor(this.Io+this.bo()),o=Math.max(0,Date.now()-this.Eo),u=Math.max(0,n-o);u>0&&Mt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Io} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,u,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class sg{constructor(e,n,o,u,d,m,C,U){this.Hs=e,this.vo=o,this.Vo=u,this.So=d,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=C,this.listener=U,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new ff(e,n)}ko(){return 1===this.state||5===this.state||this.Oo()}Oo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,y.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Oo()&&null===this.Co&&(this.Co=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,y.Z)(function*(){if(e.Oo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,n){var o=this;return(0,y.Z)(function*(){o.Uo(),o.qo(),o.No.cancel(),o.Do++,4!==e?o.No.reset():n&&n.code===lt.RESOURCE_EXHAUSTED?(Vn(n.toString()),Vn("Using maximum backoff delay to prevent overloading the backend."),o.No.Ao()):n&&n.code===lt.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Ko(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Zr(n)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),n=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.Do===n&&this.Qo(o,u)},o=>{e(()=>{const u=new At(lt.UNKNOWN,"Fetching auth token failed: "+o.message);return this.jo(u)})})}Qo(e,n){const o=this.Go(this.Do);this.stream=this.Wo(e,n),this.stream.Yr(()=>{o(()=>(this.state=2,this.xo=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.Oo()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(u=>{o(()=>this.jo(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}Mo(){var e=this;this.state=5,this.No.Ro((0,y.Z)(function*(){e.state=0,e.start()}))}jo(e){return Mt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return n=>{this.Hs.enqueueAndForget(()=>this.Do===e?n():(Mt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class og extends sg{constructor(e,n,o,u,d,m){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,o,u,m),this.It=d}Wo(e,n){return this.So.wo("Listen",e,n)}onMessage(e){this.No.reset();const n=function wd(i,e){let n;if("targetChange"in e){const o="NO_CHANGE"===(U=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===U?1:"REMOVE"===U?2:"CURRENT"===U?3:"RESET"===U?4:nn(),u=e.targetChange.targetIds||[],d=function(U,z){return U.gt?(wn(void 0===z||"string"==typeof z),cr.fromBase64String(z||"")):(wn(void 0===z||z instanceof Uint8Array),cr.fromUint8Array(z||new Uint8Array))}(i,e.targetChange.resumeToken),m=e.targetChange.cause,C=m&&function(U){const z=void 0===U.code?lt.UNKNOWN:Wn(U.code);return new At(z,U.message||"")}(m);n=new _p(o,u,d,C||null)}else if("documentChange"in e){const o=e.documentChange,u=$u(i,o.document.name),d=vo(o.document.updateTime),m=new Vi({mapValue:{fields:o.document.fields}}),C=Fr.newFoundDocument(u,d,m);n=new Mc(o.targetIds||[],o.removedTargetIds||[],C.key,C)}else if("documentDelete"in e){const o=e.documentDelete,u=$u(i,o.document),d=o.readTime?vo(o.readTime):_n.min(),m=Fr.newNoDocument(u,d);n=new Mc([],o.removedTargetIds||[],m.key,m)}else if("documentRemove"in e){const o=e.documentRemove,u=$u(i,o.document);n=new Mc([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return nn();{const o=e.filter,d=new on(o.count||0);n=new vp(o.targetId,d)}}var U;return n}(this.It,e),o=function(u){if(!("targetChange"in u))return _n.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?_n.min():d.readTime?vo(d.readTime):_n.min()}(e);return this.listener.zo(n,o)}Ho(e){const n={};n.database=Zl(this.It),n.addTarget=function(u,d){let m;const C=d.target;return m=Ve(C)?{documents:sl(u,C)}:{query:Id(u,C)},m.targetId=d.targetId,d.resumeToken.approximateByteSize()>0?m.resumeToken=Ch(u,d.resumeToken):d.snapshotVersion.compareTo(_n.min())>0&&(m.readTime=Kl(u,d.snapshotVersion.toTimestamp())),m}(this.It,e);const o=function Fm(i,e){const n=function(o,u){switch(u){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return nn()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);o&&(n.labels=o),this.Lo(n)}Jo(e){const n={};n.database=Zl(this.It),n.removeTarget=e,this.Lo(n)}}class cy extends sg{constructor(e,n,o,u,d,m){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,o,u,m),this.It=d,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,n){return this.So.wo("Write",e,n)}onMessage(e){if(wn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const n=function Dd(i,e){return i&&i.length>0?(wn(void 0!==e),i.map(n=>function(o,u){let d=vo(o.updateTime?o.updateTime:u);return d.isEqual(_n.min())&&(d=vo(u)),new zn(d,o.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),o=vo(e.commitTime);return this.listener.tu(o,n)}return wn(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=Zl(this.It),this.Lo(e)}Zo(e){const n={streamToken:this.lastStreamToken,writes:e.map(o=>Rc(this.It,o))};this.Lo(n)}}class ag extends class{}{constructor(e,n,o,u){super(),this.authCredentials=e,this.appCheckCredentials=n,this.So=o,this.It=u,this.su=!1}iu(){if(this.su)throw new At(lt.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,n,o){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.So.ao(e,n,o,u,d)).catch(u=>{throw"FirebaseError"===u.name?(u.code===lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new At(lt.UNKNOWN,u.toString())})}_o(e,n,o,u){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,m])=>this.So._o(e,n,o,d,m,u)).catch(d=>{throw"FirebaseError"===d.name?(d.code===lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new At(lt.UNKNOWN,d.toString())})}terminate(){this.su=!0}}class Hv{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}cu(){0===this.ru&&(this.au("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.au("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.au("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.au("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.au(e)}au(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(Vn(n),this.uu=!1):Mt("OnlineStateTracker",n)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class ug{constructor(e,n,o,u,d){var m=this;this.localStore=e,this.datastore=n,this.asyncQueue=o,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=d,this.gu.qr(C=>{o.enqueueAndForget((0,y.Z)(function*(){var U;Tu(m)&&(Mt("RemoteStore","Restarting streams for network reachability change."),yield(U=(0,y.Z)(function*(z){const ne=Lt(z);ne.wu.add(4),yield ac(ne),ne.yu.set("Unknown"),ne.wu.delete(4),yield oc(ne)}),function(z){return U.apply(this,arguments)})(m))}))}),this.yu=new Hv(o,u)}}function oc(i){return Wu.apply(this,arguments)}function Wu(){return Wu=(0,y.Z)(function*(i){if(Tu(i))for(const e of i.mu)yield e(!0)}),Wu.apply(this,arguments)}function ac(i){return Wc.apply(this,arguments)}function Wc(){return Wc=(0,y.Z)(function*(i){for(const e of i.mu)yield e(!1)}),Wc.apply(this,arguments)}function uc(i,e){const n=Lt(i);n._u.has(e.targetId)||(n._u.set(e.targetId,e),gf(n)?cg(n):hc(n).Oo()&&lg(n,e))}function Gc(i,e){const n=Lt(i),o=hc(n);n._u.delete(e),o.Oo()&&hy(n,e),0===n._u.size&&(o.Oo()?o.$o():Tu(n)&&n.yu.set("Unknown"))}function lg(i,e){i.pu.Mt(e.targetId),hc(i).Ho(e)}function hy(i,e){i.pu.Mt(e),hc(i).Jo(e)}function cg(i){i.pu=new km({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),se:e=>i._u.get(e)||null}),hc(i).start(),i.yu.cu()}function gf(i){return Tu(i)&&!hc(i).ko()&&i._u.size>0}function Tu(i){return 0===Lt(i).wu.size}function fy(i){i.pu=void 0}function py(i){return dl.apply(this,arguments)}function dl(){return dl=(0,y.Z)(function*(i){i._u.forEach((e,n)=>{lg(i,e)})}),dl.apply(this,arguments)}function gy(i,e){return Kd.apply(this,arguments)}function Kd(){return Kd=(0,y.Z)(function*(i,e){fy(i),gf(i)?(i.yu.lu(e),cg(i)):i.yu.set("Unknown")}),Kd.apply(this,arguments)}function Zd(i,e,n){return mf.apply(this,arguments)}function mf(){return mf=(0,y.Z)(function*(i,e,n){if(i.yu.set("Online"),e instanceof _p&&2===e.state&&e.cause)try{yield(o=(0,y.Z)(function*(u,d){const m=d.cause;for(const C of d.targetIds)u._u.has(C)&&(yield u.remoteSyncer.rejectListen(C,m),u._u.delete(C),u.pu.removeTarget(C))}),function(u,d){return o.apply(this,arguments)})(i,e)}catch(o){Mt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Kc(i,o)}else if(e instanceof Mc?i.pu.Gt(e):e instanceof vp?i.pu.Yt(e):i.pu.Wt(e),!n.isEqual(_n.min()))try{const o=yield Xh(i.localStore);n.compareTo(o)>=0&&(yield function(u,d){const m=u.pu.te(d);return m.targetChanges.forEach((C,U)=>{if(C.resumeToken.approximateByteSize()>0){const z=u._u.get(U);z&&u._u.set(U,z.withResumeToken(C.resumeToken,d))}}),m.targetMismatches.forEach(C=>{const U=u._u.get(C);if(!U)return;u._u.set(C,U.withResumeToken(cr.EMPTY_BYTE_STRING,U.snapshotVersion)),hy(u,C);const z=new Hu(U.target,C,1,U.sequenceNumber);lg(u,z)}),u.remoteSyncer.applyRemoteEvent(m)}(i,n))}catch(o){Mt("RemoteStore","Failed to raise snapshot:",o),yield Kc(i,o)}var o}),mf.apply(this,arguments)}function Kc(i,e,n){return yf.apply(this,arguments)}function yf(){return yf=(0,y.Z)(function*(i,e,n){if(!Gi(e))throw e;i.wu.add(1),yield ac(i),i.yu.set("Offline"),n||(n=()=>Xh(i.localStore)),i.asyncQueue.enqueueRetryable((0,y.Z)(function*(){Mt("RemoteStore","Retrying IndexedDB access"),yield n(),i.wu.delete(1),yield oc(i)}))}),yf.apply(this,arguments)}function dg(i,e){return e().catch(n=>Kc(i,n,e))}function lc(i){return vf.apply(this,arguments)}function vf(){return vf=(0,y.Z)(function*(i){const e=Lt(i),n=Cu(e);let o=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;my(e);)try{const u=yield nf(e.localStore,o);if(null===u){0===e.du.length&&n.$o();break}o=u.batchId,hg(e,u)}catch(u){yield Kc(e,u)}fg(e)&&_f(e)}),vf.apply(this,arguments)}function my(i){return Tu(i)&&i.du.length<10}function hg(i,e){i.du.push(e);const n=Cu(i);n.Oo()&&n.Xo&&n.Zo(e.mutations)}function fg(i){return Tu(i)&&!Cu(i).ko()&&i.du.length>0}function _f(i){Cu(i).start()}function pg(i){return Zc.apply(this,arguments)}function Zc(){return Zc=(0,y.Z)(function*(i){Cu(i).nu()}),Zc.apply(this,arguments)}function zv(i){return qc.apply(this,arguments)}function qc(){return qc=(0,y.Z)(function*(i){const e=Cu(i);for(const n of i.du)e.Zo(n.mutations)}),qc.apply(this,arguments)}function yy(i,e,n){return gg.apply(this,arguments)}function gg(){return gg=(0,y.Z)(function*(i,e,n){const o=i.du.shift(),u=Sd.from(o,e,n);yield dg(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield lc(i)}),gg.apply(this,arguments)}function cc(i,e){return qd.apply(this,arguments)}function qd(){return qd=(0,y.Z)(function*(i,e){var n;e&&Cu(i).Xo&&(yield(n=(0,y.Z)(function*(o,u){if(Xt(d=u.code)&&d!==lt.ABORTED){const m=o.du.shift();Cu(o).Fo(),yield dg(o,()=>o.remoteSyncer.rejectFailedWrite(m.batchId,u)),yield lc(o)}var d}),function(o,u){return n.apply(this,arguments)})(i,e)),fg(i)&&_f(i)}),qd.apply(this,arguments)}function Ef(i,e){return dc.apply(this,arguments)}function dc(){return dc=(0,y.Z)(function*(i,e){const n=Lt(i);n.asyncQueue.verifyOperationInProgress(),Mt("RemoteStore","RemoteStore received new credentials");const o=Tu(n);n.wu.add(3),yield ac(n),o&&n.yu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.wu.delete(3),yield oc(n)}),dc.apply(this,arguments)}function Va(i,e){return Yd.apply(this,arguments)}function Yd(){return Yd=(0,y.Z)(function*(i,e){const n=Lt(i);e?(n.wu.delete(2),yield oc(n)):e||(n.wu.add(2),yield ac(n),n.yu.set("Unknown"))}),Yd.apply(this,arguments)}function hc(i){return i.Iu||(i.Iu=function(e,n,o){const u=Lt(e);return u.iu(),new og(n,u.So,u.authCredentials,u.appCheckCredentials,u.It,o)}(i.datastore,i.asyncQueue,{Yr:py.bind(null,i),Zr:gy.bind(null,i),zo:Zd.bind(null,i)}),i.mu.push(function(){var e=(0,y.Z)(function*(n){n?(i.Iu.Fo(),gf(i)?cg(i):i.yu.set("Unknown")):(yield i.Iu.stop(),fy(i))});return function(n){return e.apply(this,arguments)}}())),i.Iu}function Cu(i){return i.Tu||(i.Tu=function(e,n,o){const u=Lt(e);return u.iu(),new cy(n,u.So,u.authCredentials,u.appCheckCredentials,u.It,o)}(i.datastore,i.asyncQueue,{Yr:pg.bind(null,i),Zr:cc.bind(null,i),eu:zv.bind(null,i),tu:yy.bind(null,i)}),i.mu.push(function(){var e=(0,y.Z)(function*(n){n?(i.Tu.Fo(),yield lc(i)):(yield i.Tu.stop(),i.du.length>0&&(Mt("RemoteStore",`Stopping write stream with ${i.du.length} pending writes`),i.du=[]))});return function(n){return e.apply(this,arguments)}}())),i.Tu}class hu{constructor(e,n,o,u,d){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=o,this.op=u,this.removalCallback=d,this.deferred=new Jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}static createAndSchedule(e,n,o,u,d){const m=Date.now()+o,C=new hu(e,n,m,u,d);return C.start(o),C}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new At(lt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hl(i,e){if(Vn("AsyncQueue",`${e}: ${i}`),Gi(i))return new At(lt.UNAVAILABLE,`${e}: ${i}`);throw i}class Pl{constructor(e){this.comparator=e?(n,o)=>e(n,o)||Vt.comparator(n.key,o.key):(n,o)=>Vt.comparator(n.key,o.key),this.keyedMap=Kr(),this.sortedSet=new kr(this.comparator)}static emptySet(e){return new Pl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,o)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Pl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;n.hasNext();){const u=n.getNext().key,d=o.getNext().key;if(!u.isEqual(d))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const o=new Pl;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=n,o}}class Qd{constructor(){this.Eu=new kr(Vt.comparator)}track(e){const n=e.doc.key,o=this.Eu.get(n);o?0!==e.type&&3===o.type?this.Eu=this.Eu.insert(n,e):3===e.type&&1!==o.type?this.Eu=this.Eu.insert(n,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Eu=this.Eu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Eu=this.Eu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Eu=this.Eu.remove(n):1===e.type&&2===o.type?this.Eu=this.Eu.insert(n,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Eu=this.Eu.insert(n,{type:2,doc:e.doc}):nn():this.Eu=this.Eu.insert(n,e)}Au(){const e=[];return this.Eu.inorderTraversal((n,o)=>{e.push(o)}),e}}class Yc{constructor(e,n,o,u,d,m,C,U,z){this.query=e,this.docs=n,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=d,this.fromCache=m,this.syncStateChanged=C,this.excludesMetadataChanges=U,this.hasCachedResults=z}static fromInitialDocuments(e,n,o,u,d){const m=[];return n.forEach(C=>{m.push({type:0,doc:C})}),new Yc(e,n,Pl.emptySet(n),m,o,u,!0,!1,d)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,o=e.docChanges;if(n.length!==o.length)return!1;for(let u=0;u<n.length;u++)if(n[u].type!==o[u].type||!n[u].doc.isEqual(o[u].doc))return!1;return!0}}class mg{constructor(){this.Ru=void 0,this.listeners=[]}}class Wv{constructor(){this.queries=new Ur(e=>el(e),Bu),this.onlineState="Unknown",this.bu=new Set}}function fc(i,e){return pc.apply(this,arguments)}function pc(){return pc=(0,y.Z)(function*(i,e){const n=Lt(i),o=e.query;let u=!1,d=n.queries.get(o);if(d||(u=!0,d=new mg),u)try{d.Ru=yield n.onListen(o)}catch(m){const C=hl(m,`Initialization of query '${zl(e.query)}' failed`);return void e.onError(C)}n.queries.set(o,d),d.listeners.push(e),e.Pu(n.onlineState),d.Ru&&e.vu(d.Ru)&&Df(n)}),pc.apply(this,arguments)}function Qc(i,e){return Jc.apply(this,arguments)}function Jc(){return Jc=(0,y.Z)(function*(i,e){const n=Lt(i),o=e.query;let u=!1;const d=n.queries.get(o);if(d){const m=d.listeners.indexOf(e);m>=0&&(d.listeners.splice(m,1),u=0===d.listeners.length)}if(u)return n.queries.delete(o),n.onUnlisten(o)}),Jc.apply(this,arguments)}function wf(i,e){const n=Lt(i);let o=!1;for(const u of e){const m=n.queries.get(u.query);if(m){for(const C of m.listeners)C.vu(u)&&(o=!0);m.Ru=u}}o&&Df(n)}function Gv(i,e,n){const o=Lt(i),u=o.queries.get(e);if(u)for(const d of u.listeners)d.onError(n);o.queries.delete(e)}function Df(i){i.bu.forEach(e=>{e.next()})}class If{constructor(e,n,o){this.query=e,this.Vu=n,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=o||{}}vu(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new Yc(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Su?this.Cu(e)&&(this.Vu.next(e),n=!0):this.xu(e,this.onlineState)&&(this.Nu(e),n=!0),this.Du=e,n}onError(e){this.Vu.error(e)}Pu(e){this.onlineState=e;let n=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),n=!0),n}xu(e,n){return!e.fromCache||(!this.options.ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=Yc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Su=!0,this.Vu.next(e)}}class vy{constructor(e,n){this.payload=e,this.byteLength=n}Ou(){return"metadata"in this.payload}}class yg{constructor(e){this.It=e}Ji(e){return $u(this.It,e)}Yi(e){return e.metadata.exists?Ip(this.It,e.document,!1):Fr.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return vo(e)}}class vg{constructor(e,n,o){this.Mu=e,this.localStore=n,this.It=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=_y(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++n;const o=Gn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}$u(e){const n=new Map,o=new yg(this.It);for(const u of e)if(u.metadata.queries){const d=o.Ji(u.metadata.name);for(const m of u.metadata.queries){const C=(n.get(m)||qn()).add(d);n.set(m,C)}}return n}complete(){var e=this;return(0,y.Z)(function*(){const n=yield function Jp(i,e,n,o){return Xp.apply(this,arguments)}(e.localStore,new yg(e.It),e.documents,e.Mu.id),o=e.$u(e.documents);for(const u of e.queries)yield eg(e.localStore,u,o.get(u.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:n}})()}}function _y(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class _g{constructor(e){this.key=e}}class Ey{constructor(e){this.key=e}}class bf{constructor(e,n){this.query=e,this.Uu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=qn(),this.mutatedKeys=qn(),this.Gu=nl(e),this.Qu=new Pl(this.Gu)}get ju(){return this.Uu}Wu(e,n){const o=n?n.zu:new Qd,u=n?n.Qu:this.Qu;let d=n?n.mutatedKeys:this.mutatedKeys,m=u,C=!1;const U="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,z="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((ne,Te)=>{const rt=u.get(ne),vt=Vu(this.query,Te)?Te:null,Tt=!!rt&&this.mutatedKeys.has(rt.key),an=!!vt&&(vt.hasLocalMutations||this.mutatedKeys.has(vt.key)&&vt.hasCommittedMutations);let fn=!1;rt&&vt?rt.data.isEqual(vt.data)?Tt!==an&&(o.track({type:3,doc:vt}),fn=!0):this.Hu(rt,vt)||(o.track({type:2,doc:vt}),fn=!0,(U&&this.Gu(vt,U)>0||z&&this.Gu(vt,z)<0)&&(C=!0)):!rt&&vt?(o.track({type:0,doc:vt}),fn=!0):rt&&!vt&&(o.track({type:1,doc:rt}),fn=!0,(U||z)&&(C=!0)),fn&&(vt?(m=m.add(vt),d=an?d.add(ne):d.delete(ne)):(m=m.delete(ne),d=d.delete(ne)))}),null!==this.query.limit)for(;m.size>this.query.limit;){const ne="F"===this.query.limitType?m.last():m.first();m=m.delete(ne.key),d=d.delete(ne.key),o.track({type:1,doc:ne})}return{Qu:m,zu:o,$i:C,mutatedKeys:d}}Hu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,o){const u=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const d=e.zu.Au();d.sort((z,ne)=>function(Te,rt){const vt=Tt=>{switch(Tt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return nn()}};return vt(Te)-vt(rt)}(z.type,ne.type)||this.Gu(z.doc,ne.doc)),this.Ju(o);const m=n?this.Yu():[],C=0===this.Ku.size&&this.current?1:0,U=C!==this.qu;return this.qu=C,0!==d.length||U?{snapshot:new Yc(this.query,e.Qu,u,d,e.mutatedKeys,0===C,U,!1,!!o&&o.resumeToken.approximateByteSize()>0),Xu:m}:{Xu:m}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Qd,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(n=>this.Uu=this.Uu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Uu=this.Uu.delete(n)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=qn(),this.Qu.forEach(o=>{this.Zu(o.key)&&(this.Ku=this.Ku.add(o.key))});const n=[];return e.forEach(o=>{this.Ku.has(o)||n.push(new Ey(o))}),this.Ku.forEach(o=>{e.has(o)||n.push(new _g(o))}),n}tc(e){this.Uu=e.Hi,this.Ku=qn();const n=this.Wu(e.documents);return this.applyChanges(n,!0)}ec(){return Yc.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class Eg{constructor(e,n,o){this.query=e,this.targetId=n,this.view=o}}class wy{constructor(e){this.key=e,this.nc=!1}}class Sf{constructor(e,n,o,u,d,m){this.localStore=e,this.remoteStore=n,this.eventManager=o,this.sharedClientState=u,this.currentUser=d,this.maxConcurrentLimboResolutions=m,this.sc={},this.ic=new Ur(C=>el(C),Bu),this.rc=new Map,this.oc=new Set,this.uc=new kr(Vt.comparator),this.cc=new Map,this.ac=new Wh,this.hc={},this.lc=new Map,this.fc=ec.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function Kv(i,e){return wg.apply(this,arguments)}function wg(){return wg=(0,y.Z)(function*(i,e){const n=Of(i);let o,u;const d=n.ic.get(e);if(d)o=d.targetId,n.sharedClientState.addLocalQueryTarget(o),u=d.view.ec();else{const m=yield Su(n.localStore,zs(e));n.isPrimaryClient&&uc(n.remoteStore,m);const C=n.sharedClientState.addLocalQueryTarget(m.targetId);o=m.targetId,u=yield Dg(n,e,o,"current"===C,m.resumeToken)}return u}),wg.apply(this,arguments)}function Dg(i,e,n,o,u){return Ig.apply(this,arguments)}function Ig(){return Ig=(0,y.Z)(function*(i,e,n,o,u){i._c=(Te,rt,vt)=>{return(Tt=(0,y.Z)(function*(an,fn,Zr,wi){let si=fn.view.Wu(Zr);si.$i&&(si=yield Wd(an.localStore,fn.query,!1).then(({documents:oi})=>fn.view.Wu(oi,si)));const qs=wi&&wi.targetChanges.get(fn.targetId),mi=fn.view.applyChanges(si,an.isPrimaryClient,qs);return xf(an,fn.targetId,mi.Xu),mi.snapshot}),function(an,fn,Zr,wi){return Tt.apply(this,arguments)})(i,Te,rt,vt);var Tt};const d=yield Wd(i.localStore,e,!0),m=new bf(e,d.Hi),C=m.Wu(d.documents),U=bl.createSynthesizedTargetChangeForCurrentChange(n,o&&"Offline"!==i.onlineState,u),z=m.applyChanges(C,i.isPrimaryClient,U);xf(i,n,z.Xu);const ne=new Eg(e,n,m);return i.ic.set(e,ne),i.rc.has(n)?i.rc.get(n).push(e):i.rc.set(n,[e]),z.snapshot}),Ig.apply(this,arguments)}function Zv(i,e){return bg.apply(this,arguments)}function bg(){return bg=(0,y.Z)(function*(i,e){const n=Lt(i),o=n.ic.get(e),u=n.rc.get(o.targetId);if(u.length>1)return n.rc.set(o.targetId,u.filter(d=>!Bu(d,e))),void n.ic.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)||(yield ic(n.localStore,o.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(o.targetId),Gc(n.remoteStore,o.targetId),gc(n,o.targetId)}).catch(os))):(gc(n,o.targetId),yield ic(n.localStore,o.targetId,!0))}),bg.apply(this,arguments)}function Sg(){return Sg=(0,y.Z)(function*(i,e,n){const o=Lg(i);try{const u=yield function(d,m){const C=Lt(d),U=Vr.now(),z=m.reduce((rt,vt)=>rt.add(vt.key),qn());let ne,Te;return C.persistence.runTransaction("Locally write mutations","readwrite",rt=>{let vt=Gr(),Tt=qn();return C.Gi.getEntries(rt,z).next(an=>{vt=an,vt.forEach((fn,Zr)=>{Zr.isValidDocument()||(Tt=Tt.add(fn))})}).next(()=>C.localDocuments.getOverlayedDocuments(rt,vt)).next(an=>{ne=an;const fn=[];for(const Zr of m){const wi=Da(Zr,ne.get(Zr.key).overlayedDocument);null!=wi&&fn.push(new p(Zr.key,wi,ii(wi.value.mapValue),Rn.exists(!0)))}return C.mutationQueue.addMutationBatch(rt,U,fn,m)}).next(an=>{Te=an;const fn=an.applyToLocalDocumentSet(ne,Tt);return C.documentOverlayCache.saveOverlays(rt,an.batchId,fn)})}).then(()=>({batchId:Te.batchId,changes:rl(ne)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(d,m,C){let U=d.hc[d.currentUser.toKey()];U||(U=new kr(hn)),U=U.insert(m,C),d.hc[d.currentUser.toKey()]=U}(o,u.batchId,n),yield Sa(o,u.changes),yield lc(o.remoteStore)}catch(u){const d=hl(u,"Failed to persist write");n.reject(d)}}),Sg.apply(this,arguments)}function Dy(i,e){return Tg.apply(this,arguments)}function Tg(){return Tg=(0,y.Z)(function*(i,e){const n=Lt(i);try{const o=yield ef(n.localStore,e);e.targetChanges.forEach((u,d)=>{const m=n.cc.get(d);m&&(wn(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?m.nc=!0:u.modifiedDocuments.size>0?wn(m.nc):u.removedDocuments.size>0&&(wn(m.nc),m.nc=!1))}),yield Sa(n,o,e)}catch(o){yield os(o)}}),Tg.apply(this,arguments)}function Gu(i,e,n){const o=Lt(i);if(o.isPrimaryClient&&0===n||!o.isPrimaryClient&&1===n){const u=[];o.ic.forEach((d,m)=>{const C=m.view.Pu(e);C.snapshot&&u.push(C.snapshot)}),function(d,m){const C=Lt(d);C.onlineState=m;let U=!1;C.queries.forEach((z,ne)=>{for(const Te of ne.listeners)Te.Pu(m)&&(U=!0)}),U&&Df(C)}(o.eventManager,e),u.length&&o.sc.zo(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function Tf(i,e,n){return Cf.apply(this,arguments)}function Cf(){return Cf=(0,y.Z)(function*(i,e,n){const o=Lt(i);o.sharedClientState.updateQueryState(e,"rejected",n);const u=o.cc.get(e),d=u&&u.key;if(d){let m=new kr(Vt.comparator);m=m.insert(d,Fr.newNoDocument(d,_n.min()));const C=qn().add(d),U=new Ac(_n.min(),new Map,new xn(hn),m,C);yield Dy(o,U),o.uc=o.uc.remove(d),o.cc.delete(e),mc(o)}else yield ic(o.localStore,e,!1).then(()=>gc(o,e,n)).catch(os)}),Cf.apply(this,arguments)}function Cg(i,e){return Xc.apply(this,arguments)}function Xc(){return Xc=(0,y.Z)(function*(i,e){const n=Lt(i),o=e.batch.batchId;try{const u=yield Hd(n.localStore,e);Af(n,o,null),Jd(n,o),n.sharedClientState.updateMutationState(o,"acknowledged"),yield Sa(n,u)}catch(u){yield os(u)}}),Xc.apply(this,arguments)}function Ag(i,e,n){return ed.apply(this,arguments)}function ed(){return ed=(0,y.Z)(function*(i,e,n){const o=Lt(i);try{const u=yield function(d,m){const C=Lt(d);return C.persistence.runTransaction("Reject batch","readwrite-primary",U=>{let z;return C.mutationQueue.lookupMutationBatch(U,m).next(ne=>(wn(null!==ne),z=ne.keys(),C.mutationQueue.removeMutationBatch(U,ne))).next(()=>C.mutationQueue.performConsistencyCheck(U)).next(()=>C.documentOverlayCache.removeOverlaysForBatchId(U,z,m)).next(()=>C.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(U,z)).next(()=>C.localDocuments.getDocuments(U,z))})}(o.localStore,e);Af(o,e,n),Jd(o,e),o.sharedClientState.updateMutationState(e,"rejected",n),yield Sa(o,u)}catch(u){yield os(u)}}),ed.apply(this,arguments)}function Au(){return Au=(0,y.Z)(function*(i,e){const n=Lt(i);Tu(n.remoteStore)||Mt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(d){const m=Lt(d);return m.persistence.runTransaction("Get highest unacknowledged batch id","readonly",C=>m.mutationQueue.getHighestUnacknowledgedBatchId(C))}(n.localStore);if(-1===o)return void e.resolve();const u=n.lc.get(o)||[];u.push(e),n.lc.set(o,u)}catch(o){const u=hl(o,"Initialization of waitForPendingWrites() operation failed");e.reject(u)}}),Au.apply(this,arguments)}function Jd(i,e){(i.lc.get(e)||[]).forEach(n=>{n.resolve()}),i.lc.delete(e)}function Af(i,e,n){const o=Lt(i);let u=o.hc[o.currentUser.toKey()];if(u){const d=u.get(e);d&&(n?d.reject(n):d.resolve(),u=u.remove(e)),o.hc[o.currentUser.toKey()]=u}}function gc(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.rc.get(e))i.ic.delete(o),n&&i.sc.wc(o,n);i.rc.delete(e),i.isPrimaryClient&&i.ac.ls(e).forEach(o=>{i.ac.containsKey(o)||Mf(i,o)})}function Mf(i,e){i.oc.delete(e.path.canonicalString());const n=i.uc.get(e);null!==n&&(Gc(i.remoteStore,n),i.uc=i.uc.remove(e),i.cc.delete(n),mc(i))}function xf(i,e,n){for(const o of n)o instanceof _g?(i.ac.addReference(o.key,e),by(i,o)):o instanceof Ey?(Mt("SyncEngine","Document no longer in limbo: "+o.key),i.ac.removeReference(o.key,e),i.ac.containsKey(o.key)||Mf(i,o.key)):nn()}function by(i,e){const n=e.key,o=n.path.canonicalString();i.uc.get(n)||i.oc.has(o)||(Mt("SyncEngine","New document in limbo: "+n),i.oc.add(o),mc(i))}function mc(i){for(;i.oc.size>0&&i.uc.size<i.maxConcurrentLimboResolutions;){const e=i.oc.values().next().value;i.oc.delete(e);const n=new Vt(Gn.fromString(e)),o=i.fc.next();i.cc.set(o,new wy(n)),i.uc=i.uc.insert(n,o),uc(i.remoteStore,new Hu(zs(ou(n.path)),o,2,Es.at))}}function Sa(i,e,n){return td.apply(this,arguments)}function td(){return td=(0,y.Z)(function*(i,e,n){const o=Lt(i),u=[],d=[],m=[];var C;o.ic.isEmpty()||(o.ic.forEach((C,U)=>{m.push(o._c(U,e,n).then(z=>{if((z||n)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(U.targetId,z?.fromCache?"not-current":"current"),z){u.push(z);const ne=$d.Ci(U.targetId,z);d.push(ne)}}))}),yield Promise.all(m),o.sc.zo(u),yield(C=(0,y.Z)(function*(U,z){const ne=Lt(U);try{yield ne.persistence.runTransaction("notifyLocalViewChanges","readwrite",Te=>qe.forEach(z,rt=>qe.forEach(rt.Si,vt=>ne.persistence.referenceDelegate.addReference(Te,rt.targetId,vt)).next(()=>qe.forEach(rt.Di,vt=>ne.persistence.referenceDelegate.removeReference(Te,rt.targetId,vt)))))}catch(Te){if(!Gi(Te))throw Te;Mt("LocalStore","Failed to update sequence numbers: "+Te)}for(const Te of z){const rt=Te.targetId;if(!Te.fromCache){const vt=ne.Ui.get(rt),an=vt.withLastLimboFreeSnapshotVersion(vt.snapshotVersion);ne.Ui=ne.Ui.insert(rt,an)}}}),function(U,z){return C.apply(this,arguments)})(o.localStore,d))}),td.apply(this,arguments)}function yc(i,e){return nd.apply(this,arguments)}function nd(){return nd=(0,y.Z)(function*(i,e){const n=Lt(i);if(!n.currentUser.isEqual(e)){Mt("SyncEngine","User change. New user:",e.toKey());const o=yield Jh(n.localStore,e);n.currentUser=e,(u=n).lc.forEach(m=>{m.forEach(C=>{C.reject(new At(lt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.lc.clear(),n.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Sa(n,o.ji)}var u}),nd.apply(this,arguments)}function Xd(i,e){const n=Lt(i),o=n.cc.get(e);if(o&&o.nc)return qn().add(o.key);{let u=qn();const d=n.rc.get(e);if(!d)return u;for(const m of d){const C=n.ic.get(m);u=u.unionWith(C.view.ju)}return u}}function Mg(i,e){return eh.apply(this,arguments)}function eh(){return eh=(0,y.Z)(function*(i,e){const n=Lt(i),o=yield Wd(n.localStore,e.query,!0),u=e.view.tc(o);return n.isPrimaryClient&&xf(n,e.targetId,u.Xu),u}),eh.apply(this,arguments)}function Rf(i,e){return rd.apply(this,arguments)}function rd(){return rd=(0,y.Z)(function*(i,e){const n=Lt(i);return rf(n.localStore,e).then(o=>Sa(n,o))}),rd.apply(this,arguments)}function xg(i,e,n,o){return id.apply(this,arguments)}function id(){return id=(0,y.Z)(function*(i,e,n,o){const u=Lt(i),d=yield function(m,C){const U=Lt(m),z=Lt(U.mutationQueue);return U.persistence.runTransaction("Lookup mutation documents","readonly",ne=>z.Tn(ne,C).next(Te=>Te?U.localDocuments.getDocuments(ne,Te):qe.resolve(null)))}(u.localStore,e);var C;null!==d?("pending"===n?yield lc(u.remoteStore):"acknowledged"===n||"rejected"===n?(Af(u,e,o||null),Jd(u,e),C=e,Lt(Lt(u.localStore).mutationQueue).An(C)):nn(),yield Sa(u,d)):Mt("SyncEngine","Cannot apply mutation batch with id: "+e)}),id.apply(this,arguments)}function Rg(){return Rg=(0,y.Z)(function*(i,e){const n=Lt(i);if(Of(n),Lg(n),!0===e&&!0!==n.dc){const o=n.sharedClientState.getAllActiveQueryTargets(),u=yield Pg(n,o.toArray());n.dc=!0,yield Va(n.remoteStore,!0);for(const d of u)uc(n.remoteStore,d)}else if(!1===e&&!1!==n.dc){const o=[];let u=Promise.resolve();n.rc.forEach((d,m)=>{n.sharedClientState.isLocalQueryTarget(m)?o.push(m):u=u.then(()=>(gc(n,m),ic(n.localStore,m,!0))),Gc(n.remoteStore,m)}),yield u,yield Pg(n,o),function(d){const m=Lt(d);m.cc.forEach((C,U)=>{Gc(m.remoteStore,U)}),m.ac.fs(),m.cc=new Map,m.uc=new kr(Vt.comparator)}(n),n.dc=!1,yield Va(n.remoteStore,!1)}}),Rg.apply(this,arguments)}function Pg(i,e,n){return th.apply(this,arguments)}function th(){return th=(0,y.Z)(function*(i,e,n){const o=Lt(i),u=[],d=[];for(const m of e){let C;const U=o.rc.get(m);if(U&&0!==U.length){C=yield Su(o.localStore,zs(U[0]));for(const z of U){const ne=o.ic.get(z),Te=yield Mg(o,ne);Te.snapshot&&d.push(Te.snapshot)}}else{const z=yield Qp(o.localStore,m);C=yield Su(o.localStore,z),yield Dg(o,Og(z),m,!1,C.resumeToken)}u.push(C)}return o.sc.zo(d),u}),th.apply(this,arguments)}function Og(i){return wl(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function Ng(i){const e=Lt(i);return Lt(Lt(e.localStore).persistence).vi()}function kg(i,e,n,o){return Pf.apply(this,arguments)}function Pf(){return Pf=(0,y.Z)(function*(i,e,n,o){const u=Lt(i);if(u.dc)return void Mt("SyncEngine","Ignoring unexpected query state notification.");const d=u.rc.get(e);if(d&&d.length>0)switch(n){case"current":case"not-current":{const m=yield rf(u.localStore,tl(d[0])),C=Ac.createSynthesizedRemoteEventForCurrentChange(e,"current"===n,cr.EMPTY_BYTE_STRING);yield Sa(u,m,C);break}case"rejected":yield ic(u.localStore,e,!0),gc(u,e,o);break;default:nn()}}),Pf.apply(this,arguments)}function $a(i,e,n){return nh.apply(this,arguments)}function nh(){return nh=(0,y.Z)(function*(i,e,n){const o=Of(i);if(o.dc){for(const u of e){if(o.rc.has(u)){Mt("SyncEngine","Adding an already active target "+u);continue}const d=yield Qp(o.localStore,u),m=yield Su(o.localStore,d);yield Dg(o,Og(d),m.targetId,!1,m.resumeToken),uc(o.remoteStore,m)}for(const u of n)o.rc.has(u)&&(yield ic(o.localStore,u,!1).then(()=>{Gc(o.remoteStore,u),gc(o,u)}).catch(os))}}),nh.apply(this,arguments)}function Of(i){const e=Lt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Dy.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Xd.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Tf.bind(null,e),e.sc.zo=wf.bind(null,e.eventManager),e.sc.wc=Gv.bind(null,e.eventManager),e}function Lg(i){const e=Lt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Cg.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ag.bind(null,e),e}class rh{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,y.Z)(function*(){n.It=sc(e.databaseInfo.databaseId),n.sharedClientState=n.gc(e),n.persistence=n.yc(e),yield n.persistence.start(),n.localStore=n.Ic(e),n.gcScheduler=n.Tc(e,n.localStore),n.indexBackfillerScheduler=n.Ec(e,n.localStore)})()}Tc(e,n){return null}Ec(e,n){return null}Ic(e){return jd(this.persistence,new Qh,e.initialUser,this.It)}yc(e){return new Zp($c.Bs,this.It)}gc(e){return new ng}terminate(){var e=this;return(0,y.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Nf extends rh{constructor(e,n,o){super(),this.Ac=e,this.cacheSizeBytes=n,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,o=this;return(0,y.Z)(function*(){yield n().call(o,e),yield o.Ac.initialize(o,e),yield Lg(o.Ac.syncEngine),yield lc(o.Ac.remoteStore),yield o.persistence.li(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return jd(this.persistence,new Qh,e.initialUser,this.It)}Tc(e,n){return new Bc(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}Ec(e,n){const o=new Qu(n,this.persistence);return new Du(e.asyncQueue,o)}yc(e){const n=Yh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?Ia.withCacheSize(this.cacheSizeBytes):Ia.DEFAULT;return new qh(this.synchronizeTabs,n,e.clientId,o,e.asyncQueue,hf(),zc(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new ng}}class Cy extends Nf{constructor(e,n){super(e,n,!1),this.Ac=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,o=this;return(0,y.Z)(function*(){yield n().call(o,e);const u=o.Ac.syncEngine;o.sharedClientState instanceof df&&(o.sharedClientState.syncEngine={Fr:xg.bind(null,u),$r:kg.bind(null,u),Br:$a.bind(null,u),vi:Ng.bind(null,u),Mr:Rf.bind(null,u)},yield o.sharedClientState.start()),yield o.persistence.li(function(){var d=(0,y.Z)(function*(m){yield function Sy(i,e){return Rg.apply(this,arguments)}(o.Ac.syncEngine,m),o.gcScheduler&&(m&&!o.gcScheduler.started?o.gcScheduler.start():m||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(m&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():m||o.indexBackfillerScheduler.stop())});return function(m){return d.apply(this,arguments)}}())})()}gc(e){const n=hf();if(!df.C(n))throw new At(lt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=Yh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new df(n,e.asyncQueue,o,e.clientId,e.initialUser)}}class kf{initialize(e,n){var o=this;return(0,y.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(n),o.remoteStore=o.createRemoteStore(n),o.eventManager=o.createEventManager(n),o.syncEngine=o.createSyncEngine(n,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>Gu(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=yc.bind(null,o.syncEngine),yield Va(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Wv}createDatastore(e){const n=sc(e.databaseInfo.databaseId),o=new ar(e.databaseInfo);return new ag(e.authCredentials,e.appCheckCredentials,o,n)}createRemoteStore(e){return n=this.localStore,o=this.datastore,u=e.asyncQueue,d=C=>Gu(this.syncEngine,C,0),m=ig.C()?new ig:new rg,new ug(n,o,u,d,m);var n,o,u,d,m}createSyncEngine(e,n){return function(o,u,d,m,C,U,z){const ne=new Sf(o,u,d,m,C,U);return z&&(ne.dc=!0),ne}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,y.Z)(function*(n){const o=Lt(n);Mt("RemoteStore","RemoteStore shutting down."),o.wu.add(5),yield ac(o),o.gu.shutdown(),o.yu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}function Lf(i,e,n){if(!n)throw new At(lt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Ff(i,e,n,o){if(!0===e&&!0===o)throw new At(lt.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Fg(i){if(!Vt.isDocumentKey(i))throw new At(lt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Uf(i){if(Vt.isDocumentKey(i))throw new At(lt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function ih(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(n=i).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof i?"a function":nn()}function Ar(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new At(lt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ih(i);throw new At(lt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function Bf(i,e){if(e<=0)throw new At(lt.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}const Vf=new Map;class Ug{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new At(lt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new At(lt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Ff("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ta{constructor(e,n,o,u){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ug({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new At(lt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new At(lt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ug(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Za;switch(n.type){case"gapi":return new ea(n.client,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new At(lt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Vf.get(e);n&&(Mt("ComponentProvider","Removing Datastore"),Vf.delete(e),n.terminate())}(this),Promise.resolve()}}function sh(i,e,n,o={}){var u;const d=(i=Ar(i,Ta))._getSettings();if("firestore.googleapis.com"!==d.host&&d.host!==e&&ys("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},d),{host:`${e}:${n}`,ssl:!1})),o.mockUserToken){let m,C;if("string"==typeof o.mockUserToken)m=o.mockUserToken,C=wr.MOCK_USER;else{m=(0,ue.Sg)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const U=o.mockUserToken.sub||o.mockUserToken.user_id;if(!U)throw new At(lt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");C=new wr(U)}i._authCredentials=new ui(new Us(m,C))}}class ds{constructor(e,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ku(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ds(this.firestore,e,this._key)}}class qo{constructor(e,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new qo(this.firestore,e,this._query)}}class Ku extends qo{constructor(e,n,o){super(e,n,ou(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ds(this.firestore,null,new Vt(e))}withConverter(e){return new Ku(this.firestore,e,this._path)}}function Bg(i,e,...n){if(i=(0,ue.m9)(i),Lf("collection","path",e),i instanceof Ta){const o=Gn.fromString(e,...n);return Uf(o),new Ku(i,null,o)}{if(!(i instanceof ds||i instanceof Ku))throw new At(lt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Gn.fromString(e,...n));return Uf(o),new Ku(i.firestore,null,o)}}function Ay(i,e){if(i=Ar(i,Ta),Lf("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new At(lt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new qo(i,null,(n=e,new sa(Gn.emptyPath(),n)));var n}function Vg(i,e,...n){if(i=(0,ue.m9)(i),1===arguments.length&&(e=ga.R()),Lf("doc","path",e),i instanceof Ta){const o=Gn.fromString(e,...n);return Fg(o),new ds(i,null,new Vt(o))}{if(!(i instanceof ds||i instanceof Ku))throw new At(lt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Gn.fromString(e,...n));return Fg(o),new ds(i.firestore,i instanceof Ku?i.converter:null,new Vt(o))}}function My(i,e){return i=(0,ue.m9)(i),e=(0,ue.m9)(e),(i instanceof ds||i instanceof Ku)&&(e instanceof ds||e instanceof Ku)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function sd(i,e){return i=(0,ue.m9)(i),e=(0,ue.m9)(e),i instanceof qo&&e instanceof qo&&i.firestore===e.firestore&&Bu(i._query,e._query)&&i.converter===e.converter}function $g(i,e=10240){let n=0;return{read:()=>(0,y.Z)(function*(){if(n<i.byteLength){const o={value:i.slice(n,n+e),done:!1};return n+=e,o}return{done:!0}})(),cancel:()=>(0,y.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class oh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Vn("Uncaught Error in snapshot listener:",e)}bc(){this.muted=!0}Rc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class ah{constructor(e,n){this.Pc=e,this.It=n,this.metadata=new Jr,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(o=>{o&&o.Ou()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(o?.payload)}`))},o=>this.metadata.reject(o))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,y.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,y.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,y.Z)(function*(){const n=yield e.Sc();if(null===n)return null;const o=e.vc.decode(n),u=Number(o);isNaN(u)&&e.Dc(`length string (${o}) is not valid number`);const d=yield e.Cc(u);return new vy(JSON.parse(d),n.length+u)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,y.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const n=e.xc();n<0&&e.Dc("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),o})()}Cc(e){var n=this;return(0,y.Z)(function*(){for(;n.buffer.length<e;)(yield n.Nc())&&n.Dc("Reached the end of bundle when more is expected.");const o=n.vc.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),o})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,y.Z)(function*(){const n=yield e.Pc.read();if(!n.done){const o=new Uint8Array(e.buffer.length+n.value.length);o.set(e.buffer),o.set(n.value,e.buffer.length),e.buffer=o}return n.done})()}}class $f{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,y.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new At(lt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(u=(0,y.Z)(function*(d,m){const C=Lt(d),U=Zl(C.It)+"/documents",z={documents:m.map(vt=>Sl(C.It,vt))},ne=yield C._o("BatchGetDocuments",U,z,m.length),Te=new Map;ne.forEach(vt=>{const Tt=function Rh(i,e){return"found"in e?function(n,o){wn(!!o.found);const u=$u(n,o.found.name),d=vo(o.found.updateTime),m=new Vi({mapValue:{fields:o.found.fields}});return Fr.newFoundDocument(u,d,m)}(i,e):"missing"in e?function(n,o){wn(!!o.missing),wn(!!o.readTime);const u=$u(n,o.missing),d=vo(o.readTime);return Fr.newNoDocument(u,d)}(i,e):nn()}(C.It,vt);Te.set(Tt.key.toString(),Tt)});const rt=[];return m.forEach(vt=>{const Tt=Te.get(vt.toString());wn(!!Tt),rt.push(Tt)}),rt}),function(d,m){return u.apply(this,arguments)})(n.datastore,e);var u;return o.forEach(u=>n.recordVersion(u)),o})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new je(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,y.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const n=e.readVersions;var o;e.mutations.forEach(o=>{n.delete(o.key.toString())}),n.forEach((o,u)=>{const d=Vt.fromPath(u);e.mutations.push(new wt(d,e.precondition(d)))}),yield(o=(0,y.Z)(function*(u,d){const m=Lt(u),C=Zl(m.It)+"/documents",U={writes:d.map(z=>Rc(m.It,z))};yield m.ao("Commit",C,U)}),function(u,d){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw nn();n=_n.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!n.isEqual(o))throw new At(lt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(_n.min())?Rn.exists(!1):Rn.updateTime(n):Rn.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(_n.min()))throw new At(lt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Rn.updateTime(n)}return Rn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Qv{constructor(e,n,o,u,d){this.asyncQueue=e,this.datastore=n,this.options=o,this.updateFunction=u,this.deferred=d,this.kc=o.maxAttempts,this.No=new ff(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.No.Ro((0,y.Z)(function*(){const n=new $f(e.datastore),o=e.Mc(n);o&&o.then(u=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(u)}).catch(d=>{e.Fc(d)}))}).catch(u=>{e.Fc(u)})}))}Mc(e){try{const n=this.updateFunction(e);return!pe(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||!Xt(n)}return!1}}class Hg{constructor(e,n,o,u){var d=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=o,this.databaseInfo=u,this.user=wr.UNAUTHENTICATED,this.clientId=ga.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var m=(0,y.Z)(function*(C){Mt("FirestoreClient","Received user=",C.uid),yield d.authCredentialListener(C),d.user=C});return function(C){return m.apply(this,arguments)}}()),this.appCheckCredentials.start(o,m=>(Mt("FirestoreClient","Received new app check token=",m),this.appCheckCredentialListener(m,this.user)))}getConfiguration(){var e=this;return(0,y.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new At(lt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,y.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(o){const u=hl(o,"Failed to shutdown persistence");n.reject(u)}})),n.promise}}function jf(i,e){return lh.apply(this,arguments)}function lh(){return lh=(0,y.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Mt("FirestoreClient","Initializing OfflineComponentProvider");const n=yield i.getConfiguration();yield e.initialize(n);let o=n.initialUser;i.setCredentialChangeListener(function(){var u=(0,y.Z)(function*(d){o.isEqual(d)||(yield Jh(e.localStore,d),o=d)});return function(d){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),lh.apply(this,arguments)}function Hf(i,e){return od.apply(this,arguments)}function od(){return od=(0,y.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const n=yield fu(i);Mt("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(n,o),i.setCredentialChangeListener(u=>Ef(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,d)=>Ef(e.remoteStore,d)),i.onlineComponents=e}),od.apply(this,arguments)}function fu(i){return vc.apply(this,arguments)}function vc(){return vc=(0,y.Z)(function*(i){return i.offlineComponents||(Mt("FirestoreClient","Using default OfflineComponentProvider"),yield jf(i,new rh)),i.offlineComponents}),vc.apply(this,arguments)}function Ol(i){return Nl.apply(this,arguments)}function Nl(){return Nl=(0,y.Z)(function*(i){return i.onlineComponents||(Mt("FirestoreClient","Using default OnlineComponentProvider"),yield Hf(i,new kf)),i.onlineComponents}),Nl.apply(this,arguments)}function zg(i){return fu(i).then(e=>e.persistence)}function _c(i){return fu(i).then(e=>e.localStore)}function ch(i){return Ol(i).then(e=>e.remoteStore)}function zf(i){return Ol(i).then(e=>e.syncEngine)}function Mu(i){return Wf.apply(this,arguments)}function Wf(){return Wf=(0,y.Z)(function*(i){const e=yield Ol(i),n=e.eventManager;return n.onListen=Kv.bind(null,e.syncEngine),n.onUnlisten=Zv.bind(null,e.syncEngine),n}),Wf.apply(this,arguments)}function Gg(i,e,n={}){const o=new Jr;return i.asyncQueue.enqueueAndForget((0,y.Z)(function*(){return function(u,d,m,C,U){const z=new oh({next:Te=>{d.enqueueAndForget(()=>Qc(u,ne));const rt=Te.docs.has(m);!rt&&Te.fromCache?U.reject(new At(lt.UNAVAILABLE,"Failed to get document because the client is offline.")):rt&&Te.fromCache&&C&&"server"===C.source?U.reject(new At(lt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):U.resolve(Te)},error:Te=>U.reject(Te)}),ne=new If(ou(m.path),z,{includeMetadataChanges:!0,ku:!0});return fc(u,ne)}(yield Mu(i),i.asyncQueue,e,n,o)})),o.promise}function Kg(i,e,n={}){const o=new Jr;return i.asyncQueue.enqueueAndForget((0,y.Z)(function*(){return function(u,d,m,C,U){const z=new oh({next:Te=>{d.enqueueAndForget(()=>Qc(u,ne)),Te.fromCache&&"server"===C.source?U.reject(new At(lt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):U.resolve(Te)},error:Te=>U.reject(Te)}),ne=new If(m,z,{includeMetadataChanges:!0,ku:!0});return fc(u,ne)}(yield Mu(i),i.asyncQueue,e,n,o)})),o.promise}class Kf{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.No=new ff(this,"async_queue_retry"),this.Wc=()=>{const n=zc();n&&Mt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.No.Po()};const e=zc();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const n=zc();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const n=new Jr;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,y.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.No.reset()}catch(n){if(!Gi(n))throw n;Mt("AsyncQueue","Operation failed with retryable error: "+n)}e.Lc.length>0&&e.No.Ro(()=>e.Jc())}})()}Hc(e){const n=this.Bc.then(()=>(this.Gc=!0,e().catch(o=>{throw this.Kc=o,this.Gc=!1,Vn("INTERNAL UNHANDLED ERROR: ",function(d){let m=d.message||"";return d.stack&&(m=d.stack.includes(d.message)?d.stack:d.message+"\n"+d.stack),m}(o)),o}).then(o=>(this.Gc=!1,o))));return this.Bc=n,n}enqueueAfterDelay(e,n,o){this.zc(),this.jc.indexOf(e)>-1&&(n=0);const u=hu.createAndSchedule(this,e,n,o,d=>this.Yc(d));return this.qc.push(u),u}zc(){this.Kc&&nn()}verifyOperationInProgress(){}Xc(){var e=this;return(0,y.Z)(function*(){let n;do{n=e.Bc,yield n}while(n!==e.Bc)})()}Zc(e){for(const n of this.qc)if(n.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((n,o)=>n.targetTimeMs-o.targetTimeMs);for(const n of this.qc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const n=this.qc.indexOf(e);this.qc.splice(n,1)}}function Zf(i){return function(e,n){if("object"!=typeof e||null===e)return!1;const o=e;for(const u of["next","error","complete"])if(u in o&&"function"==typeof o[u])return!0;return!1}(i)}class Oy{constructor(){this._progressObserver={},this._taskCompletionResolver=new Jr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,o){this._progressObserver={next:e,error:n,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const Ny=-1;class Oi extends Ta{constructor(e,n,o,u){super(e,n,o,u),this.type="firestore",this._queue=new Kf,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||fl(this),this._firestoreClient.terminate()}}function ky(i,e){const n="object"==typeof i?i:(0,E.getApp)(),o="string"==typeof i?i:e||"(default)",u=(0,E._getProvider)(n,"firestore").getImmediate({identifier:o});if(!u._initialized){const d=(0,ue.P0)("firestore");d&&sh(u,...d)}return u}function $i(i){return i._firestoreClient||fl(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function fl(i){var e;const n=i._freezeSettings(),o=(d=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new L(i._databaseId,d,i._persistenceKey,(C=n).host,C.ssl,C.experimentalForceLongPolling,C.experimentalAutoDetectLongPolling,C.useFetchStreams));var d,C;i._firestoreClient=new Hg(i._authCredentials,i._appCheckCredentials,i._queue,o)}function t_(i,e){ud(i=Ar(i,Oi));const n=$i(i),o=i._freezeSettings(),u=new kf;return qg(n,u,new Nf(u,o.cacheSizeBytes,e?.forceOwnership))}function ad(i){ud(i=Ar(i,Oi));const e=$i(i),n=i._freezeSettings(),o=new kf;return qg(e,o,new Cy(o,n.cacheSizeBytes))}function qg(i,e,n){const o=new Jr;return i.asyncQueue.enqueue((0,y.Z)(function*(){try{yield jf(i,n),yield Hf(i,e),o.resolve()}catch(u){const d=u;if(!("FirebaseError"===(m=d).name?m.code===lt.FAILED_PRECONDITION||m.code===lt.UNIMPLEMENTED:!(typeof DOMException<"u"&&m instanceof DOMException)||22===m.code||20===m.code||11===m.code))throw d;ys("Error enabling offline persistence. Falling back to persistence disabled: "+d),o.reject(d)}var m})).then(()=>o.promise)}function Ly(i){if(i._initialized&&!i._terminated)throw new At(lt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Jr;return i._queue.enqueueAndForgetEvenWhileRestricted((0,y.Z)(function*(){try{yield(n=(0,y.Z)(function*(o){if(!Xr.C())return Promise.resolve();const u=o+"main";yield Xr.delete(u)}),function(o){return n.apply(this,arguments)})(Yh(i._databaseId,i._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}function qf(i){return function(e){const n=new Jr;return e.asyncQueue.enqueueAndForget((0,y.Z)(function*(){return function Iy(i,e){return Au.apply(this,arguments)}(yield zf(e),n)})),n.promise}($i(i=Ar(i,Oi)))}function Fy(i){return function Jv(i){return i.asyncQueue.enqueue((0,y.Z)(function*(){const e=yield zg(i),n=yield ch(i);return e.setNetworkEnabled(!0),function(o){const u=Lt(o);return u.wu.delete(0),oc(u)}(n)}))}($i(i=Ar(i,Oi)))}function xu(i){return function xy(i){return i.asyncQueue.enqueue((0,y.Z)(function*(){const e=yield zg(i),n=yield ch(i);return e.setNetworkEnabled(!1),(o=(0,y.Z)(function*(u){const d=Lt(u);d.wu.add(0),yield ac(d),d.yu.set("Offline")}),function(u){return o.apply(this,arguments)})(n);var o}))}($i(i=Ar(i,Oi)))}function Yo(i,e){const n=$i(i=Ar(i,Oi)),o=new Oy;return function Gf(i,e,n,o){const u=function(d,m){let C;return C="string"==typeof d?(new TextEncoder).encode(d):d,U=function(U,z){if(U instanceof Uint8Array)return $g(U,z);if(U instanceof ArrayBuffer)return $g(new Uint8Array(U),z);if(U instanceof ReadableStream)return U.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(C),new ah(U,m);var U}(n,sc(e));i.asyncQueue.enqueueAndForget((0,y.Z)(function*(){!function Ty(i,e,n){const o=Lt(i);var u;(u=(0,y.Z)(function*(d,m,C){try{const U=yield m.getMetadata();if(yield function(rt,vt){const Tt=Lt(rt),an=vo(vt.createTime);return Tt.persistence.runTransaction("hasNewerBundle","readonly",fn=>Tt.Ns.getBundleMetadata(fn,vt.id)).then(fn=>!!fn&&fn.createTime.compareTo(an)>=0)}(d.localStore,U))return yield m.close(),C._completeWith({taskState:"Success",documentsLoaded:(rt=U).totalDocuments,bytesLoaded:rt.totalBytes,totalDocuments:rt.totalDocuments,totalBytes:rt.totalBytes}),Promise.resolve(new Set);C._updateProgress(_y(U));const z=new vg(U,d.localStore,m.It);let ne=yield m.mc();for(;ne;){const rt=yield z.Fu(ne);rt&&C._updateProgress(rt),ne=yield m.mc()}const Te=yield z.complete();return yield Sa(d,Te.Lu,void 0),yield function(rt,vt){const Tt=Lt(rt);return Tt.persistence.runTransaction("Save bundle","readwrite",an=>Tt.Ns.saveBundleMetadata(an,vt))}(d.localStore,U),C._completeWith(Te.progress),Promise.resolve(Te.Bu)}catch(U){return ys("SyncEngine",`Loading bundle failed with ${U}`),C._failWith(U),Promise.resolve(new Set)}var rt}),function(d,m,C){return u.apply(this,arguments)})(o,e,n).then(u=>{o.sharedClientState.notifyBundleLoaded(u)})}(yield zf(i),u,o)}))}(n,i._databaseId,e,o),o}function kl(i,e){return function Py(i,e){return i.asyncQueue.enqueue((0,y.Z)(function*(){return function(n,o){const u=Lt(n);return u.persistence.runTransaction("Get named query","readonly",d=>u.Ns.getNamedQuery(d,o))}(yield _c(i),e)}))}($i(i=Ar(i,Oi)),e).then(n=>n?new qo(i,null,n.query):null)}function ud(i){if(i._initialized||i._terminated)throw new At(lt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Zs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zs(cr.fromBase64String(e))}catch(n){throw new At(lt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Zs(cr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ru{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new At(lt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Sr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Xa{constructor(e){this._methodName=e}}class Zu{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new At(lt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new At(lt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return hn(this._lat,e._lat)||hn(this._long,e._long)}}const Ec=/^__.*__$/;class wc{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return null!==this.fieldMask?new p(e,this.data,this.fieldMask,n,this.fieldTransforms):new f(e,this.data,n,this.fieldTransforms)}}class Ll{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return new p(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Fl(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw nn()}}class qu{constructor(e,n,o,u,d,m){this.settings=e,this.databaseId=n,this.It=o,this.ignoreUndefinedProperties=u,void 0===d&&this.na(),this.fieldTransforms=d||[],this.fieldMask=m||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new qu(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.ia({path:o,oa:!1});return u.ua(e),u}ca(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.ia({path:o,oa:!1});return u.na(),u}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return Bl(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(Fl(this.sa)&&Ec.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class Dc{constructor(e,n,o){this.databaseId=e,this.ignoreUndefinedProperties=n,this.It=o||sc(e)}da(e,n,o,u=!1){return new qu({sa:e,methodName:n,fa:o,path:Sr.emptyPath(),oa:!1,la:u},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function pl(i){const e=i._freezeSettings(),n=sc(i._databaseId);return new Dc(i._databaseId,!!e.ignoreUndefinedProperties,n)}function cd(i,e,n,o,u,d={}){const m=i.da(d.merge||d.mergeFields?2:0,e,n,u);dd("Data must be an object, but it was:",m,o);const C=em(o,m);let U,z;if(d.merge)U=new Ki(m.fieldMask),z=m.fieldTransforms;else if(d.mergeFields){const ne=[];for(const Te of d.mergeFields){const rt=hd(e,Te,n);if(!m.contains(rt))throw new At(lt.INVALID_ARGUMENT,`Field '${rt}' is specified in your field mask but missing from your input data.`);ph(ne,rt)||ne.push(rt)}U=new Ki(ne),z=m.fieldTransforms.filter(Te=>U.covers(Te.field))}else U=null,z=m.fieldTransforms;return new wc(new Vi(C),U,z)}class Ic extends Xa{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ic}}function Yf(i,e,n){return new qu({sa:3,fa:e.settings.fa,methodName:i._methodName,oa:n},e.databaseId,e.It,e.ignoreUndefinedProperties)}class hh extends Xa{_toFieldTransform(e){return new Tn(e.path,new V)}isEqual(e){return e instanceof hh}}class Yg extends Xa{constructor(e,n){super(e),this._a=n}_toFieldTransform(e){const n=Yf(this,e,!0),o=this._a.map(d=>gl(d,n)),u=new Y(o);return new Tn(e.path,u)}isEqual(e){return this===e}}class Qg extends Xa{constructor(e,n){super(e),this._a=n}_toFieldTransform(e){const n=Yf(this,e,!0),o=this._a.map(d=>gl(d,n)),u=new Se(o);return new Tn(e.path,u)}isEqual(e){return this===e}}class Jg extends Xa{constructor(e,n){super(e),this.wa=n}_toFieldTransform(e){const n=new xt(e.It,A(e.It,this.wa));return new Tn(e.path,n)}isEqual(e){return this===e}}function fh(i,e,n,o){const u=i.da(1,e,n);dd("Data must be an object, but it was:",u,o);const d=[],m=Vi.empty();js(o,(U,z)=>{const ne=Ul(e,U,n);z=(0,ue.m9)(z);const Te=u.ca(ne);if(z instanceof Ic)d.push(ne);else{const rt=gl(z,Te);null!=rt&&(d.push(ne),m.set(ne,rt))}});const C=new Ki(d);return new Ll(m,C,u.fieldTransforms)}function Qf(i,e,n,o,u,d){const m=i.da(1,e,n),C=[hd(e,o,n)],U=[u];if(d.length%2!=0)throw new At(lt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let rt=0;rt<d.length;rt+=2)C.push(hd(e,d[rt])),U.push(d[rt+1]);const z=[],ne=Vi.empty();for(let rt=C.length-1;rt>=0;--rt)if(!ph(z,C[rt])){const vt=C[rt];let Tt=U[rt];Tt=(0,ue.m9)(Tt);const an=m.ca(vt);if(Tt instanceof Ic)z.push(vt);else{const fn=gl(Tt,an);null!=fn&&(z.push(vt),ne.set(vt,fn))}}const Te=new Ki(z);return new Ll(ne,Te,m.fieldTransforms)}function Xg(i,e,n,o=!1){return gl(n,i.da(o?4:3,e))}function gl(i,e){if(Jf(i=(0,ue.m9)(i)))return dd("Unsupported field value:",e,i),em(i,e);if(i instanceof Xa)return function(n,o){if(!Fl(o.sa))throw o.ha(`${n._methodName}() can only be used with update() and set()`);if(!o.path)throw o.ha(`${n._methodName}() is not currently supported inside arrays`);const u=n._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(n,o){const u=[];let d=0;for(const m of n){let C=gl(m,o.aa(d));null==C&&(C={nullValue:"NULL_VALUE"}),u.push(C),d++}return{arrayValue:{values:u}}}(i,e)}return function(n,o){if(null===(n=(0,ue.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return A(o.It,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const u=Vr.fromDate(n);return{timestampValue:Kl(o.It,u)}}if(n instanceof Vr){const u=new Vr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Kl(o.It,u)}}if(n instanceof Zu)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Zs)return{bytesValue:Ch(o.It,n._byteString)};if(n instanceof ds){const u=o.databaseId,d=n.firestore._databaseId;if(!d.isEqual(u))throw o.ha(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:_d(n.firestore._databaseId||o.databaseId,n._key.path)}}throw o.ha(`Unsupported field value: ${ih(n)}`)}(i,e)}function em(i,e){const n={};return Lu(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):js(i,(o,u)=>{const d=gl(u,e.ra(o));null!=d&&(n[o]=d)}),{mapValue:{fields:n}}}function Jf(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Vr||i instanceof Zu||i instanceof Zs||i instanceof ds||i instanceof Xa)}function dd(i,e,n){if(!Jf(n)||"object"!=typeof(o=n)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=ih(n);throw e.ha("an object"===o?i+" a custom object":i+" "+o)}var o}function hd(i,e,n){if((e=(0,ue.m9)(e))instanceof Ru)return e._internalPath;if("string"==typeof e)return Ul(i,e);throw Bl("Field path arguments must be of type string or ",i,!1,void 0,n)}const Uy=new RegExp("[~\\*/\\[\\]]");function Ul(i,e,n){if(e.search(Uy)>=0)throw Bl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Ru(...e.split("."))._internalPath}catch{throw Bl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Bl(i,e,n,o,u){const d=o&&!o.isEmpty(),m=void 0!==u;let C=`Function ${e}() called with invalid data`;n&&(C+=" (via `toFirestore()`)"),C+=". ";let U="";return(d||m)&&(U+=" (found",d&&(U+=` in field ${o}`),m&&(U+=` in document ${u}`),U+=")"),new At(lt.INVALID_ARGUMENT,C+i+U)}function ph(i,e){return i.some(n=>n.isEqual(e))}class fd{constructor(e,n,o,u,d){this._firestore=e,this._userDataWriter=n,this._key=o,this._document=u,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new ds(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new gh(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Vl("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class gh extends fd{data(){return super.data()}}function Vl(i,e){return"string"==typeof e?Ul(i,e):e instanceof Ru?e._internalPath:e._delegate._internalPath}function mh(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new At(lt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bc{}function Xf(i,...e){for(const n of e)i=n._apply(i);return i}class tm extends bc{constructor(e,n,o){super(),this.ma=e,this.ga=n,this.ya=o,this.type="where"}_apply(e){const n=pl(e.firestore),o=function(u,d,m,C,U,z,ne){let Te;if(U.isKeyField()){if("array-contains"===z||"array-contains-any"===z)throw new At(lt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${z}' queries on documentId().`);if("in"===z||"not-in"===z){op(ne,z);const vt=[];for(const Tt of ne)vt.push(sp(C,u,Tt));Te={arrayValue:{values:vt}}}else Te=sp(C,u,ne)}else"in"!==z&&"not-in"!==z&&"array-contains-any"!==z||op(ne,z),Te=Xg(m,"where",ne,"in"===z||"not-in"===z);const rt=Qt.create(U,z,Te);return function(vt,Tt){if(Tt.dt()){const fn=Xu(vt);if(null!==fn&&!fn.isEqual(Tt.field))throw new At(lt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${fn.toString()}' and '${Tt.field.toString()}'`);const Zr=Ba(vt);null!==Zr&&ap(0,Tt.field,Zr)}const an=function(fn,Zr){for(const wi of fn.filters)if(Zr.indexOf(wi.op)>=0)return wi.op;return null}(vt,function(fn){switch(fn){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Tt.op));if(null!==an)throw new At(lt.INVALID_ARGUMENT,an===Tt.op?`Invalid query. You cannot use more than one '${Tt.op.toString()}' filter.`:`Invalid query. You cannot use '${Tt.op.toString()}' filters with '${an.toString()}' filters.`)}(u,rt),rt}(e._query,0,n,e.firestore._databaseId,this.ma,this.ga,this.ya);return new qo(e.firestore,e.converter,function(u,d){const m=u.filters.concat([d]);return new sa(u.path,u.collectionGroup,u.explicitOrderBy.slice(),m,u.limit,u.limitType,u.startAt,u.endAt)}(e._query,o))}}function nm(i,e,n){const o=e,u=Vl("where",i);return new tm(u,o,n)}class ep extends bc{constructor(e,n){super(),this.ma=e,this.pa=n,this.type="orderBy"}_apply(e){const n=function(o,u,d){if(null!==o.startAt)throw new At(lt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new At(lt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const m=new Ea(u,d);return function(C,U){if(null===Ba(C)){const z=Xu(C);null!==z&&ap(0,z,U.field)}}(o,m),m}(e._query,this.ma,this.pa);return new qo(e.firestore,e.converter,function(o,u){const d=o.explicitOrderBy.concat([u]);return new sa(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function tp(i,e="asc"){const n=e,o=Vl("orderBy",i);return new ep(o,n)}class rm extends bc{constructor(e,n,o){super(),this.type=e,this.Ia=n,this.Ta=o}_apply(e){return new qo(e.firestore,e.converter,uu(e._query,this.Ia,this.Ta))}}function im(i){return Bf("limit",i),new rm("limit",i,"F")}function sm(i){return Bf("limitToLast",i),new rm("limitToLast",i,"L")}class np extends bc{constructor(e,n,o){super(),this.type=e,this.Ea=n,this.Aa=o}_apply(e){const n=yh(e,this.type,this.Ea,this.Aa);return new qo(e.firestore,e.converter,(u=n,new sa((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)));var o,u}}function om(...i){return new np("startAt",i,!0)}function By(...i){return new np("startAfter",i,!1)}class rp extends bc{constructor(e,n,o){super(),this.type=e,this.Ea=n,this.Aa=o}_apply(e){const n=yh(e,this.type,this.Ea,this.Aa);return new qo(e.firestore,e.converter,(u=n,new sa((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,u)));var o,u}}function am(...i){return new rp("endBefore",i,!1)}function ip(...i){return new rp("endAt",i,!0)}function yh(i,e,n,o){if(n[0]=(0,ue.m9)(n[0]),n[0]instanceof fd)return function(u,d,m,C,U){if(!C)throw new At(lt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${m}().`);const z=[];for(const ne of au(u))if(ne.field.isKeyField())z.push(us(d,C.key));else{const Te=C.data.field(ne.field);if(b(Te))throw new At(lt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ne.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Te){const rt=ne.field.canonicalString();throw new At(lt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${rt}' (used as the orderBy) does not exist.`)}z.push(Te)}return new Ms(z,U)}(i._query,i.firestore._databaseId,e,n[0]._document,o);{const u=pl(i.firestore);return function(d,m,C,U,z,ne){const Te=d.explicitOrderBy;if(z.length>Te.length)throw new At(lt.INVALID_ARGUMENT,`Too many arguments provided to ${U}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const rt=[];for(let vt=0;vt<z.length;vt++){const Tt=z[vt];if(Te[vt].field.isKeyField()){if("string"!=typeof Tt)throw new At(lt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${U}(), but got a ${typeof Tt}`);if(!Dl(d)&&-1!==Tt.indexOf("/"))throw new At(lt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${U}() must be a plain document ID, but '${Tt}' contains a slash.`);const an=d.path.child(Gn.fromString(Tt));if(!Vt.isDocumentKey(an))throw new At(lt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${U}() must result in a valid document path, but '${an}' is not because it contains an odd number of segments.`);const fn=new Vt(an);rt.push(us(m,fn))}else{const an=Xg(C,U,Tt);rt.push(an)}}return new Ms(rt,ne)}(i._query,i.firestore._databaseId,u,e,n,o)}}function sp(i,e,n){if("string"==typeof(n=(0,ue.m9)(n))){if(""===n)throw new At(lt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Dl(e)&&-1!==n.indexOf("/"))throw new At(lt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const o=e.path.child(Gn.fromString(n));if(!Vt.isDocumentKey(o))throw new At(lt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return us(i,new Vt(o))}if(n instanceof ds)return us(i,n._key);throw new At(lt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ih(n)}.`)}function op(i,e){if(!Array.isArray(i)||0===i.length)throw new At(lt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new At(lt.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function ap(i,e,n){if(!n.isEqual(e))throw new At(lt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class vh{convertValue(e,n="none"){switch(qt(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(D(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw nn()}}convertObject(e,n){const o={};return js(e.fields,(u,d)=>{o[u]=this.convertValue(d,n)}),o}convertGeoPoint(e){return new Zu(Lr(e.latitude),Lr(e.longitude))}convertArray(e,n){return(e.values||[]).map(o=>this.convertValue(o,n))}convertServerTimestamp(e,n){switch(n){case"previous":const o=w(e);return null==o?null:this.convertValue(o,n);case"estimate":return this.convertTimestamp(R(e));default:return null}}convertTimestamp(e){const n=Hs(e);return new Vr(n.seconds,n.nanos)}convertDocumentKey(e,n){const o=Gn.fromString(e);wn(Tp(o));const u=new q(o.get(1),o.get(3)),d=new Vt(o.popFirst(5));return u.isEqual(n)||Vn(`Document ${d} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),d}}function pd(i,e,n){let o;return o=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,o}class um extends vh{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ds(this.firestore,null,n)}}class ml{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yl extends fd{constructor(e,n,o,u,d,m){super(e,n,o,u,m),this._firestore=e,this._firestoreImpl=e,this.metadata=d}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new _h(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const o=this._document.data.field(Vl("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}}class _h extends yl{data(e={}){return super.data(e)}}class $l{constructor(e,n,o,u){this._firestore=e,this._userDataWriter=n,this._snapshot=u,this.metadata=new ml(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(o=>{e.call(n,new _h(this._firestore,this._userDataWriter,o.key,o,new ml(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new At(lt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(m=>({type:"added",doc:new _h(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ml(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:d++}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||3!==m.type).map(m=>{const C=new _h(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ml(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let U=-1,z=-1;return 0!==m.type&&(U=d.indexOf(m.doc.key),d=d.delete(m.doc.key)),1!==m.type&&(d=d.add(m.doc),z=d.indexOf(m.doc.key)),{type:Vy(m.type),doc:C,oldIndex:U,newIndex:z}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Vy(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return nn()}}function lm(i,e){return i instanceof yl&&e instanceof yl?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof $l&&e instanceof $l&&i._firestore===e._firestore&&sd(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function $y(i){i=Ar(i,ds);const e=Ar(i.firestore,Oi);return Gg($i(e),i._key).then(n=>Eh(e,i,n))}class Ti extends vh{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ds(this.firestore,null,n)}}function cm(i){i=Ar(i,ds);const e=Ar(i.firestore,Oi),n=$i(e),o=new Ti(e);return function Xv(i,e){const n=new Jr;return i.asyncQueue.enqueueAndForget((0,y.Z)(function*(){return(o=(0,y.Z)(function*(u,d,m){try{const C=yield function(U,z){const ne=Lt(U);return ne.persistence.runTransaction("read document","readonly",Te=>ne.localDocuments.getDocument(Te,z))}(u,d);C.isFoundDocument()?m.resolve(C):C.isNoDocument()?m.resolve(null):m.reject(new At(lt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(C){const U=hl(C,`Failed to get document '${d} from cache`);m.reject(U)}}),function(u,d,m){return o.apply(this,arguments)})(yield _c(i),e,n);var o})),n.promise}(n,i._key).then(u=>new yl(e,o,i._key,u,new ml(null!==u&&u.hasLocalMutations,!0),i.converter))}function jy(i){i=Ar(i,ds);const e=Ar(i.firestore,Oi);return Gg($i(e),i._key,{source:"server"}).then(n=>Eh(e,i,n))}function Hy(i){i=Ar(i,qo);const e=Ar(i.firestore,Oi),n=$i(e),o=new Ti(e);return mh(i._query),Kg(n,i._query).then(u=>new $l(e,o,i,u))}function dm(i){i=Ar(i,qo);const e=Ar(i.firestore,Oi),n=$i(e),o=new Ti(e);return function Ry(i,e){const n=new Jr;return i.asyncQueue.enqueueAndForget((0,y.Z)(function*(){return(o=(0,y.Z)(function*(u,d,m){try{const C=yield Wd(u,d,!0),U=new bf(d,C.Hi),z=U.Wu(C.documents),ne=U.applyChanges(z,!1);m.resolve(ne.snapshot)}catch(C){const U=hl(C,`Failed to execute query '${d} against cache`);m.reject(U)}}),function(u,d,m){return o.apply(this,arguments)})(yield _c(i),e,n);var o})),n.promise}(n,i._query).then(u=>new $l(e,o,i,u))}function zy(i){i=Ar(i,qo);const e=Ar(i.firestore,Oi),n=$i(e),o=new Ti(e);return Kg(n,i._query,{source:"server"}).then(u=>new $l(e,o,i,u))}function hm(i,e,n){i=Ar(i,ds);const o=Ar(i.firestore,Oi),u=pd(i.converter,e,n);return Tc(o,[cd(pl(o),"setDoc",i._key,u,null!==i.converter,n).toMutation(i._key,Rn.none())])}function fm(i,e,n,...o){i=Ar(i,ds);const u=Ar(i.firestore,Oi),d=pl(u);let m;return m="string"==typeof(e=(0,ue.m9)(e))||e instanceof Ru?Qf(d,"updateDoc",i._key,e,n,o):fh(d,"updateDoc",i._key,e),Tc(u,[m.toMutation(i._key,Rn.exists(!0))])}function Sc(i){return Tc(Ar(i.firestore,Oi),[new je(i._key,Rn.none())])}function Wy(i,e){const n=Ar(i.firestore,Oi),o=Vg(i),u=pd(i.converter,e);return Tc(n,[cd(pl(i.firestore),"addDoc",o._key,u,null!==i.converter,{}).toMutation(o._key,Rn.exists(!1))]).then(()=>o)}function Gy(i,...e){var n,o,u;i=(0,ue.m9)(i);let d={includeMetadataChanges:!1},m=0;"object"!=typeof e[m]||Zf(e[m])||(d=e[m],m++);const C={includeMetadataChanges:d.includeMetadataChanges};if(Zf(e[m])){const Te=e[m];e[m]=null===(n=Te.next)||void 0===n?void 0:n.bind(Te),e[m+1]=null===(o=Te.error)||void 0===o?void 0:o.bind(Te),e[m+2]=null===(u=Te.complete)||void 0===u?void 0:u.bind(Te)}let U,z,ne;if(i instanceof ds)z=Ar(i.firestore,Oi),ne=ou(i._key.path),U={next:Te=>{e[m]&&e[m](Eh(z,i,Te))},error:e[m+1],complete:e[m+2]};else{const Te=Ar(i,qo);z=Ar(Te.firestore,Oi),ne=Te._query;const rt=new Ti(z);U={next:vt=>{e[m]&&e[m](new $l(z,rt,Te,vt))},error:e[m+1],complete:e[m+2]},mh(i._query)}return function(Te,rt,vt,Tt){const an=new oh(Tt),fn=new If(rt,an,vt);return Te.asyncQueue.enqueueAndForget((0,y.Z)(function*(){return fc(yield Mu(Te),fn)})),()=>{an.bc(),Te.asyncQueue.enqueueAndForget((0,y.Z)(function*(){return Qc(yield Mu(Te),fn)}))}}($i(z),ne,C,U)}function pm(i,e){return function Zg(i,e){const n=new oh(e);return i.asyncQueue.enqueueAndForget((0,y.Z)(function*(){return o=yield Mu(i),u=n,Lt(o).bu.add(u),void u.next();var o,u})),()=>{n.bc(),i.asyncQueue.enqueueAndForget((0,y.Z)(function*(){return o=yield Mu(i),u=n,void Lt(o).bu.delete(u);var o,u}))}}($i(i=Ar(i,Oi)),Zf(e)?e:{next:e})}function Tc(i,e){return function(n,o){const u=new Jr;return n.asyncQueue.enqueueAndForget((0,y.Z)(function*(){return function qv(i,e,n){return Sg.apply(this,arguments)}(yield zf(n),o,u)})),u.promise}($i(i),e)}function Eh(i,e,n){const o=n.docs.get(e._key),u=new Ti(i);return new yl(i,u,e._key,o,new ml(n.hasPendingWrites,n.fromCache),e.converter)}const up={maxAttempts:5};class pu{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=pl(e)}set(e,n,o){this._verifyNotCommitted();const u=vl(e,this._firestore),d=pd(u.converter,n,o),m=cd(this._dataReader,"WriteBatch.set",u._key,d,null!==u.converter,o);return this._mutations.push(m.toMutation(u._key,Rn.none())),this}update(e,n,o,...u){this._verifyNotCommitted();const d=vl(e,this._firestore);let m;return m="string"==typeof(n=(0,ue.m9)(n))||n instanceof Ru?Qf(this._dataReader,"WriteBatch.update",d._key,n,o,u):fh(this._dataReader,"WriteBatch.update",d._key,n),this._mutations.push(m.toMutation(d._key,Rn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=vl(e,this._firestore);return this._mutations=this._mutations.concat(new je(n._key,Rn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new At(lt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function vl(i,e){if((i=(0,ue.m9)(i)).firestore!==e)throw new At(lt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class mm extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=pl(e)}get(e){const n=vl(e,this._firestore),o=new um(this._firestore);return this._transaction.lookup([n._key]).then(u=>{if(!u||1!==u.length)return nn();const d=u[0];if(d.isFoundDocument())return new fd(this._firestore,o,d.key,d,n.converter);if(d.isNoDocument())return new fd(this._firestore,o,n._key,null,n.converter);throw nn()})}set(e,n,o){const u=vl(e,this._firestore),d=pd(u.converter,n,o),m=cd(this._dataReader,"Transaction.set",u._key,d,null!==u.converter,o);return this._transaction.set(u._key,m),this}update(e,n,o,...u){const d=vl(e,this._firestore);let m;return m="string"==typeof(n=(0,ue.m9)(n))||n instanceof Ru?Qf(this._dataReader,"Transaction.update",d._key,n,o,u):fh(this._dataReader,"Transaction.update",d._key,n),this._transaction.update(d._key,m),this}delete(e){const n=vl(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=vl(e,this._firestore),o=new Ti(this._firestore);return super.get(e).then(u=>new yl(this._firestore,o,n._key,u._document,new ml(!1,!1),n.converter))}}function Pu(i,e,n){i=Ar(i,Oi);const o=Object.assign(Object.assign({},up),n);return function(u){if(u.maxAttempts<1)throw new At(lt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function(u,d,m){const C=new Jr;return u.asyncQueue.enqueueAndForget((0,y.Z)(function*(){const U=yield function Wg(i){return Ol(i).then(e=>e.datastore)}(u);new Qv(u.asyncQueue,U,m,d,C).run()})),C.promise}($i(i),u=>e(new mm(i,u)),o)}function gu(){return new Ic("deleteField")}function mu(){return new hh("serverTimestamp")}function ym(...i){return new Yg("arrayUnion",i)}function vm(...i){return new Qg("arrayRemove",i)}function Ky(i){return new Jg("increment",i)}!function(i,e=!0){ss=E.SDK_VERSION,(0,E._registerComponent)(new B.wA("firestore",(n,{instanceIdentifier:o,options:u})=>{const d=n.getProvider("app").getImmediate(),m=new Oi(new lo(n.getProvider("auth-internal")),new pa(n.getProvider("app-check-internal")),function(C,U){if(!Object.prototype.hasOwnProperty.apply(C.options,["projectId"]))throw new At(lt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new q(C.options.projectId,U)}(d,o),d);return u=Object.assign({useFetchStreams:e},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),(0,E.registerVersion)(ms,"3.7.1",i),(0,E.registerVersion)(ms,"3.7.1","esm2017")}()},2090:(Pt,Le,k)=>{k.d(Le,{$s:()=>re,BH:()=>Ft,G6:()=>Ye,L:()=>te,LL:()=>bn,P0:()=>Be,Pz:()=>Wt,Sg:()=>mt,UG:()=>Ze,US:()=>fe,ZB:()=>ae,ZR:()=>En,aH:()=>It,b$:()=>it,eu:()=>Oe,hl:()=>yt,jU:()=>Ct,m9:()=>Zt,ne:()=>rr,pd:()=>yi,q4:()=>at,r3:()=>Jn,ru:()=>$e,tV:()=>De,uI:()=>Ke,vZ:()=>Ut,w1:()=>ft,xO:()=>er,xb:()=>Pn,z$:()=>Je,zI:()=>He,zd:()=>_r});const se=function(_e){const ye=[];let xe=0;for(let ge=0;ge<_e.length;ge++){let K=_e.charCodeAt(ge);K<128?ye[xe++]=K:K<2048?(ye[xe++]=K>>6|192,ye[xe++]=63&K|128):55296==(64512&K)&&ge+1<_e.length&&56320==(64512&_e.charCodeAt(ge+1))?(K=65536+((1023&K)<<10)+(1023&_e.charCodeAt(++ge)),ye[xe++]=K>>18|240,ye[xe++]=K>>12&63|128,ye[xe++]=K>>6&63|128,ye[xe++]=63&K|128):(ye[xe++]=K>>12|224,ye[xe++]=K>>6&63|128,ye[xe++]=63&K|128)}return ye},fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(_e,ye){if(!Array.isArray(_e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const xe=ye?this.byteToCharMapWebSafe_:this.byteToCharMap_,ge=[];for(let K=0;K<_e.length;K+=3){const le=_e[K],ze=K+1<_e.length,_t=ze?_e[K+1]:0,zt=K+2<_e.length,Kt=zt?_e[K+2]:0;let ie=(15&_t)<<2|Kt>>6,Me=63&Kt;zt||(Me=64,ze||(ie=64)),ge.push(xe[le>>2],xe[(3&le)<<4|_t>>4],xe[ie],xe[Me])}return ge.join("")},encodeString(_e,ye){return this.HAS_NATIVE_SUPPORT&&!ye?btoa(_e):this.encodeByteArray(se(_e),ye)},decodeString(_e,ye){return this.HAS_NATIVE_SUPPORT&&!ye?atob(_e):function(_e){const ye=[];let xe=0,ge=0;for(;xe<_e.length;){const K=_e[xe++];if(K<128)ye[ge++]=String.fromCharCode(K);else if(K>191&&K<224){const le=_e[xe++];ye[ge++]=String.fromCharCode((31&K)<<6|63&le)}else if(K>239&&K<365){const zt=((7&K)<<18|(63&_e[xe++])<<12|(63&_e[xe++])<<6|63&_e[xe++])-65536;ye[ge++]=String.fromCharCode(55296+(zt>>10)),ye[ge++]=String.fromCharCode(56320+(1023&zt))}else{const le=_e[xe++],ze=_e[xe++];ye[ge++]=String.fromCharCode((15&K)<<12|(63&le)<<6|63&ze)}}return ye.join("")}(this.decodeStringToByteArray(_e,ye))},decodeStringToByteArray(_e,ye){this.init_();const xe=ye?this.charToByteMapWebSafe_:this.charToByteMap_,ge=[];for(let K=0;K<_e.length;){const le=xe[_e.charAt(K++)],_t=K<_e.length?xe[_e.charAt(K)]:0;++K;const Kt=K<_e.length?xe[_e.charAt(K)]:64;++K;const oe=K<_e.length?xe[_e.charAt(K)]:64;if(++K,null==le||null==_t||null==Kt||null==oe)throw Error();ge.push(le<<2|_t>>4),64!==Kt&&(ge.push(_t<<4&240|Kt>>2),64!==oe&&ge.push(Kt<<6&192|oe))}return ge},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let _e=0;_e<this.ENCODED_VALS.length;_e++)this.byteToCharMap_[_e]=this.ENCODED_VALS.charAt(_e),this.charToByteMap_[this.byteToCharMap_[_e]]=_e,this.byteToCharMapWebSafe_[_e]=this.ENCODED_VALS_WEBSAFE.charAt(_e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[_e]]=_e,_e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(_e)]=_e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(_e)]=_e)}}},te=function(_e){return function(_e){const ye=se(_e);return fe.encodeByteArray(ye,!0)}(_e).replace(/\./g,"")},De=function(_e){try{return fe.decodeString(_e,!0)}catch(ye){console.error("base64Decode failed: ",ye)}return null};function ae(_e,ye){if(!(ye instanceof Object))return ye;switch(ye.constructor){case Date:return new Date(ye.getTime());case Object:void 0===_e&&(_e={});break;case Array:_e=[];break;default:return ye}for(const xe in ye)!ye.hasOwnProperty(xe)||!be(xe)||(_e[xe]=ae(_e[xe],ye[xe]));return _e}function be(_e){return"__proto__"!==_e}function Je(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ke(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Je())}function Ze(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ct(){return"object"==typeof self&&self.self===self}function $e(){const _e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof _e&&void 0!==_e.id}function it(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ft(){const _e=Je();return _e.indexOf("MSIE ")>=0||_e.indexOf("Trident/")>=0}function Ye(){return!Ze()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yt(){return"object"==typeof indexedDB}function Oe(){return new Promise((_e,ye)=>{try{let xe=!0;const ge="validate-browser-context-for-indexeddb-analytics-module",K=self.indexedDB.open(ge);K.onsuccess=()=>{K.result.close(),xe||self.indexedDB.deleteDatabase(ge),_e(!0)},K.onupgradeneeded=()=>{xe=!1},K.onerror=()=>{var le;ye((null===(le=K.error)||void 0===le?void 0:le.message)||"")}}catch(xe){ye(xe)}})}function He(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const ce=()=>{try{return function nt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const _e=process.env.__FIREBASE_DEFAULTS__;return _e?JSON.parse(_e):void 0})()||(()=>{if(typeof document>"u")return;let _e;try{_e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ye=_e&&De(_e[1]);return ye&&JSON.parse(ye)})()}catch(_e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${_e}`)}},at=_e=>{var ye,xe;return null===(xe=null===(ye=ce())||void 0===ye?void 0:ye.emulatorHosts)||void 0===xe?void 0:xe[_e]},Be=_e=>{const ye=at(_e);if(!ye)return;const xe=ye.lastIndexOf(":");if(xe<=0||xe+1===ye.length)throw new Error(`Invalid host ${ye} with no separate hostname and port!`);const ge=parseInt(ye.substring(xe+1),10);return"["===ye[0]?[ye.substring(1,xe-1),ge]:[ye.substring(0,xe),ge]},It=()=>{var _e;return null===(_e=ce())||void 0===_e?void 0:_e.config},Wt=_e=>{var ye;return null===(ye=ce())||void 0===ye?void 0:ye[`_${_e}`]};class Ft{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ye,xe)=>{this.resolve=ye,this.reject=xe})}wrapCallback(ye){return(xe,ge)=>{xe?this.reject(xe):this.resolve(ge),"function"==typeof ye&&(this.promise.catch(()=>{}),1===ye.length?ye(xe):ye(xe,ge))}}}function mt(_e,ye){if(_e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ge=ye||"demo-project",K=_e.iat||0,le=_e.sub||_e.user_id;if(!le)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ze=Object.assign({iss:`https://securetoken.google.com/${ge}`,aud:ge,iat:K,exp:K+3600,auth_time:K,sub:le,user_id:le,firebase:{sign_in_provider:"custom",identities:{}}},_e);return[te(JSON.stringify({alg:"none",type:"JWT"})),te(JSON.stringify(ze)),""].join(".")}class En extends Error{constructor(ye,xe,ge){super(xe),this.code=ye,this.customData=ge,this.name="FirebaseError",Object.setPrototypeOf(this,En.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bn.prototype.create)}}class bn{constructor(ye,xe,ge){this.service=ye,this.serviceName=xe,this.errors=ge}create(ye,...xe){const ge=xe[0]||{},K=`${this.service}/${ye}`,le=this.errors[ye],ze=le?function Nt(_e,ye){return _e.replace(dn,(xe,ge)=>{const K=ye[ge];return null!=K?String(K):`<${ge}?>`})}(le,ge):"Error";return new En(K,`${this.serviceName}: ${ze} (${K}).`,ge)}}const dn=/\{\$([^}]+)}/g;function Jn(_e,ye){return Object.prototype.hasOwnProperty.call(_e,ye)}function Pn(_e){for(const ye in _e)if(Object.prototype.hasOwnProperty.call(_e,ye))return!1;return!0}function Ut(_e,ye){if(_e===ye)return!0;const xe=Object.keys(_e),ge=Object.keys(ye);for(const K of xe){if(!ge.includes(K))return!1;const le=_e[K],ze=ye[K];if(ur(le)&&ur(ze)){if(!Ut(le,ze))return!1}else if(le!==ze)return!1}for(const K of ge)if(!xe.includes(K))return!1;return!0}function ur(_e){return null!==_e&&"object"==typeof _e}function er(_e){const ye=[];for(const[xe,ge]of Object.entries(_e))Array.isArray(ge)?ge.forEach(K=>{ye.push(encodeURIComponent(xe)+"="+encodeURIComponent(K))}):ye.push(encodeURIComponent(xe)+"="+encodeURIComponent(ge));return ye.length?"&"+ye.join("&"):""}function _r(_e){const ye={};return _e.replace(/^\?/,"").split("&").forEach(ge=>{if(ge){const[K,le]=ge.split("=");ye[decodeURIComponent(K)]=decodeURIComponent(le)}}),ye}function yi(_e){const ye=_e.indexOf("?");if(!ye)return"";const xe=_e.indexOf("#",ye);return _e.substring(ye,xe>0?xe:void 0)}function rr(_e,ye){const xe=new Un(_e,ye);return xe.subscribe.bind(xe)}class Un{constructor(ye,xe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=xe,this.task.then(()=>{ye(this)}).catch(ge=>{this.error(ge)})}next(ye){this.forEachObserver(xe=>{xe.next(ye)})}error(ye){this.forEachObserver(xe=>{xe.error(ye)}),this.close(ye)}complete(){this.forEachObserver(ye=>{ye.complete()}),this.close()}subscribe(ye,xe,ge){let K;if(void 0===ye&&void 0===xe&&void 0===ge)throw new Error("Missing Observer.");K=function Yt(_e,ye){if("object"!=typeof _e||null===_e)return!1;for(const xe of ye)if(xe in _e&&"function"==typeof _e[xe])return!0;return!1}(ye,["next","error","complete"])?ye:{next:ye,error:xe,complete:ge},void 0===K.next&&(K.next=ln),void 0===K.error&&(K.error=ln),void 0===K.complete&&(K.complete=ln);const le=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?K.error(this.finalError):K.complete()}catch{}}),this.observers.push(K),le}unsubscribeOne(ye){void 0===this.observers||void 0===this.observers[ye]||(delete this.observers[ye],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ye){if(!this.finalized)for(let xe=0;xe<this.observers.length;xe++)this.sendOne(xe,ye)}sendOne(ye,xe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ye])try{xe(this.observers[ye])}catch(ge){typeof console<"u"&&console.error&&console.error(ge)}})}close(ye){this.finalized||(this.finalized=!0,void 0!==ye&&(this.finalError=ye),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ln(){}function re(_e,ye=1e3,xe=2){const ge=ye*Math.pow(xe,_e),K=Math.round(.5*ge*(Math.random()-.5)*2);return Math.min(144e5,ge+K)}function Zt(_e){return _e&&_e._delegate?_e._delegate:_e}},6202:(Pt,Le,k)=>{k.d(Le,{S:()=>we});var y=k(3900),E=k(3151),B=k(4004),se=k(4650),ue=k(3385),fe=k(3164);let we=(()=>{class te{constructor(X,ae){this.afAuth=X,this.userFirebaseService=ae,this.currentUser$=this.afAuth.user.pipe((0,y.w)(be=>this.userFirebaseService.getUserDocById(be?.uid)),(0,E.d)(1)),this.isUserLoggedIn$=this.afAuth.authState.pipe((0,B.U)(be=>null!==be))}}return te.\u0275fac=function(X){return new(X||te)(se.LFG(ue.zQ),se.LFG(fe.e))},te.\u0275prov=se.Yz7({token:te,factory:te.\u0275fac,providedIn:"root"}),te})()},3164:(Pt,Le,k)=>{k.d(Le,{e:()=>B});var y=k(4650),E=k(6185);let B=(()=>{class se{constructor(fe){this.angularFirestore=fe}updateUserById(fe,we){return this.angularFirestore.doc(`user/${fe}`).update(we)}getUserDocById(fe){return this.angularFirestore.doc(`user/${fe}`).valueChanges()}getUserWhere(fe,we,te){return this.angularFirestore.collection("user",De=>De.where(fe,we,te)).valueChanges()}addUserWithCustomId(fe,we){return this.angularFirestore.collection("user").doc(`${fe}`).set({uid:fe,email:we.email,password:we.password,username:we.username,assignedTasks:[]})}}return se.\u0275fac=function(fe){return new(fe||se)(y.LFG(E.ST))},se.\u0275prov=y.Yz7({token:se,factory:se.\u0275fac,providedIn:"root"}),se})()},5738:(Pt,Le,k)=>{var y=k(1481),E=k(4650),B=k(7799),se=k(6895),ue=k(7579),fe=k(6451),we=k(9646),te=k(8996),De=k(8505),X=k(9300),ae=k(3900),be=k(590),Je=k(5698),Ke=k(5684),Ze=k(4004),Ct=k(7359),$e=k(4482);const Ae=(A,g)=>(A.push(g),A);var Ue=k(4986),Ce=k(7272),Ye=k(5403),yt=k(5032),He=k(9718),nt=k(6099);function Ie(A,g){return g?c=>(0,Ce.z)(g.pipe((0,Je.q)(1),function Oe(){return(0,$e.e)((A,g)=>{A.subscribe((0,Ye.x)(g,yt.Z))})}()),c.pipe(Ie(A))):(0,nt.z)((c,_)=>A(c,_).pipe((0,Je.q)(1),(0,He.h)(c)))}var Re=k(5963),ce=k(7340);function at(A,g){}const Be=function(A,g){return{$implicit:A,index:g}};function It(A,g){if(1&A&&E.YNc(0,at,0,0,"ng-template",4),2&A){const c=E.oxw(),_=c.$implicit,P=c.index,V=E.oxw();E.Q6J("ngTemplateOutlet",_.tplRef)("ngTemplateOutletContext",E.WLB(2,Be,V.preparePublicSlide(_),P))}}const Wt=function(A,g,c,_){return{width:A,"margin-left":g,"margin-right":c,left:_}};function Ft(A,g){if(1&A){const c=E.EpF();E.ynx(0),E.TgZ(1,"div",2),E.NdJ("animationend",function(){const V=E.CHM(c).$implicit,Y=E.oxw();return E.KtG(Y.clear(V.id))}),E.YNc(2,It,1,5,null,3),E.qZA(),E.BQk()}if(2&A){const c=g.$implicit;E.xp6(1),E.Q6J("ngClass",c.classes)("ngStyle",E.l5B(4,Wt,c.width+"px",c.marginL?c.marginL+"px":"",c.marginR?c.marginR+"px":"",c.left))("@autoHeight",c.heightState),E.xp6(1),E.Q6J("ngIf",c.load)}}const mt=function(A,g,c,_,P){return{width:A,transform:g,transition:c,"padding-left":_,"padding-right":P}},un=function(A,g){return{isMouseDragable:A,isTouchDragable:g}};function En(A,g){if(1&A&&(E.TgZ(0,"div",4),E._UZ(1,"owl-stage",5),E.qZA()),2&A){const c=E.oxw();E.xp6(1),E.Q6J("owlDraggable",E.WLB(3,un,null==c.owlDOMData?null:c.owlDOMData.isMouseDragable,null==c.owlDOMData?null:c.owlDOMData.isTouchDragable))("stageData",c.stageData)("slidesData",c.slidesData)}}const bn=function(A,g){return{active:A,"owl-dot-text":g}};function Nt(A,g){if(1&A){const c=E.EpF();E.TgZ(0,"div",11),E.NdJ("click",function(){const V=E.CHM(c).$implicit,Y=E.oxw(2);return E.KtG(Y.moveByDot(V.id))}),E._UZ(1,"span",12),E.qZA()}if(2&A){const c=g.$implicit;E.Q6J("ngClass",E.WLB(2,bn,c.active,c.showInnerContent)),E.xp6(1),E.Q6J("innerHTML",c.innerContent,E.oJD)}}const dn=function(A){return{disabled:A}};function en(A,g){if(1&A){const c=E.EpF();E.ynx(0),E.TgZ(1,"div",6)(2,"div",7),E.NdJ("click",function(){E.CHM(c);const P=E.oxw();return E.KtG(P.prev())}),E.qZA(),E.TgZ(3,"div",8),E.NdJ("click",function(){E.CHM(c);const P=E.oxw();return E.KtG(P.next())}),E.qZA()(),E.TgZ(4,"div",9),E.YNc(5,Nt,2,5,"div",10),E.qZA(),E.BQk()}if(2&A){const c=E.oxw();E.xp6(1),E.Q6J("ngClass",E.VKq(7,dn,null==c.navData?null:c.navData.disabled)),E.xp6(1),E.Q6J("ngClass",E.VKq(9,dn,null==c.navData||null==c.navData.prev?null:c.navData.prev.disabled))("innerHTML",null==c.navData||null==c.navData.prev?null:c.navData.prev.htmlText,E.oJD),E.xp6(1),E.Q6J("ngClass",E.VKq(11,dn,null==c.navData||null==c.navData.next?null:c.navData.next.disabled))("innerHTML",null==c.navData||null==c.navData.next?null:c.navData.next.htmlText,E.oJD),E.xp6(1),E.Q6J("ngClass",E.VKq(13,dn,null==c.dotsData?null:c.dotsData.disabled)),E.xp6(1),E.Q6J("ngForOf",null==c.dotsData?null:c.dotsData.dots)}}const yr=function(A,g,c,_,P){return{"owl-rtl":A,"owl-loaded":g,"owl-responsive":c,"owl-drag":_,"owl-grab":P}};class Mr{constructor(){this.items=3,this.skip_validateItems=!1,this.loop=!1,this.center=!1,this.rewind=!1,this.mouseDrag=!0,this.touchDrag=!0,this.pullDrag=!0,this.freeDrag=!1,this.margin=0,this.stagePadding=0,this.merge=!1,this.mergeFit=!0,this.autoWidth=!1,this.startPosition=0,this.rtl=!1,this.smartSpeed=250,this.fluidSpeed=!1,this.dragEndSpeed=!1,this.responsive={},this.responsiveRefreshRate=200,this.nav=!1,this.navText=["prev","next"],this.navSpeed=!1,this.slideBy=1,this.dots=!0,this.dotsEach=!1,this.dotsData=!1,this.dotsSpeed=!1,this.autoplay=!1,this.autoplayTimeout=5e3,this.autoplayHoverPause=!1,this.autoplaySpeed=!1,this.autoplayMouseleaveTimeout=1,this.lazyLoad=!1,this.lazyLoadEager=0,this.slideTransition="",this.animateOut=!1,this.animateIn=!1,this.autoHeight=!1,this.URLhashListener=!1}}class Qn{constructor(){this.items="number",this.skip_validateItems="boolean",this.loop="boolean",this.center="boolean",this.rewind="boolean",this.mouseDrag="boolean",this.touchDrag="boolean",this.pullDrag="boolean",this.freeDrag="boolean",this.margin="number",this.stagePadding="number",this.merge="boolean",this.mergeFit="boolean",this.autoWidth="boolean",this.startPosition="number|string",this.rtl="boolean",this.smartSpeed="number",this.fluidSpeed="boolean",this.dragEndSpeed="number|boolean",this.responsive={},this.responsiveRefreshRate="number",this.nav="boolean",this.navText="string[]",this.navSpeed="number|boolean",this.slideBy="number|string",this.dots="boolean",this.dotsEach="number|boolean",this.dotsData="boolean",this.dotsSpeed="number|boolean",this.autoplay="boolean",this.autoplayTimeout="number",this.autoplayHoverPause="boolean",this.autoplaySpeed="number|boolean",this.autoplayMouseleaveTimeout="number",this.lazyLoad="boolean",this.lazyLoadEager="number",this.slideTransition="string",this.animateOut="string|boolean",this.animateIn="string|boolean",this.autoHeight="boolean",this.URLhashListener="boolean"}}let mn=(()=>{class A{constructor(c){this.errorHandler=c}log(c,..._){(0,E.X6Q)()&&console.log(c,..._)}error(c){this.errorHandler.handleError(c)}warn(c,..._){console.warn(c,..._)}}return A.\u0275fac=function(c){return new(c||A)(E.LFG(E.qLn))},A.\u0275prov=E.Yz7({token:A,factory:A.\u0275fac}),A})();var fr=(()=>{return(A=fr||(fr={})).Event="event",A.State="state",fr;var A})(),Jn=(()=>{return(A=Jn||(Jn={})).Default="default",A.Inner="inner",A.Outer="outer",Jn;var A})();let vn=(()=>{class A{constructor(c){this.logger=c,this._viewSettingsShipper$=new ue.x,this._initializedCarousel$=new ue.x,this._changeSettingsCarousel$=new ue.x,this._changedSettingsCarousel$=new ue.x,this._translateCarousel$=new ue.x,this._translatedCarousel$=new ue.x,this._resizeCarousel$=new ue.x,this._resizedCarousel$=new ue.x,this._refreshCarousel$=new ue.x,this._refreshedCarousel$=new ue.x,this._dragCarousel$=new ue.x,this._draggedCarousel$=new ue.x,this.settings={items:0},this.owlDOMData={rtl:!1,isResponsive:!1,isRefreshed:!1,isLoaded:!1,isLoading:!1,isMouseDragable:!1,isGrab:!1,isTouchDragable:!1},this.stageData={transform:"translate3d(0px,0px,0px)",transition:"0s",width:0,paddingL:0,paddingR:0},this._items=[],this._widths=[],this._supress={},this._plugins={},this._current=null,this._clones=[],this._mergers=[],this._speed=null,this._coordinates=[],this._breakpoint=null,this.clonedIdPrefix="cloned-",this._options={},this._invalidated={},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},this._pipe=[{filter:["width","items","settings"],run:_=>{_.current=this._items&&this._items[this.relative(this._current)].id}},{filter:["width","items","settings"],run:_=>{const P=this.settings.margin||"",Y=this.settings.rtl,J={"margin-left":Y?P:"","margin-right":Y?"":P};!this.settings.autoWidth||this.slidesData.forEach(Se=>{Se.marginL=J["margin-left"],Se.marginR=J["margin-right"]}),_.css=J}},{filter:["width","items","settings"],run:_=>{const P=+(this.width()/this.settings.items).toFixed(3)-this.settings.margin,V=!this.settings.autoWidth,Y=[];let J=null,Se=this._items.length;for(_.items={merge:!1,width:P};Se-- >0;)J=this._mergers[Se],J=this.settings.mergeFit&&Math.min(J,this.settings.items)||J,_.items.merge=J>1||_.items.merge,Y[Se]=V?P*J:this._items[Se].width?this._items[Se].width:P;this._widths=Y,this.slidesData.forEach((tt,xt)=>{tt.width=this._widths[xt],tt.marginR=_.css["margin-right"],tt.marginL=_.css["margin-left"]})}},{filter:["items","settings"],run:()=>{const _=[],P=this._items,V=this.settings,Y=Math.max(2*V.items,4),J=2*Math.ceil(P.length/2);let Se=[],tt=[],xt=V.loop&&P.length?V.rewind?Y:Math.max(Y,J):0;for(xt/=2;xt-- >0;)_.push(this.normalize(_.length/2,!0)),Se.push({...this.slidesData[_[_.length-1]]}),_.push(this.normalize(P.length-1-(_.length-1)/2,!0)),tt.unshift({...this.slidesData[_[_.length-1]]});this._clones=_,Se=Se.map(kt=>(kt.id=`${this.clonedIdPrefix}${kt.id}`,kt.isActive=!1,kt.isCloned=!0,kt)),tt=tt.map(kt=>(kt.id=`${this.clonedIdPrefix}${kt.id}`,kt.isActive=!1,kt.isCloned=!0,kt)),this.slidesData=tt.concat(this.slidesData).concat(Se)}},{filter:["width","items","settings"],run:()=>{const _=this.settings.rtl?1:-1,P=this._clones.length+this._items.length,V=[];let Y=-1,J=0,Se=0;for(;++Y<P;)J=V[Y-1]||0,Se=this._widths[this.relative(Y)]+this.settings.margin,V.push(J+Se*_);this._coordinates=V}},{filter:["width","items","settings"],run:()=>{const _=this.settings.stagePadding,P=this._coordinates,V={width:Math.ceil(Math.abs(P[P.length-1]))+2*_,"padding-left":_||"","padding-right":_||""};this.stageData.width=V.width,this.stageData.paddingL=V["padding-left"],this.stageData.paddingR=V["padding-right"]}},{filter:["width","items","settings"],run:_=>{let P=_.current?this.slidesData.findIndex(V=>V.id===_.current):0;P=Math.max(this.minimum(),Math.min(this.maximum(),P)),this.reset(P)}},{filter:["position"],run:()=>{this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:()=>{const _=this.settings.rtl?1:-1,P=2*this.settings.stagePadding,V=[];let Y,J,Se,tt,xt,kt;if(Y=this.coordinates(this.current()),"number"==typeof Y?Y+=P:Y=0,J=Y+this.width()*_,-1===_&&this.settings.center){const yn=this._coordinates.filter(Tn=>this.settings.items%2==1?Tn>=Y:Tn>Y);Y=yn.length?yn[yn.length-1]:Y}for(xt=0,kt=this._coordinates.length;xt<kt;xt++)Se=Math.ceil(this._coordinates[xt-1]||0),tt=Math.ceil(Math.abs(this._coordinates[xt])+P*_),(this._op(Se,"<=",Y)&&this._op(Se,">",J)||this._op(tt,"<",Y)&&this._op(tt,">",J))&&V.push(xt);this.slidesData.forEach(yn=>(yn.isActive=!1,yn)),V.forEach(yn=>{this.slidesData[yn].isActive=!0}),this.settings.center&&(this.slidesData.forEach(yn=>(yn.isCentered=!1,yn)),this.slidesData[this.current()].isCentered=!0)}}]}get invalidated(){return this._invalidated}get states(){return this._states}getViewCurSettings(){return this._viewSettingsShipper$.asObservable()}getInitializedState(){return this._initializedCarousel$.asObservable()}getChangeState(){return this._changeSettingsCarousel$.asObservable()}getChangedState(){return this._changedSettingsCarousel$.asObservable()}getTranslateState(){return this._translateCarousel$.asObservable()}getTranslatedState(){return this._translatedCarousel$.asObservable()}getResizeState(){return this._resizeCarousel$.asObservable()}getResizedState(){return this._resizedCarousel$.asObservable()}getRefreshState(){return this._refreshCarousel$.asObservable()}getRefreshedState(){return this._refreshedCarousel$.asObservable()}getDragState(){return this._dragCarousel$.asObservable()}getDraggedState(){return this._draggedCarousel$.asObservable()}setOptions(c){const _=new Mr,P=this._validateOptions(c,_);this._options={..._,...P}}_validateOptions(c,_){const P={...c},V=new Qn,Y=(J,Se)=>(this.logger.log(`options.${Se} must be type of ${J}; ${Se}=${c[Se]} skipped to defaults: ${Se}=${_[Se]}`),_[Se]);for(const J in P)if(P.hasOwnProperty(J))if("number"===V[J])this._isNumeric(P[J])?(P[J]=+P[J],P[J]="items"===J?this._validateItems(P[J],P.skip_validateItems):P[J]):P[J]=Y(V[J],J);else if("boolean"===V[J]&&"boolean"!=typeof P[J])P[J]=Y(V[J],J);else if("number|boolean"!==V[J]||this._isNumberOrBoolean(P[J]))if("number|string"!==V[J]||this._isNumberOrString(P[J]))if("string|boolean"!==V[J]||this._isStringOrBoolean(P[J])){if("string[]"===V[J])if(Array.isArray(P[J])){let Se=!1;P[J].forEach(tt=>{Se="string"==typeof tt}),Se||(P[J]=Y(V[J],J))}else P[J]=Y(V[J],J)}else P[J]=Y(V[J],J);else P[J]=Y(V[J],J);else P[J]=Y(V[J],J);return P}_validateItems(c,_){let P=c;return c>this._items.length?_?this.logger.log("The option 'items' in your options is bigger than the number of slides. The navigation got disabled"):(P=this._items.length,this.logger.log("The option 'items' in your options is bigger than the number of slides. This option is updated to the current number of slides and the navigation got disabled")):c===this._items.length&&(this.settings.dots||this.settings.nav)&&this.logger.log("Option 'items' in your options is equal to the number of slides. So the navigation got disabled"),P}setCarouselWidth(c){this._width=c}setup(c,_,P){this.setCarouselWidth(c),this.setItems(_),this._defineSlidesData(),this.setOptions(P),this.settings={...this._options},this.setOptionsForViewport(),this._trigger("change",{property:{name:"settings",value:this.settings}}),this.invalidate("settings"),this._trigger("changed",{property:{name:"settings",value:this.settings}})}setOptionsForViewport(){const c=this._width,_=this._options.responsive;let P=-1;if(!Object.keys(_).length)return;if(!c)return void(this.settings.items=1);for(const Y in _)_.hasOwnProperty(Y)&&+Y<=c&&+Y>P&&(P=Number(Y));this.settings={...this._options,..._[P],items:_[P]&&_[P].items?this._validateItems(_[P].items,this._options.skip_validateItems):this._options.items},delete this.settings.responsive,this.owlDOMData.isResponsive=!0,this.owlDOMData.isMouseDragable=this.settings.mouseDrag,this.owlDOMData.isTouchDragable=this.settings.touchDrag;const V=[];this._items.forEach(Y=>{V.push(this.settings.merge?Y.dataMerge:1)}),this._mergers=V,this._breakpoint=P,this.invalidate("settings")}initialize(c){this.enter("initializing"),this.owlDOMData.rtl=this.settings.rtl,this._mergers.length&&(this._mergers=[]),c.forEach(_=>{this._mergers.push(this.settings.merge?_.dataMerge:1)}),this._clones=[],this.reset(this._isNumeric(this.settings.startPosition)?+this.settings.startPosition:0),this.invalidate("items"),this.refresh(),this.owlDOMData.isLoaded=!0,this.owlDOMData.isMouseDragable=this.settings.mouseDrag,this.owlDOMData.isTouchDragable=this.settings.touchDrag,this.sendChanges(),this.leave("initializing"),this._trigger("initialized")}sendChanges(){this._viewSettingsShipper$.next({owlDOMData:this.owlDOMData,stageData:this.stageData,slidesData:this.slidesData,navData:this.navData,dotsData:this.dotsData})}_optionsLogic(){this.settings.autoWidth&&(this.settings.stagePadding=0,this.settings.merge=!1)}update(){let c=0;const _=this._pipe.length,P=Y=>this._invalidated[Y],V={};for(;c<_;){const Y=this._pipe[c].filter.filter(P);(this._invalidated.all||Y.length>0)&&this._pipe[c].run(V),c++}this.slidesData.forEach(Y=>Y.classes=this.setCurSlideClasses(Y)),this.sendChanges(),this._invalidated={},this.is("valid")||this.enter("valid")}width(c){switch(c=c||Jn.Default){case Jn.Inner:case Jn.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}}refresh(){this.enter("refreshing"),this._trigger("refresh"),this._defineSlidesData(),this.setOptionsForViewport(),this._optionsLogic(),this.update(),this.leave("refreshing"),this._trigger("refreshed")}onResize(c){if(!this._items.length)return!1;this.setCarouselWidth(c),this.enter("resizing"),this._trigger("resize"),this.invalidate("width"),this.refresh(),this.leave("resizing"),this._trigger("resized")}prepareDragging(c){let P,_=null;return P=this.stageData.transform.replace(/.*\(|\)| |[^,-\d]\w|\)/g,"").split(","),_={x:+P[0],y:+P[1]},this.is("animating")&&this.invalidate("position"),"mousedown"===c.type&&(this.owlDOMData.isGrab=!0),this.speed(0),_}enterDragging(){this.enter("dragging"),this._trigger("drag")}defineNewCoordsDrag(c,_){let P=null,V=null,Y=null;const J=this.difference(_.pointer,this.pointer(c)),Se=this.difference(_.stage.start,J);return!!this.is("dragging")&&(this.settings.loop?(P=this.coordinates(this.minimum()),V=+this.coordinates(this.maximum()+1)-P,Se.x=((Se.x-P)%V+V)%V+P):(P=this.coordinates(this.settings.rtl?this.maximum():this.minimum()),V=this.coordinates(this.settings.rtl?this.minimum():this.maximum()),Y=this.settings.pullDrag?-1*J.x/5:0,Se.x=Math.max(Math.min(Se.x,P+Y),V+Y)),Se)}finishDragging(c,_,P){const Y=this.difference(_.pointer,this.pointer(c)),J=_.stage.current,Se=["right","left"][+(this.settings.rtl?Y.x<+this.settings.rtl:Y.x>+this.settings.rtl)];let tt,xt,kt;(0!==Y.x&&this.is("dragging")||!this.is("valid"))&&(this.speed(+this.settings.dragEndSpeed||this.settings.smartSpeed),tt=this.closest(J.x,0!==Y.x?Se:_.direction),xt=this.current(),kt=this.current(-1===tt?void 0:tt),xt!==kt&&(this.invalidate("position"),this.update()),_.direction=Se,(Math.abs(Y.x)>3||(new Date).getTime()-_.time>300)&&P()),this.is("dragging")&&(this.leave("dragging"),this._trigger("dragged"))}closest(c,_){const V=this.width();let Y=this.coordinates(),J=-1;this.settings.center&&(Y=Y.map(Se=>(0===Se&&(Se+=1e-6),Se)));for(let Se=0;Se<Y.length&&("left"===_&&c>Y[Se]-30&&c<Y[Se]+30?J=Se:"right"===_&&c>Y[Se]-V-30&&c<Y[Se]-V+30?J=Se+1:this._op(c,"<",Y[Se])&&this._op(c,">",Y[Se+1]||Y[Se]-V)?J="left"===_?Se+1:Se:null===_&&c>Y[Se]-30&&c<Y[Se]+30&&(J=Se),-1===J);Se++);return this.settings.loop||(this._op(c,">",Y[this.minimum()])?J=c=this.minimum():this._op(c,"<",Y[this.maximum()])&&(J=c=this.maximum())),J}animate(c){const _=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),_&&(this.enter("animating"),this._trigger("translate")),this.stageData.transform="translate3d("+c+"px,0px,0px)",this.stageData.transition=this.speed()/1e3+"s"+(this.settings.slideTransition?" "+this.settings.slideTransition:"")}is(c){return this._states.current[c]&&this._states.current[c]>0}current(c){return void 0===c?this._current:0!==this._items.length?(c=this.normalize(c),this._current!==c&&(this._trigger("change",{property:{name:"position",value:c}}),this._current=c,this.invalidate("position"),this._trigger("changed",{property:{name:"position",value:this._current}})),this._current):void 0}invalidate(c){return"string"==typeof c&&(this._invalidated[c]=!0,this.is("valid")&&this.leave("valid")),Object.keys(this._invalidated)}reset(c){void 0!==(c=this.normalize(c))&&(this._speed=0,this._current=c,this._suppress(["translate","translated"]),this.animate(this.coordinates(c)),this._release(["translate","translated"]))}normalize(c,_){const P=this._items.length,V=_?0:this._clones.length;return!this._isNumeric(c)||P<1?c=void 0:(c<0||c>=P+V)&&(c=((c-V/2)%P+P)%P+V/2),c}relative(c){return this.normalize(c-=this._clones.length/2,!0)}maximum(c=!1){const _=this.settings;let V,Y,J,P=this._coordinates.length;if(_.loop)P=this._clones.length/2+this._items.length-1;else if(_.autoWidth||_.merge){for(V=this._items.length,Y=this.slidesData[--V].width,J=this._width;V-- >0&&(Y+=+this.slidesData[V].width+this.settings.margin,!(Y>J)););P=V+1}else P=_.center?this._items.length-1:this._items.length-_.items;return c&&(P-=this._clones.length/2),Math.max(P,0)}minimum(c=!1){return c?0:this._clones.length/2}items(c){return void 0===c?this._items.slice():(c=this.normalize(c,!0),[this._items[c]])}mergers(c){return void 0===c?this._mergers.slice():(c=this.normalize(c,!0),this._mergers[c])}clones(c){const _=this._clones.length/2,P=_+this._items.length,V=Y=>Y%2==0?P+Y/2:_-(Y+1)/2;return void 0===c?this._clones.map((Y,J)=>V(J)):this._clones.map((Y,J)=>Y===c?V(J):null).filter(Y=>Y)}speed(c){return void 0!==c&&(this._speed=c),this._speed}coordinates(c){let V,Y,_=1,P=c-1;return void 0===c?(Y=this._coordinates.map((J,Se)=>this.coordinates(Se)),Y):(this.settings.center?(this.settings.rtl&&(_=-1,P=c+1),V=this._coordinates[c],V+=(this.width()-V+(this._coordinates[P]||0))/2*_):V=this._coordinates[P]||0,V=Math.ceil(V),V)}_duration(c,_,P){return 0===P?0:Math.min(Math.max(Math.abs(_-c),1),6)*Math.abs(+P||this.settings.smartSpeed)}to(c,_){let P=this.current(),V=null,Y=c-this.relative(P),J=this.maximum(),Se=0;const tt=+(Y>0)-+(Y<0),xt=this._items.length,kt=this.minimum();this.settings.loop?(!this.settings.rewind&&Math.abs(Y)>xt/2&&(Y+=-1*tt*xt),V=(((c=P+Y)-kt)%xt+xt)%xt+kt,V!==c&&V-Y<=J&&V-Y>0&&(P=V-Y,c=V,Se=30,this.reset(P),this.sendChanges())):this.settings.rewind?(J+=1,c=(c%J+J)%J):c=Math.max(kt,Math.min(J,c)),setTimeout(()=>{this.speed(this._duration(P,c,_)),this.current(c),this.update()},Se)}next(c){c=c||!1,this.to(this.relative(this.current())+1,c)}prev(c){c=c||!1,this.to(this.relative(this.current())-1,c)}onTransitionEnd(c){if(void 0!==c)return!1;this.leave("animating"),this._trigger("translated")}_viewport(){let c;return this._width?c=this._width:this.logger.log("Can not detect viewport width."),c}setItems(c){this._items=c}_defineSlidesData(){let c;this.slidesData&&this.slidesData.length&&(c=new Map,this.slidesData.forEach(_=>{_.load&&c.set(_.id,_.load)})),this.slidesData=this._items.map(_=>({id:`${_.id}`,isActive:!1,tplRef:_.tplRef,dataMerge:_.dataMerge,width:0,isCloned:!1,load:!!c&&c.get(_.id),hashFragment:_.dataHash}))}setCurSlideClasses(c){const _={active:c.isActive,center:c.isCentered,cloned:c.isCloned,animated:c.isAnimated,"owl-animated-in":c.isDefAnimatedIn,"owl-animated-out":c.isDefAnimatedOut};return this.settings.animateIn&&(_[this.settings.animateIn]=c.isCustomAnimatedIn),this.settings.animateOut&&(_[this.settings.animateOut]=c.isCustomAnimatedOut),_}_op(c,_,P){const V=this.settings.rtl;switch(_){case"<":return V?c>P:c<P;case">":return V?c<P:c>P;case">=":return V?c<=P:c>=P;case"<=":return V?c>=P:c<=P}}_trigger(c,_,P,V,Y){switch(c){case"initialized":this._initializedCarousel$.next(c);break;case"change":this._changeSettingsCarousel$.next(_);break;case"changed":this._changedSettingsCarousel$.next(_);break;case"drag":this._dragCarousel$.next(c);break;case"dragged":this._draggedCarousel$.next(c);break;case"resize":this._resizeCarousel$.next(c);break;case"resized":this._resizedCarousel$.next(c);break;case"refresh":this._refreshCarousel$.next(c);break;case"refreshed":this._refreshedCarousel$.next(c);break;case"translate":this._translateCarousel$.next(c);break;case"translated":this._translatedCarousel$.next(c)}}enter(c){[c].concat(this._states.tags[c]||[]).forEach(_=>{void 0===this._states.current[_]&&(this._states.current[_]=0),this._states.current[_]++})}leave(c){[c].concat(this._states.tags[c]||[]).forEach(_=>{(0===this._states.current[_]||this._states.current[_])&&this._states.current[_]--})}register(c){c.type===fr.State&&(this._states.tags[c.name]=this._states.tags[c.name]?this._states.tags[c.name].concat(c.tags):c.tags,this._states.tags[c.name]=this._states.tags[c.name].filter((_,P)=>this._states.tags[c.name].indexOf(_)===P))}_suppress(c){c.forEach(_=>{this._supress[_]=!0})}_release(c){c.forEach(_=>{delete this._supress[_]})}pointer(c){const _={x:null,y:null};return(c=(c=c.originalEvent||c||window.event).touches&&c.touches.length?c.touches[0]:c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:c).pageX?(_.x=c.pageX,_.y=c.pageY):(_.x=c.clientX,_.y=c.clientY),_}_isNumeric(c){return!isNaN(parseFloat(c))}_isNumberOrBoolean(c){return this._isNumeric(c)||"boolean"==typeof c}_isNumberOrString(c){return this._isNumeric(c)||"string"==typeof c}_isStringOrBoolean(c){return"string"==typeof c||"boolean"==typeof c}difference(c,_){return null===c||null===_?{x:0,y:0}:{x:c.x-_.x,y:c.y-_.y}}}return A.\u0275fac=function(c){return new(c||A)(E.LFG(mn))},A.\u0275prov=E.Yz7({token:A,factory:A.\u0275fac}),A})(),Ut=(()=>{class A{constructor(c){this.carouselService=c,this._initialized=!1,this._pages=[],this._navData={disabled:!1,prev:{disabled:!1,htmlText:""},next:{disabled:!1,htmlText:""}},this._dotsData={disabled:!1,dots:[]},this.spyDataStreams()}ngOnDestroy(){this.navSubscription.unsubscribe()}spyDataStreams(){const c=this.carouselService.getInitializedState().pipe((0,De.b)(Y=>{this.initialize(),this._updateNavPages(),this.draw(),this.update(),this.carouselService.sendChanges()})),_=this.carouselService.getChangedState().pipe((0,X.h)(Y=>"position"===Y.property.name),(0,De.b)(Y=>{this.update()})),P=this.carouselService.getRefreshedState().pipe((0,De.b)(()=>{this._updateNavPages(),this.draw(),this.update(),this.carouselService.sendChanges()})),V=(0,fe.T)(c,_,P);this.navSubscription=V.subscribe(()=>{})}initialize(){this._navData.disabled=!0,this._navData.prev.htmlText=this.carouselService.settings.navText[0],this._navData.next.htmlText=this.carouselService.settings.navText[1],this._dotsData.disabled=!0,this.carouselService.navData=this._navData,this.carouselService.dotsData=this._dotsData}_updateNavPages(){let c,_,P;const V=this.carouselService.clones().length/2,Y=V+this.carouselService.items().length,J=this.carouselService.maximum(!0),Se=[],tt=this.carouselService.settings;let xt=tt.center||tt.autoWidth||tt.dotsData?1:Math.floor(Number(tt.dotsEach))||Math.floor(tt.items);if(xt=+xt,"page"!==tt.slideBy&&(tt.slideBy=Math.min(+tt.slideBy,tt.items)),tt.dots||"page"===tt.slideBy)for(c=V,_=0,P=0;c<Y;c++){if(_>=xt||0===_){if(Se.push({start:Math.min(J,c-V),end:c-V+xt-1}),Math.min(J,c-V)===J)break;_=0,++P}_+=this.carouselService.mergers(this.carouselService.relative(c))}this._pages=Se}draw(){let c;const _=this.carouselService.settings,P=this.carouselService.items(),V=P.length<=_.items;if(this._navData.disabled=!_.nav||V,this._dotsData.disabled=!_.dots||V,_.dots)if(c=this._pages.length-this._dotsData.dots.length,_.dotsData&&0!==c)this._dotsData.dots=[],P.forEach(Y=>{this._dotsData.dots.push({active:!1,id:`dot-${Y.id}`,innerContent:Y.dotContent,showInnerContent:!0})});else if(c>0){const Y=this._dotsData.dots.length>0?this._dotsData.dots.length:0;for(let J=0;J<c;J++)this._dotsData.dots.push({active:!1,id:`dot-${J+Y}`,innerContent:"",showInnerContent:!1})}else c<0&&this._dotsData.dots.splice(c,Math.abs(c));this.carouselService.navData=this._navData,this.carouselService.dotsData=this._dotsData}update(){this._updateNavButtons(),this._updateDots()}_updateNavButtons(){const c=this.carouselService.settings,_=c.loop||c.rewind,P=this.carouselService.relative(this.carouselService.current());c.nav&&(this._navData.prev.disabled=!_&&P<=this.carouselService.minimum(!0),this._navData.next.disabled=!_&&P>=this.carouselService.maximum(!0)),this.carouselService.navData=this._navData}_updateDots(){let c;!this.carouselService.settings.dots||(this._dotsData.dots.forEach(_=>{!0===_.active&&(_.active=!1)}),c=this._current(),this._dotsData.dots.length&&(this._dotsData.dots[c].active=!0),this.carouselService.dotsData=this._dotsData)}_current(){const c=this.carouselService.relative(this.carouselService.current());let _;const P=this._pages.filter((V,Y)=>V.start<=c&&V.end>=c).pop();return _=this._pages.findIndex(V=>V.start===P.start&&V.end===P.end),_}_getPosition(c){let _,P;const V=this.carouselService.settings;return"page"===V.slideBy?(_=this._current(),P=this._pages.length,c?++_:--_,_=this._pages[(_%P+P)%P].start):(_=this.carouselService.relative(this.carouselService.current()),P=this.carouselService.items().length,c?_+=+V.slideBy:_-=+V.slideBy),_}next(c){this.carouselService.to(this._getPosition(!0),c)}prev(c){this.carouselService.to(this._getPosition(!1),c)}to(c,_,P){let V;!P&&this._pages.length?(V=this._pages.length,this.carouselService.to(this._pages[(c%V+V)%V].start,_)):this.carouselService.to(c,_)}moveByDot(c){const _=this._dotsData.dots.findIndex(P=>c===P.id);this.to(_,this.carouselService.settings.dotsSpeed)}toSlideById(c){const _=this.carouselService.slidesData.findIndex(P=>P.id===c&&!1===P.isCloned);-1===_||_===this.carouselService.current()||this.carouselService.to(this.carouselService.relative(_),!1)}}return A.\u0275fac=function(c){return new(c||A)(E.LFG(vn))},A.\u0275prov=E.Yz7({token:A,factory:A.\u0275fac}),A})();const ur=new E.OlP("WindowToken");class vr{get nativeWindow(){throw new Error("Not implemented.")}}const rr=[{provide:vr,useClass:(()=>{class A extends vr{constructor(){super()}get nativeWindow(){return window}}return A.\u0275fac=function(c){return new(c||A)},A.\u0275prov=E.Yz7({token:A,factory:A.\u0275fac}),A})()},{provide:ur,useFactory:function _r(A,g){return(0,se.NF)(g)?A.nativeWindow:{setTimeout:(_,P)=>{},clearTimeout:_=>{}}},deps:[vr,E.Lbi]}],Un=new E.OlP("DocumentToken");class Gt{get nativeDocument(){throw new Error("Not implemented.")}}const Rr=[{provide:Gt,useClass:(()=>{class A extends Gt{constructor(){super()}get nativeDocument(){return document}}return A.\u0275fac=function(c){return new(c||A)},A.\u0275prov=E.Yz7({token:A,factory:A.\u0275fac}),A})()},{provide:Un,useFactory:function ln(A,g){return(0,se.NF)(g)?A.nativeDocument:{hidden:!1,visibilityState:"visible"}},deps:[Gt,E.Lbi]}];let tn=(()=>{class A{constructor(c,_,P,V){this.carouselService=c,this.ngZone=V,this._timeout=null,this._paused=!1,this._isAutoplayStopped=!1,this.winRef=_,this.docRef=P,this.spyDataStreams()}get isAutoplayStopped(){return this._isAutoplayStopped}set isAutoplayStopped(c){this._isAutoplayStopped=c}ngOnDestroy(){this.autoplaySubscription.unsubscribe()}spyDataStreams(){const c=this.carouselService.getInitializedState().pipe((0,De.b)(()=>{this.carouselService.settings.autoplay&&this.play()})),_=this.carouselService.getChangedState().pipe((0,De.b)(Y=>{this._handleChangeObservable(Y)})),P=this.carouselService.getResizedState().pipe((0,De.b)(()=>{this.carouselService.settings.autoplay&&!this._isAutoplayStopped?this.play():this.stop()})),V=(0,fe.T)(c,_,P);this.autoplaySubscription=V.subscribe(()=>{})}play(c,_){this._paused&&(this._paused=!1,this._setAutoPlayInterval(this.carouselService.settings.autoplayMouseleaveTimeout)),!this.carouselService.is("rotating")&&(this.carouselService.enter("rotating"),this._setAutoPlayInterval())}_getNextTimeout(c,_){return this._timeout&&this.winRef.clearTimeout(this._timeout),this._isArtificialAutoplayTimeout=!!c,this.ngZone.runOutsideAngular(()=>this.winRef.setTimeout(()=>{this.ngZone.run(()=>{this._paused||this.carouselService.is("busy")||this.carouselService.is("interacting")||this.docRef.hidden||this.carouselService.next(_||this.carouselService.settings.autoplaySpeed)})},c||this.carouselService.settings.autoplayTimeout))}_setAutoPlayInterval(c){this._timeout=this._getNextTimeout(c)}stop(){!this.carouselService.is("rotating")||(this._paused=!0,this.winRef.clearTimeout(this._timeout),this.carouselService.leave("rotating"))}pause(){!this.carouselService.is("rotating")||(this._paused=!0)}_handleChangeObservable(c){"settings"===c.property.name?this.carouselService.settings.autoplay?this.play():this.stop():"position"===c.property.name&&this.carouselService.settings.autoplay&&this._setAutoPlayInterval()}_playAfterTranslated(){(0,we.of)("translated").pipe((0,ae.w)(c=>this.carouselService.getTranslatedState()),(0,be.P)(),(0,X.h)(()=>this._isArtificialAutoplayTimeout),(0,De.b)(()=>this._setAutoPlayInterval())).subscribe(()=>{})}startPausing(){this.carouselService.settings.autoplayHoverPause&&this.carouselService.is("rotating")&&this.pause()}startPlayingMouseLeave(){this.carouselService.settings.autoplayHoverPause&&this.carouselService.is("rotating")&&(this.play(),this._playAfterTranslated())}startPlayingTouchEnd(){this.carouselService.settings.autoplayHoverPause&&this.carouselService.is("rotating")&&(this.play(),this._playAfterTranslated())}}return A.\u0275fac=function(c){return new(c||A)(E.LFG(vn),E.LFG(ur),E.LFG(Un),E.LFG(E.R0b))},A.\u0275prov=E.Yz7({token:A,factory:A.\u0275fac}),A})(),Pr=(()=>{class A{constructor(c){this.carouselService=c,this.spyDataStreams()}ngOnDestroy(){this.lazyLoadSubscription.unsubscribe()}spyDataStreams(){const c=this.carouselService.getInitializedState().pipe((0,De.b)(()=>{const Y=this.carouselService.settings&&!this.carouselService.settings.lazyLoad;this.carouselService.slidesData.forEach(J=>J.load=!!Y)})),_=this.carouselService.getChangeState(),P=this.carouselService.getResizedState(),V=(0,fe.T)(c,_,P).pipe((0,De.b)(Y=>this._defineLazyLoadSlides(Y)));this.lazyLoadSubscription=V.subscribe(()=>{})}_defineLazyLoadSlides(c){if(this.carouselService.settings&&this.carouselService.settings.lazyLoad&&(c.property&&"position"===c.property.name||"initialized"===c||"resized"===c)){const _=this.carouselService.settings,P=this.carouselService.clones().length;let V=_.center&&Math.ceil(_.items/2)||_.items,Y=_.center&&-1*V||0,J=(c.property&&void 0!==c.property.value?c.property.value:this.carouselService.current())+Y;for(_.lazyLoadEager>0&&(V+=_.lazyLoadEager,_.loop&&(J-=_.lazyLoadEager,V++));Y++<V;)this._load(P/2+this.carouselService.relative(J)),P&&this.carouselService.clones(this.carouselService.relative(J)).forEach(Se=>this._load(Se)),J++}}_load(c){this.carouselService.slidesData[c].load||(this.carouselService.slidesData[c].load=!0)}}return A.\u0275fac=function(c){return new(c||A)(E.LFG(vn))},A.\u0275prov=E.Yz7({token:A,factory:A.\u0275fac}),A})(),pn=(()=>{class A{constructor(c){this.carouselService=c,this.swapping=!0,this.previous=void 0,this.next=void 0,this.spyDataStreams()}ngOnDestroy(){this.animateSubscription.unsubscribe()}spyDataStreams(){const c=this.carouselService.getChangeState().pipe((0,De.b)(tt=>{"position"===tt.property.name&&(this.previous=this.carouselService.current(),this.next=tt.property.value)})),_=this.carouselService.getDragState(),P=this.carouselService.getDraggedState(),V=this.carouselService.getTranslatedState(),Y=(0,fe.T)(_,P,V).pipe((0,De.b)(tt=>this.swapping="translated"===tt)),J=this.carouselService.getTranslateState().pipe((0,De.b)(tt=>{this.swapping&&(this.carouselService._options.animateOut||this.carouselService._options.animateIn)&&this._swap()})),Se=(0,fe.T)(c,J,Y).pipe();this.animateSubscription=Se.subscribe(()=>{})}_swap(){if(1!==this.carouselService.settings.items)return;let c;this.carouselService.speed(0);const _=this.carouselService.slidesData[this.previous],P=this.carouselService.slidesData[this.next],V=this.carouselService.settings.animateIn,Y=this.carouselService.settings.animateOut;this.carouselService.current()!==this.previous&&(Y&&(c=+this.carouselService.coordinates(this.previous)-+this.carouselService.coordinates(this.next),this.carouselService.slidesData.forEach(J=>{J.id===_.id&&(J.left=`${c}px`,J.isAnimated=!0,J.isDefAnimatedOut=!0,J.isCustomAnimatedOut=!0)})),V&&this.carouselService.slidesData.forEach(J=>{J.id===P.id&&(J.isAnimated=!0,J.isDefAnimatedIn=!0,J.isCustomAnimatedIn=!0)}))}clear(c){this.carouselService.slidesData.forEach(_=>{_.id===c&&(_.left="",_.isAnimated=!1,_.isDefAnimatedOut=!1,_.isCustomAnimatedOut=!1,_.isDefAnimatedIn=!1,_.isCustomAnimatedIn=!1,_.classes=this.carouselService.setCurSlideClasses(_))}),this.carouselService.onTransitionEnd()}}return A.\u0275fac=function(c){return new(c||A)(E.LFG(vn))},A.\u0275prov=E.Yz7({token:A,factory:A.\u0275fac}),A})(),tr=(()=>{class A{constructor(c){this.carouselService=c,this.spyDataStreams()}ngOnDestroy(){this.autoHeightSubscription.unsubscribe()}spyDataStreams(){const c=this.carouselService.getInitializedState().pipe((0,De.b)(Y=>{this.carouselService.settings.autoHeight?this.update():this.carouselService.slidesData.forEach(J=>J.heightState="full")})),_=this.carouselService.getChangedState().pipe((0,De.b)(Y=>{this.carouselService.settings.autoHeight&&"position"===Y.property.name&&this.update()})),P=this.carouselService.getRefreshedState().pipe((0,De.b)(Y=>{this.carouselService.settings.autoHeight&&this.update()})),V=(0,fe.T)(c,_,P);this.autoHeightSubscription=V.subscribe(()=>{})}update(){const c=this.carouselService.settings.items;let _=this.carouselService.current(),P=_+c;this.carouselService.settings.center&&(_=c%2==1?_-(c-1)/2:_-c/2,P=c%2==1?_+c:_+c+1),this.carouselService.slidesData.forEach((V,Y)=>{V.heightState=Y>=_&&Y<P?"full":"nulled"})}}return A.\u0275fac=function(c){return new(c||A)(E.LFG(vn))},A.\u0275prov=E.Yz7({token:A,factory:A.\u0275fac}),A})(),gn=(()=>{class A{constructor(c,_,P){this.carouselService=c,this.route=_,this.router=P,this.spyDataStreams(),this.route||(this.route={fragment:(0,we.of)("no route").pipe((0,Je.q)(1))}),this.router||(this.router={navigate:(V,Y)=>{}})}ngOnDestroy(){this.hashSubscription.unsubscribe()}spyDataStreams(){const c=this.carouselService.getInitializedState().pipe((0,De.b)(()=>this.listenToRoute())),_=this.carouselService.getChangedState().pipe((0,De.b)(V=>{if(this.carouselService.settings.URLhashListener&&"position"===V.property.name){const Y=this.carouselService.current(),J=this.carouselService.slidesData[Y].hashFragment;if(!J||J===this.currentHashFragment)return;this.router.navigate(["./"],{fragment:J,relativeTo:this.route})}})),P=(0,fe.T)(c,_);this.hashSubscription=P.subscribe(()=>{})}rewind(c){const _=this.carouselService.slidesData.findIndex(P=>P.hashFragment===c&&!1===P.isCloned);-1===_||_===this.carouselService.current()||this.carouselService.to(this.carouselService.relative(_),!1)}listenToRoute(){this.route.fragment.pipe((0,Ke.T)("URLHash"===this.carouselService.settings.startPosition?0:2)).subscribe(_=>{this.currentHashFragment=_,this.rewind(_)})}}return A.\u0275fac=function(c){return new(c||A)(E.LFG(vn),E.LFG(B.gz,8),E.LFG(B.F0,8))},A.\u0275prov=E.Yz7({token:A,factory:A.\u0275fac}),A})(),or=0,nr=(()=>{class A{constructor(c){this.tplRef=c,this.id="owl-slide-"+or++,this._dataMerge=1,this.width=0,this.dotContent="",this.dataHash=""}set dataMerge(c){this._dataMerge=this.isNumeric(c)?c:1}get dataMerge(){return this._dataMerge}isNumeric(c){return!isNaN(parseFloat(c))}}return A.\u0275fac=function(c){return new(c||A)(E.Y36(E.Rgc))},A.\u0275dir=E.lG2({type:A,selectors:[["ng-template","carouselSlide",""]],inputs:{id:"id",dataMerge:"dataMerge",width:"width",dotContent:"dotContent",dataHash:"dataHash"}}),A})(),We=(()=>{class A{constructor(c){this.eventManager=c,this.resizeSubject=new ue.x,this.eventManager.addGlobalEventListener("window","resize",this.onResize.bind(this)),this.eventManager.addGlobalEventListener("window","onload",this.onLoaded.bind(this))}get onResize$(){return this.resizeSubject.asObservable()}onResize(c){this.resizeSubject.next(c.target)}onLoaded(c){this.windowWidth=c.target}}return A.\u0275fac=function(c){return new(c||A)(E.LFG(y.Qz))},A.\u0275prov=E.Yz7({token:A,factory:A.\u0275fac}),A})(),j=(()=>{class A{constructor(c,_,P,V,Y){this.zone=c,this.el=_,this.renderer=P,this.carouselService=V,this.animateService=Y,this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null,active:!1,moving:!1},this._oneDragMove$=new ue.x,this.preparePublicSlide=J=>{const Se={...J};return delete Se.tplRef,Se},this.bindOneMouseTouchMove=J=>{this._oneMouseTouchMove(J)},this.bindOnDragMove=J=>{this._onDragMove(J)},this.bindOnDragEnd=J=>{this._onDragEnd(J)},this._oneClickHandler=()=>{this.listenerOneClick=this.renderer.listen(this._drag.target,"click",()=>!1),this.listenerOneClick()}}onMouseDown(c){this.owlDraggable.isMouseDragable&&this._onDragStart(c)}onTouchStart(c){if(c.targetTouches.length>=2)return!1;this.owlDraggable.isTouchDragable&&this._onDragStart(c)}onTouchCancel(c){this._onDragEnd(c)}onDragStart(){if(this.owlDraggable.isMouseDragable)return!1}onSelectStart(){if(this.owlDraggable.isMouseDragable)return!1}ngOnInit(){this._oneMoveSubsription=this._oneDragMove$.pipe((0,be.P)()).subscribe(()=>{this._sendChanges()})}ngOnDestroy(){this._oneMoveSubsription.unsubscribe()}_onDragStart(c){let _=null;3!==c.which&&(_=this._prepareDragging(c),this._drag.time=(new Date).getTime(),this._drag.target=c.target,this._drag.stage.start=_,this._drag.stage.current=_,this._drag.pointer=this._pointer(c),this.listenerMouseUp=this.renderer.listen(document,"mouseup",this.bindOnDragEnd),this.listenerTouchEnd=this.renderer.listen(document,"touchend",this.bindOnDragEnd),this.zone.runOutsideAngular(()=>{this.listenerOneMouseMove=this.renderer.listen(document,"mousemove",this.bindOneMouseTouchMove),this.listenerOneTouchMove=this.renderer.listen(document,"touchmove",this.bindOneMouseTouchMove)}))}_oneMouseTouchMove(c){const _=this._difference(this._drag.pointer,this._pointer(c));this.listenerATag&&this.listenerATag(),!(Math.abs(_.x)<3&&Math.abs(_.y)<3&&this._is("valid"))&&(Math.abs(_.x)<3&&Math.abs(_.x)<Math.abs(_.y)&&this._is("valid")||(this.listenerOneMouseMove(),this.listenerOneTouchMove(),this._drag.moving=!0,this.blockClickAnchorInDragging(c),this.listenerMouseMove=this.renderer.listen(document,"mousemove",this.bindOnDragMove),this.listenerTouchMove=this.renderer.listen(document,"touchmove",this.bindOnDragMove),c.preventDefault(),this._enterDragging(),this._oneDragMove$.next(c)))}blockClickAnchorInDragging(c){let _=c.target;for(;_&&!(_ instanceof HTMLAnchorElement);)_=_.parentElement;_ instanceof HTMLAnchorElement&&(this.listenerATag=this.renderer.listen(_,"click",()=>!1))}_onDragMove(c){let _;const P=this.carouselService.defineNewCoordsDrag(c,this._drag);!1!==P&&(_=P,c.preventDefault(),this._drag.stage.current=_,this._animate(_.x-this._drag.stage.start.x))}_animate(c){this.renderer.setStyle(this.el.nativeElement.children[0],"transform",`translate3d(${c}px,0px,0px`),this.renderer.setStyle(this.el.nativeElement.children[0],"transition","0s")}_onDragEnd(c){this.carouselService.owlDOMData.isGrab=!1,this.listenerOneMouseMove(),this.listenerOneTouchMove(),this._drag.moving&&(this.renderer.setStyle(this.el.nativeElement.children[0],"transform",""),this.renderer.setStyle(this.el.nativeElement.children[0],"transition",this.carouselService.speed(+this.carouselService.settings.dragEndSpeed||this.carouselService.settings.smartSpeed)/1e3+"s"),this._finishDragging(c),this.listenerMouseMove(),this.listenerTouchMove()),this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null,active:!1,moving:!1},this.listenerMouseUp(),this.listenerTouchEnd()}_prepareDragging(c){return this.carouselService.prepareDragging(c)}_finishDragging(c){this.carouselService.finishDragging(c,this._drag,this._oneClickHandler)}_pointer(c){return this.carouselService.pointer(c)}_difference(c,_){return this.carouselService.difference(c,_)}_is(c){return this.carouselService.is(c)}_enter(c){this.carouselService.enter(c)}_sendChanges(){this.carouselService.sendChanges()}onTransitionEnd(){this.carouselService.onTransitionEnd()}_enterDragging(){this.carouselService.enterDragging()}clear(c){this.animateService.clear(c)}}return A.\u0275fac=function(c){return new(c||A)(E.Y36(E.R0b),E.Y36(E.SBq),E.Y36(E.Qsj),E.Y36(vn),E.Y36(pn))},A.\u0275cmp=E.Xpm({type:A,selectors:[["owl-stage"]],hostBindings:function(c,_){1&c&&E.NdJ("mousedown",function(V){return _.onMouseDown(V)})("touchstart",function(V){return _.onTouchStart(V)})("touchcancel",function(V){return _.onTouchCancel(V)})("dragstart",function(){return _.onDragStart()})("selectstart",function(){return _.onSelectStart()})},inputs:{owlDraggable:"owlDraggable",stageData:"stageData",slidesData:"slidesData"},decls:3,vars:8,consts:[[1,"owl-stage",3,"ngStyle","transitionend"],[4,"ngFor","ngForOf"],[1,"owl-item",3,"ngClass","ngStyle","animationend"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(c,_){1&c&&(E.TgZ(0,"div")(1,"div",0),E.NdJ("transitionend",function(){return _.onTransitionEnd()}),E.YNc(2,Ft,3,9,"ng-container",1),E.qZA()()),2&c&&(E.xp6(1),E.Q6J("ngStyle",E.qbA(2,mt,_.stageData.width+"px",_.stageData.transform,_.stageData.transition,_.stageData.paddingL?_.stageData.paddingL+"px":"",_.stageData.paddingR?_.stageData.paddingR+"px":"")),E.xp6(1),E.Q6J("ngForOf",_.slidesData))},dependencies:[se.mk,se.sg,se.O5,se.tP,se.PC],encapsulation:2,data:{animation:[(0,ce.X$)("autoHeight",[(0,ce.SB)("nulled",(0,ce.oB)({height:0})),(0,ce.SB)("full",(0,ce.oB)({height:"*"})),(0,ce.eR)("full => nulled",[(0,ce.jt)("700ms 350ms")]),(0,ce.eR)("nulled => full",[(0,ce.jt)(350)])])]}}),A})(),re=(()=>{class A{constructor(c,_,P,V,Y,J,Se,tt,xt,kt,yn,Tn){this.el=c,this.resizeService=_,this.carouselService=P,this.navigationService=V,this.autoplayService=Y,this.lazyLoadService=J,this.animateService=Se,this.autoHeightService=tt,this.hashService=xt,this.logger=kt,this.changeDetectorRef=yn,this.translated=new E.vpe,this.dragging=new E.vpe,this.change=new E.vpe,this.changed=new E.vpe,this.initialized=new E.vpe,this.slidesData=[],this.carouselLoaded=!1,this.docRef=Tn}onVisibilityChange(c){if(this.carouselService.settings.autoplay)switch(this.docRef.visibilityState){case"visible":!this.autoplayService.isAutoplayStopped&&this.autoplayService.play();break;case"hidden":this.autoplayService.pause()}}ngOnInit(){this.spyDataStreams(),this.carouselWindowWidth=this.el.nativeElement.querySelector(".owl-carousel").clientWidth}ngOnChanges(){this.prevOptions!==this.options&&(this.prevOptions&&this.slides?.toArray().length?(this.carouselService.setup(this.carouselWindowWidth,this.slides.toArray(),this.options),this.carouselService.initialize(this.slides.toArray())):this.prevOptions&&!this.slides?.toArray().length?(this.carouselLoaded=!1,this.logger.log("There are no slides to show. So the carousel won't be re-rendered")):this.carouselLoaded=!1,this.prevOptions=this.options)}ngAfterContentInit(){this.slides.toArray().length?(this.carouselService.setup(this.carouselWindowWidth,this.slides.toArray(),this.options),this.carouselService.initialize(this.slides.toArray()),this._winResizeWatcher()):this.logger.log("There are no slides to show. So the carousel won't be rendered"),this._slidesChangesSubscription=this.slides.changes.pipe((0,De.b)(c=>{c.toArray().length?(this.carouselService.setup(this.carouselWindowWidth,c.toArray(),this.options),this.carouselService.initialize(c.toArray())):(this.carouselLoaded=!1,this.logger.log("There are no slides to show. So the carousel won't be re-rendered"))})).subscribe(()=>{})}ngOnDestroy(){this.resizeSubscription&&this.resizeSubscription.unsubscribe(),this._slidesChangesSubscription&&this._slidesChangesSubscription.unsubscribe(),this._allObservSubscription&&this._allObservSubscription.unsubscribe()}spyDataStreams(){this._viewCurSettings$=this.carouselService.getViewCurSettings().pipe((0,De.b)(c=>{this.owlDOMData=c.owlDOMData,this.stageData=c.stageData,this.slidesData=c.slidesData,this.carouselLoaded||(this.carouselLoaded=!0),this.navData=c.navData,this.dotsData=c.dotsData,this.changeDetectorRef.markForCheck()})),this._initializedCarousel$=this.carouselService.getInitializedState().pipe((0,De.b)(()=>{this.gatherTranslatedData(),this.initialized.emit(this.slidesOutputData)})),this._translatedCarousel$=this.carouselService.getTranslatedState().pipe((0,De.b)(()=>{this.gatherTranslatedData(),this.translated.emit(this.slidesOutputData)})),this._changeCarousel$=this.carouselService.getChangeState().pipe((0,De.b)(()=>{this.gatherTranslatedData(),this.change.emit(this.slidesOutputData)})),this._changedCarousel$=this.carouselService.getChangeState().pipe((0,ae.w)(c=>{const _=(0,we.of)(c).pipe((0,X.h)(()=>"position"===c.property.name),(0,ae.w)(()=>(0,te.D)(this.slidesData)),(0,Ke.T)(c.property.value),(0,Je.q)(this.carouselService.settings.items),(0,Ze.U)(P=>{const V=this.carouselService.clonedIdPrefix,Y=P.id.indexOf(V)>=0?P.id.slice(V.length):P.id;return{...P,id:Y,isActive:!0}}),function ft(){return(0,$e.e)((A,g)=>{(function it(A,g){return(0,$e.e)((0,Ct.U)(A,g,arguments.length>=2,!1,!0))})(Ae,[])(A).subscribe(g)})}(),(0,Ze.U)(P=>({slides:P,startPosition:this.carouselService.relative(c.property.value)})));return(0,fe.T)(_)}),(0,De.b)(c=>{this.gatherTranslatedData(),this.changed.emit(c.slides.length?c:this.slidesOutputData)})),this._draggingCarousel$=this.carouselService.getDragState().pipe((0,De.b)(()=>{this.gatherTranslatedData(),this.dragging.emit({dragging:!0,data:this.slidesOutputData})}),(0,ae.w)(()=>this.carouselService.getDraggedState().pipe((0,Ze.U)(()=>!!this.carouselService.is("animating")))),(0,ae.w)(c=>c?this.carouselService.getTranslatedState().pipe((0,be.P)()):(0,we.of)("not animating")),(0,De.b)(()=>{this.dragging.emit({dragging:!1,data:this.slidesOutputData})})),this._carouselMerge$=(0,fe.T)(this._viewCurSettings$,this._translatedCarousel$,this._draggingCarousel$,this._changeCarousel$,this._changedCarousel$,this._initializedCarousel$),this._allObservSubscription=this._carouselMerge$.subscribe(()=>{})}_winResizeWatcher(){Object.keys(this.carouselService._options.responsive).length&&(this.resizeSubscription=this.resizeService.onResize$.pipe((0,X.h)(()=>this.carouselWindowWidth!==this.el.nativeElement.querySelector(".owl-carousel").clientWidth),function Xe(A,g=Ue.z){const c=(0,Re.H)(A,g);return Ie(()=>c)}(this.carouselService.settings.responsiveRefreshRate)).subscribe(()=>{this.carouselService.onResize(this.el.nativeElement.querySelector(".owl-carousel").clientWidth),this.carouselWindowWidth=this.el.nativeElement.querySelector(".owl-carousel").clientWidth}))}onTransitionEnd(){this.carouselService.onTransitionEnd()}next(){!this.carouselLoaded||this.navigationService.next(this.carouselService.settings.navSpeed)}prev(){!this.carouselLoaded||this.navigationService.prev(this.carouselService.settings.navSpeed)}moveByDot(c){!this.carouselLoaded||this.navigationService.moveByDot(c)}to(c){!this.carouselLoaded||this.navigationService.toSlideById(c)}gatherTranslatedData(){let c;const _=this.carouselService.clonedIdPrefix,P=this.slidesData.filter(V=>!0===V.isActive).map(V=>({id:V.id.indexOf(_)>=0?V.id.slice(_.length):V.id,width:V.width,marginL:V.marginL,marginR:V.marginR,center:V.isCentered}));c=this.carouselService.relative(this.carouselService.current()),this.slidesOutputData={startPosition:c,slides:P}}startPausing(){this.autoplayService.startPausing()}startPlayML(){this.autoplayService.startPlayingMouseLeave()}startPlayTE(){this.autoplayService.startPlayingTouchEnd()}stopAutoplay(){this.autoplayService.isAutoplayStopped=!0,this.autoplayService.stop()}startAutoplay(){this.autoplayService.isAutoplayStopped=!1,this.autoplayService.play()}}return A.\u0275fac=function(c){return new(c||A)(E.Y36(E.SBq),E.Y36(We),E.Y36(vn),E.Y36(Ut),E.Y36(tn),E.Y36(Pr),E.Y36(pn),E.Y36(tr),E.Y36(gn),E.Y36(mn),E.Y36(E.sBO),E.Y36(Un))},A.\u0275cmp=E.Xpm({type:A,selectors:[["owl-carousel-o"]],contentQueries:function(c,_,P){if(1&c&&E.Suo(P,nr,4),2&c){let V;E.iGM(V=E.CRH())&&(_.slides=V)}},hostBindings:function(c,_){1&c&&E.NdJ("visibilitychange",function(V){return _.onVisibilityChange(V)},!1,E.evT)},inputs:{options:"options"},outputs:{translated:"translated",dragging:"dragging",change:"change",changed:"changed",initialized:"initialized"},features:[E._Bn([Ut,tn,vn,Pr,pn,tr,gn]),E.TTD],decls:4,vars:9,consts:[[1,"owl-carousel","owl-theme",3,"ngClass","mouseover","mouseleave","touchstart","touchend"],["owlCarousel",""],["class","owl-stage-outer",4,"ngIf"],[4,"ngIf"],[1,"owl-stage-outer"],[3,"owlDraggable","stageData","slidesData"],[1,"owl-nav",3,"ngClass"],[1,"owl-prev",3,"ngClass","innerHTML","click"],[1,"owl-next",3,"ngClass","innerHTML","click"],[1,"owl-dots",3,"ngClass"],["class","owl-dot",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"owl-dot",3,"ngClass","click"],[3,"innerHTML"]],template:function(c,_){1&c&&(E.TgZ(0,"div",0,1),E.NdJ("mouseover",function(){return _.startPausing()})("mouseleave",function(){return _.startPlayML()})("touchstart",function(){return _.startPausing()})("touchend",function(){return _.startPlayTE()}),E.YNc(2,En,2,6,"div",2),E.YNc(3,en,6,15,"ng-container",3),E.qZA()),2&c&&(E.Q6J("ngClass",E.qbA(3,yr,null==_.owlDOMData?null:_.owlDOMData.rtl,null==_.owlDOMData?null:_.owlDOMData.isLoaded,null==_.owlDOMData?null:_.owlDOMData.isResponsive,null==_.owlDOMData?null:_.owlDOMData.isMouseDragable,null==_.owlDOMData?null:_.owlDOMData.isGrab)),E.xp6(2),E.Q6J("ngIf",_.carouselLoaded),E.xp6(1),E.Q6J("ngIf",_.slides.toArray().length))},dependencies:[se.mk,se.sg,se.O5,j],styles:[".owl-theme[_ngcontent-%COMP%]{display:block}"],changeDetection:0}),A})(),xe=(()=>{class A{}return A.\u0275fac=function(c){return new(c||A)},A.\u0275mod=E.oAB({type:A}),A.\u0275inj=E.cJS({providers:[rr,We,Rr,mn],imports:[se.ez]}),A})();const K=function(){return{"font-size":"24px",margin:"4px 0 0 4px"}};let le=(()=>{class A{constructor(){}ngOnInit(){}}return A.\u0275fac=function(c){return new(c||A)},A.\u0275cmp=E.Xpm({type:A,selectors:[["app-footer"]],decls:25,vars:2,consts:[[1,"wrapper","bg-dark","text-white"],[1,"container"],[1,"d-flex"],["src","../assets/icons/fox.png",1,"container__logo"],[3,"ngStyle"],["href","authorization/login",1,"container__login"],[1,"container__list","mr-auto"],["href","#"]],template:function(c,_){1&c&&(E.TgZ(0,"div",0)(1,"div",1)(2,"div")(3,"div",2),E._UZ(4,"img",3),E.TgZ(5,"b",4),E._uU(6,"Foxxy"),E.qZA()(),E.TgZ(7,"p")(8,"a",5),E._uU(9,"Log In"),E.qZA()()(),E.TgZ(10,"div",6)(11,"ul")(12,"li")(13,"a",7),E._uU(14,"Privacy policy"),E.qZA()(),E.TgZ(15,"li")(16,"a",7),E._uU(17,"Terms and conditions"),E.qZA()(),E.TgZ(18,"li")(19,"a",7),E._uU(20,"About Us"),E.qZA()()(),E.TgZ(21,"ul")(22,"li")(23,"a",7),E._uU(24,"Contact Us"),E.qZA()()()()()()),2&c&&(E.xp6(5),E.Q6J("ngStyle",E.DdM(1,K)))},dependencies:[se.PC],styles:[".wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:14px;margin-bottom:0}.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;height:100%;padding:24px 14px}.wrapper[_ngcontent-%COMP%]   .container__logo[_ngcontent-%COMP%]{width:40px;align-items:center}.wrapper[_ngcontent-%COMP%]   .container__login[_ngcontent-%COMP%]{color:#fff;text-decoration:none}.wrapper[_ngcontent-%COMP%]   .container__login[_ngcontent-%COMP%]:hover{text-decoration:underline}.wrapper[_ngcontent-%COMP%]   .container__list[_ngcontent-%COMP%]{display:flex;margin:auto}.wrapper[_ngcontent-%COMP%]   .container__list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-bottom:0}ul[_ngcontent-%COMP%]{list-style-type:none}ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none}ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]}),A})();function ze(A,g){if(1&A&&(E.TgZ(0,"div",15)(1,"div")(2,"p",16),E._uU(3),E.qZA(),E.TgZ(4,"div",17)(5,"p")(6,"strong"),E._uU(7),E.qZA()(),E._UZ(8,"img",18),E.qZA()()()),2&A){const c=E.oxw().$implicit;E.xp6(3),E.Oqu(c.feedback),E.xp6(4),E.Oqu(c.employeeName),E.xp6(1),E.s9C("src",c.image,E.LSH)}}function _t(A,g){1&A&&(E.ynx(0),E.YNc(1,ze,9,3,"ng-template",14),E.BQk())}let zt=(()=>{class A{constructor(){this.slides=[{feedback:"Everyone loves it, it has democratized our finance function. In some ways Foxxy shattered hierarchy and brought us together.",employeeName:"BHARATH SUNDAR",image:"../../../assets/logo/ebay.svg"},{feedback:"Very simple to use, great automation and keeps me on track with all I need to do. I also like that it can be shared with others.",employeeName:"KERRY PARKER-EVANS",image:"../../../assets/logo/detroit-red-wings.svg"},{feedback:"Foxxy makes it easy to keep everyone on the same page. As changes happen, the real-time updates with email notifications have been key.",employeeName:"HAYDON DOTSON",image:"../../../assets/logo/egencia.svg"},{feedback:"With the use of Foxxy, we can now limit the number of meetings we have regarding specific projects and turn to Foxxy for updates instead.",employeeName:"HALEY ENNES",image:"../../../assets/logo/sprout-social.svg"}],this.carouselOptions={autoplay:!0,autoWidth:!0,loop:!0,mouseDrag:!0,touchDrag:!1,pullDrag:!1,dots:!0,navSpeed:700,responsive:{0:{items:1}}}}ngOnInit(){}}return A.\u0275fac=function(c){return new(c||A)},A.\u0275cmp=E.Xpm({type:A,selectors:[["app-main"]],decls:52,vars:2,consts:[[1,"container","mt-5","mb-5"],[1,"row","container__content"],[1,"col"],[1,"row"],[1,"col","container__image"],["width","550px","height","450px","src","../../../assets/img/quiz-intro-image-2000x1720.png"],["src","../../../assets/img/communication-improves-as-part-of-benefits-of-working-as-a-team-1.png"],["src","../../../assets/img/teamwork_1017326208-1080x627.jpg"],[1,"slide",3,"options"],[4,"ngFor","ngForOf"],[1,"col","container__flex"],["src","../../../assets/img/tag.svg","width","103","height","140"],["src","../../../assets/img/compass.svg","width","103","height","141"],["src","../../../assets/img/solutions.svg","width","103","height","138"],["carouselSlide",""],[1,"client-card"],[1,"client-card__feedback"],[1,"client-card__representative","d-flex"],[1,"client-card__logo",3,"src"]],template:function(c,_){1&c&&(E.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),E._uU(5,"Foxxy gives your team opportunity to work."),E.qZA(),E.TgZ(6,"p"),E._uU(7,"Collaborate, manage projects, and reach new productivity peaks. From high rises to the home office, the way your team works is unique-accomplish it all with Foxxy"),E.qZA()(),E._UZ(8,"div",3),E.qZA(),E.TgZ(9,"div",4),E._UZ(10,"img",5),E.qZA()(),E.TgZ(11,"div",1)(12,"div",4),E._UZ(13,"img",6),E.qZA(),E.TgZ(14,"div",2)(15,"h1"),E._uU(16,"It\u2019s more than work. It\u2019s a way of working together."),E.qZA(),E.TgZ(17,"p"),E._uU(18,"Start with a Foxxy board, lists, and cards. Customize and expand with more features as your teamwork grows. Manage projects, organize tasks, and build team spirit\u2014all in one place."),E.qZA()()(),E.TgZ(19,"div",1)(20,"div",2)(21,"h1"),E._uU(22,"Features to help your team succeed."),E.qZA(),E.TgZ(23,"p"),E._uU(24,"Powering a productive team means using a powerful tool (and plenty of snacks). From meetings and projects to events and goal setting, Foxxy\u2019s intuitive features give any team the ability to quickly set up and customize workflows for just about anything."),E.qZA()(),E.TgZ(25,"div",4),E._UZ(26,"img",7),E.qZA()(),E.TgZ(27,"owl-carousel-o",8),E.YNc(28,_t,2,0,"ng-container",9),E.qZA(),E.TgZ(29,"div",1)(30,"div",10),E._UZ(31,"img",11),E.TgZ(32,"div")(33,"h3"),E._uU(34,"See Foxxy pricing"),E.qZA(),E.TgZ(35,"p"),E._uU(36,"Whether you\u2019re a team of 2 or 2,000, Foxxy can be customized for your organization. Explore which option is best for you."),E.qZA()()(),E.TgZ(37,"div",10),E._UZ(38,"img",12),E.TgZ(39,"div")(40,"h3"),E._uU(41,"What is Foxxy?"),E.qZA(),E.TgZ(42,"p"),E._uU(43,"Foxxy is the visual tool that empowers your team to manage any type of project, workflow, or task tracking."),E.qZA()()(),E.TgZ(44,"div",10),E._UZ(45,"img",13),E.TgZ(46,"div")(47,"h3"),E._uU(48,"Discover Foxxy Enterprise"),E.qZA(),E.TgZ(49,"p"),E._uU(50,"The productivity tool teams love, paired with the features and security needed for scale."),E.qZA()()()()(),E._UZ(51,"app-footer")),2&c&&(E.xp6(27),E.Q6J("options",_.carouselOptions),E.xp6(1),E.Q6J("ngForOf",_.slides))},dependencies:[se.sg,re,nr,le],styles:['.container[_ngcontent-%COMP%]   .container__content[_ngcontent-%COMP%]:not(:first-child){margin-top:72px}.container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{align-items:center}.container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:22px}.container[_ngcontent-%COMP%]   .container__image[_ngcontent-%COMP%]{display:flex;justify-content:center}.container[_ngcontent-%COMP%]   .container__image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:450px;height:350px}.container__flex[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.container__flex[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:0 14px 0 0}  .owl-carousel{margin-top:72px;border-radius:24px;box-shadow:#00000059 0 5px 15px!important}.client-card[_ngcontent-%COMP%]{padding:73px 73px 0}.client-card__feedback[_ngcontent-%COMP%]{font-family:"Open Sans" sans-serif;font-weight:500;font-size:24px}.client-card__logo[_ngcontent-%COMP%]{margin-left:auto;width:150px!important;height:65px}@media screen and (max-width: 990px){.container__flex[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}}@media screen and (max-width: 767px){.container__image[_ngcontent-%COMP%]     img{width:100%!important;height:auto!important}.container__content[_ngcontent-%COMP%]{flex-direction:column}.container__content[_ngcontent-%COMP%]:nth-child(even){flex-direction:column-reverse}}@media screen and (max-width: 500px){.client-card[_ngcontent-%COMP%]{padding:24px 24px 0!important}}']}),A})(),Kt=(()=>{class A{constructor(){}ngOnInit(){}}return A.\u0275fac=function(c){return new(c||A)},A.\u0275cmp=E.Xpm({type:A,selectors:[["app-page-not-found"]],decls:5,vars:0,consts:[[1,"not-found","h3","text-dark"]],template:function(c,_){1&c&&(E.TgZ(0,"div",0)(1,"h1"),E._uU(2,"Error 404"),E.qZA(),E.TgZ(3,"p"),E._uU(4,"The page you are looking for is not found."),E.qZA()())},styles:["[_nghost-%COMP%]{flex-grow:1;flex-direction:column;display:flex;justify-content:center;align-items:center}.not-found[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}"]}),A})();var de=k(6202);let oe=(()=>{class A{constructor(c,_){this.router=c,this.currentUserService=_}canActivate(){return this.currentUserService.isUserLoggedIn$.pipe((0,Ze.U)(c=>(c||this.router.navigateByUrl(""),c)))}}return A.\u0275fac=function(c){return new(c||A)(E.LFG(B.F0),E.LFG(de.S))},A.\u0275prov=E.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();const Me=[{path:"",component:zt},{path:"authorization",loadChildren:()=>Promise.all([k.e(107),k.e(48),k.e(716)]).then(k.bind(k,1716)).then(A=>A.AuthorizationModule),canActivate:[(()=>{class A{constructor(c,_){this.router=c,this.currentUserService=_}canActivate(){return this.currentUserService.isUserLoggedIn$.pipe((0,Ze.U)(c=>(c&&this.router.navigateByUrl(""),!c)))}}return A.\u0275fac=function(c){return new(c||A)(E.LFG(B.F0),E.LFG(de.S))},A.\u0275prov=E.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})()]},{path:"public-boards",loadChildren:()=>Promise.all([k.e(107),k.e(93),k.e(984)]).then(k.bind(k,8984)).then(A=>A.PublicBoardsModule)},{path:"private-boards",loadChildren:()=>Promise.all([k.e(107),k.e(93),k.e(145)]).then(k.bind(k,1145)).then(A=>A.BoardsModule),canActivate:[oe]},{path:"profile",loadChildren:()=>Promise.all([k.e(107),k.e(48),k.e(496)]).then(k.bind(k,5496)).then(A=>A.ProfileModule),canActivate:[oe]},{path:"not-found",component:Kt},{path:"**",redirectTo:"not-found"}];let Qe=(()=>{class A{}return A.\u0275fac=function(c){return new(c||A)},A.\u0275mod=E.oAB({type:A}),A.\u0275inj=E.cJS({imports:[B.Bz.forRoot(Me),B.Bz]}),A})();var Bt=k(3385);function Cn(A,g){1&A&&(E.TgZ(0,"a",12),E._uU(1,"Profile"),E.qZA())}function Sn(A,g){1&A&&(E.TgZ(0,"a",13),E._uU(1,"Private boards"),E.qZA())}function $r(A,g){1&A&&(E.TgZ(0,"div")(1,"button",14),E._uU(2," Login "),E.qZA(),E.TgZ(3,"button",15),E._uU(4," Sign-up "),E.qZA()())}function vi(A,g){if(1&A){const c=E.EpF();E.TgZ(0,"div")(1,"button",16),E.NdJ("click",function(){E.CHM(c);const P=E.oxw();return E.KtG(P.signOut())}),E._uU(2," Logout "),E.qZA()()}}let sn=(()=>{class A{constructor(c,_,P){this.afAuth=c,this.router=_,this.currentUserService=P}ngOnInit(){}signOut(){this.afAuth.signOut(),this.router.navigateByUrl("")}}return A.\u0275fac=function(c){return new(c||A)(E.Y36(Bt.zQ),E.Y36(B.F0),E.Y36(de.S))},A.\u0275cmp=E.Xpm({type:A,selectors:[["app-header"]],decls:22,vars:10,consts:[[1,"p-3","bg-dark","text-white"],[1,"container"],[1,"d-flex","flex-wrap","align-items-center","justify-content-center","justify-content-lg-start"],["routerLink","",1,"d-flex","align-items-center","mb-2","mb-lg-0","text-white","text-decoration-none"],["src","../assets/icons/fox.png",1,"bi","me-2","logo"],[1,"nav","col-12","col-lg-auto","me-lg-auto","mb-2","justify-content-center","mb-md-0"],["routerLink","",1,"nav-link","px-2","text-white"],["routerLink","profile","class","nav-link px-2 text-white",4,"ngIf"],["routerLink","public-boards",1,"nav-link","px-2","text-white"],["routerLink","private-boards","class","nav-link px-2 text-white",4,"ngIf"],[4,"ngIf","ngIfElse"],["logout",""],["routerLink","profile",1,"nav-link","px-2","text-white"],["routerLink","private-boards",1,"nav-link","px-2","text-white"],["routerLink","authorization/login","type","button",1,"btn","btn-outline-light","me-2"],["routerLink","authorization/signup","type","button",1,"btn","btn-warning"],["routerLink","","type","button",1,"btn","btn-warning",3,"click"]],template:function(c,_){if(1&c&&(E.TgZ(0,"header",0)(1,"div",1)(2,"div",2)(3,"a",3),E._UZ(4,"img",4),E.qZA(),E.TgZ(5,"ul",5)(6,"li")(7,"a",6),E._uU(8,"Main"),E.qZA()(),E.TgZ(9,"li"),E.YNc(10,Cn,2,0,"a",7),E.ALo(11,"async"),E.qZA(),E.TgZ(12,"li")(13,"a",8),E._uU(14,"Public boards"),E.qZA()(),E.TgZ(15,"li"),E.YNc(16,Sn,2,0,"a",9),E.ALo(17,"async"),E.qZA()(),E.YNc(18,$r,5,0,"div",10),E.ALo(19,"async"),E.YNc(20,vi,3,0,"ng-template",null,11,E.W1O),E.qZA()()()),2&c){const P=E.MAs(21);E.xp6(10),E.Q6J("ngIf",E.lcZ(11,4,_.currentUserService.isUserLoggedIn$)),E.xp6(6),E.Q6J("ngIf",E.lcZ(17,6,_.currentUserService.isUserLoggedIn$)),E.xp6(2),E.Q6J("ngIf",!E.lcZ(19,8,_.currentUserService.isUserLoggedIn$))("ngIfElse",P)}},dependencies:[se.O5,B.rH,B.yS,se.Ov],styles:[".p-3[_ngcontent-%COMP%]{box-shadow:0 2px 4px #000}.logo[_ngcontent-%COMP%]{width:40px;align-items:center}"]}),A})(),fi=(()=>{class A{}return A.\u0275fac=function(c){return new(c||A)},A.\u0275cmp=E.Xpm({type:A,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"header-component"],[1,"page-wrapper"]],template:function(c,_){1&c&&(E._UZ(0,"app-header",0),E.TgZ(1,"div",1),E._UZ(2,"router-outlet"),E.qZA())},dependencies:[B.lC,sn],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-height:100%}.page-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1}"]}),A})();const fs={firebase:{projectId:"trello-6448a",appId:"1:1045084962918:web:60f2cda3c910a376d6eda7",storageBucket:"trello-6448a.appspot.com",locationId:"europe-central2",apiKey:"AIzaSyAZmzrba1W2on2EdI7nXPOYClIw_lwjl9Q",authDomain:"trello-6448a.firebaseapp.com",messagingSenderId:"1045084962918"},FIREBASE_TOKEN:"1//09v-CGtdumZDzCgYIARAAGAkSNwF-L9Irr1Zt0Yjt-AS-newJ3ODnlk-1XZ0qIxV0kT646M83RZKOOYnZ7LmY4AtYcQahzwuWm7E",production:!0};var Qi=k(3692),pi=k(7158),pr=k(5813),Ys=k(5867),qr=k(7128),Di=k(5525);class Cr{constructor(g){return g}}const Qs="firestore",Br=new E.OlP("angularfire2.firestore-instances");function ji(A){return(g,c)=>{const _=g.runOutsideAngular(()=>A(c));return new Cr(_)}}const Hi={provide:class Hn{constructor(){return(0,pr.vb)(Qs)}},deps:[[new E.FiY,Br]]},Fe={provide:Cr,useFactory:function _o(A,g){const c=(0,pr.JM)(Qs,A,g);return c&&new Cr(c)},deps:[[new E.FiY,Br],Qi.Ot]};let Ne=(()=>{class A{constructor(){(0,Ys.KN)("angularfire",pr.q4.full,"fst")}}return A.\u0275fac=function(c){return new(c||A)},A.\u0275mod=E.oAB({type:A}),A.\u0275inj=E.cJS({providers:[Fe,Hi]}),A})();function Ge(A,...g){return{ngModule:Ne,providers:[{provide:Br,useFactory:ji(A),multi:!0,deps:[E.R0b,E.zs3,pr.HU,Qi.z6,[new E.FiY,pi.dh],[new E.FiY,qr.nm],...g]}]}}const gr=(0,pr.u3)(Di.ad,!0);function _i(A){return new E.vHH(3e3,!1)}function Mo(){return typeof window<"u"&&typeof window.document<"u"}function Ss(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Wi(A){switch(A.length){case 0:return new ce.ZN;case 1:return A[0];default:return new ce.ZE(A)}}function is(A,g,c,_,P=new Map,V=new Map){const Y=[],J=[];let Se=-1,tt=null;if(_.forEach(xt=>{const kt=xt.get("offset"),yn=kt==Se,Tn=yn&&tt||new Map;xt.forEach((On,zn)=>{let Rn=zn,Hr=On;if("offset"!==zn)switch(Rn=g.normalizePropertyName(Rn,Y),Hr){case ce.k1:Hr=P.get(zn);break;case ce.l3:Hr=V.get(zn);break;default:Hr=g.normalizeStyleValue(zn,Rn,Hr,Y)}Tn.set(Rn,Hr)}),yn||J.push(Tn),tt=Tn,Se=kt}),Y.length)throw function ks(A){return new E.vHH(3502,!1)}();return J}function Xo(A,g,c,_){switch(g){case"start":A.onStart(()=>_(c&&Ls(c,"start",A)));break;case"done":A.onDone(()=>_(c&&Ls(c,"done",A)));break;case"destroy":A.onDestroy(()=>_(c&&Ls(c,"destroy",A)))}}function Ls(A,g,c){const V=Fs(A.element,A.triggerName,A.fromState,A.toState,g||A.phaseName,c.totalTime??A.totalTime,!!c.disabled),Y=A._data;return null!=Y&&(V._data=Y),V}function Fs(A,g,c,_,P="",V=0,Y){return{element:A,triggerName:g,fromState:c,toState:_,phaseName:P,totalTime:V,disabled:!!Y}}function gi(A,g,c){let _=A.get(g);return _||A.set(g,_=c),_}function jo(A){const g=A.indexOf(":");return[A.substring(1,g),A.slice(g+1)]}let M=(A,g)=>!1,H=(A,g,c)=>[],N=null;function Z(A){const g=A.parentNode||A.host;return g===N?null:g}(Ss()||typeof Element<"u")&&(Mo()?(N=(()=>document.documentElement)(),M=(A,g)=>{for(;g;){if(g===A)return!0;g=Z(g)}return!1}):M=(A,g)=>A.contains(g),H=(A,g,c)=>{if(c)return Array.from(A.querySelectorAll(g));const _=A.querySelector(g);return _?[_]:[]});let ct=null,Jt=!1;const sr=M,jr=H;let Nr=(()=>{class A{validateStyleProperty(c){return function dr(A){ct||(ct=function mr(){return typeof document<"u"?document.body:null}()||{},Jt=!!ct.style&&"WebkitAppearance"in ct.style);let g=!0;return ct.style&&!function ot(A){return"ebkit"==A.substring(1,6)}(A)&&(g=A in ct.style,!g&&Jt&&(g="Webkit"+A.charAt(0).toUpperCase()+A.slice(1)in ct.style)),g}(c)}matchesElement(c,_){return!1}containsElement(c,_){return sr(c,_)}getParentElement(c){return Z(c)}query(c,_,P){return jr(c,_,P)}computeStyle(c,_,P){return P||""}animate(c,_,P,V,Y,J=[],Se){return new ce.ZN(P,V)}}return A.\u0275fac=function(c){return new(c||A)},A.\u0275prov=E.Yz7({token:A,factory:A.\u0275fac}),A})(),Ts=(()=>{class A{}return A.NOOP=new Nr,A})();const Wr="ng-enter",ai="ng-leave",xo="ng-trigger",Mt=".ng-trigger",Vn="ng-animating",ys=".ng-animating";function Cs(A){if("number"==typeof A)return A;const g=A.match(/^(-?[\.\d]+)(m?s)/);return!g||g.length<2?0:nn(parseFloat(g[1]),g[2])}function nn(A,g){return"s"===g?1e3*A:A}function wn(A,g,c){return A.hasOwnProperty("duration")?A:function Eu(A,g,c){let P,V=0,Y="";if("string"==typeof A){const J=A.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===J)return g.push(_i()),{duration:0,delay:0,easing:""};P=nn(parseFloat(J[1]),J[2]);const Se=J[3];null!=Se&&(V=nn(parseFloat(Se),J[4]));const tt=J[5];tt&&(Y=tt)}else P=A;if(!c){let J=!1,Se=g.length;P<0&&(g.push(function zi(){return new E.vHH(3100,!1)}()),J=!0),V<0&&(g.push(function Ns(){return new E.vHH(3101,!1)}()),J=!0),J&&g.splice(Se,0,_i())}return{duration:P,delay:V,easing:Y}}(A,g,c)}function Lt(A,g={}){return Object.keys(A).forEach(c=>{g[c]=A[c]}),g}function lt(A){const g=new Map;return Object.keys(A).forEach(c=>{g.set(c,A[c])}),g}function Us(A,g=new Map,c){if(c)for(let[_,P]of c)g.set(_,P);for(let[_,P]of A)g.set(_,P);return g}function Za(A,g,c){return c?g+":"+c+";":""}function ui(A){let g="";for(let c=0;c<A.style.length;c++){const _=A.style.item(c);g+=Za(0,_,A.style.getPropertyValue(_))}for(const c in A.style)A.style.hasOwnProperty(c)&&!c.startsWith("_")&&(g+=Za(0,co(c),A.style[c]));A.setAttribute("style",g)}function lo(A,g,c){A.style&&(g.forEach((_,P)=>{const V=Bs(P);c&&!c.has(P)&&c.set(P,A.style[V]),A.style[V]=_}),Ss()&&ui(A))}function vs(A,g){A.style&&(g.forEach((c,_)=>{const P=Bs(_);A.style[P]=""}),Ss()&&ui(A))}function ea(A){return Array.isArray(A)?1==A.length?A[0]:(0,ce.vP)(A):A}const pa=new RegExp("{{\\s*(.+?)\\s*}}","g");function wu(A){let g=[];if("string"==typeof A){let c;for(;c=pa.exec(A);)g.push(c[1]);pa.lastIndex=0}return g}function br(A,g,c){const _=A.toString(),P=_.replace(pa,(V,Y)=>{let J=g[Y];return null==J&&(c.push(function An(A){return new E.vHH(3003,!1)}()),J=""),J.toString()});return P==_?A:P}function ga(A){const g=[];let c=A.next();for(;!c.done;)g.push(c.value),c=A.next();return g}const hn=/-+([a-z0-9])/g;function Bs(A){return A.replace(hn,(...g)=>g[1].toUpperCase())}function co(A){return A.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function li(A,g,c){switch(g.type){case 7:return A.visitTrigger(g,c);case 0:return A.visitState(g,c);case 1:return A.visitTransition(g,c);case 2:return A.visitSequence(g,c);case 3:return A.visitGroup(g,c);case 4:return A.visitAnimate(g,c);case 5:return A.visitKeyframes(g,c);case 6:return A.visitStyle(g,c);case 8:return A.visitReference(g,c);case 9:return A.visitAnimateChild(g,c);case 10:return A.visitAnimateRef(g,c);case 11:return A.visitQuery(g,c);case 12:return A.visitStagger(g,c);default:throw function bs(A){return new E.vHH(3004,!1)}()}}function Gn(A,g){return window.getComputedStyle(A)[g]}function qa(A,g){const c=[];return"string"==typeof A?A.split(/\s*,\s*/).forEach(_=>function fo(A,g,c){if(":"==A[0]){const Se=function ma(A,g){switch(A){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(c,_)=>parseFloat(_)>parseFloat(c);case":decrement":return(c,_)=>parseFloat(_)<parseFloat(c);default:return g.push(function Ei(A){return new E.vHH(3016,!1)}()),"* => *"}}(A,c);if("function"==typeof Se)return void g.push(Se);A=Se}const _=A.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==_||_.length<4)return c.push(function Qo(A){return new E.vHH(3015,!1)}()),g;const P=_[1],V=_[2],Y=_[3];g.push(ru(P,Y));"<"==V[0]&&!("*"==P&&"*"==Y)&&g.push(ru(Y,P))}(_,c,g)):c.push(A),c}const As=new Set(["true","1"]),Bi=new Set(["false","0"]);function ru(A,g){const c=As.has(A)||Bi.has(A),_=As.has(g)||Bi.has(g);return(P,V)=>{let Y="*"==A||A==P,J="*"==g||g==V;return!Y&&c&&"boolean"==typeof P&&(Y=P?As.has(A):Bi.has(A)),!J&&_&&"boolean"==typeof V&&(J=V?As.has(g):Bi.has(g)),Y&&J}}const Ya=new RegExp("s*:selfs*,?","g");function os(A,g,c,_){return new qe(A).build(g,c,_)}class qe{constructor(g){this._driver=g}build(g,c,_){const P=new zo(c);return this._resetContextStyleTimingState(P),li(this,ea(g),P)}_resetContextStyleTimingState(g){g.currentQuerySelector="",g.collectedStyles=new Map,g.collectedStyles.set("",new Map),g.currentTime=0}visitTrigger(g,c){let _=c.queryCount=0,P=c.depCount=0;const V=[],Y=[];return"@"==g.name.charAt(0)&&c.errors.push(function So(){return new E.vHH(3006,!1)}()),g.definitions.forEach(J=>{if(this._resetContextStyleTimingState(c),0==J.type){const Se=J,tt=Se.name;tt.toString().split(/\s*,\s*/).forEach(xt=>{Se.name=xt,V.push(this.visitState(Se,c))}),Se.name=tt}else if(1==J.type){const Se=this.visitTransition(J,c);_+=Se.queryCount,P+=Se.depCount,Y.push(Se)}else c.errors.push(function Pa(){return new E.vHH(3007,!1)}())}),{type:7,name:g.name,states:V,transitions:Y,queryCount:_,depCount:P,options:null}}visitState(g,c){const _=this.visitStyle(g.styles,c),P=g.options&&g.options.params||null;if(_.containsDynamicStyles){const V=new Set,Y=P||{};_.styles.forEach(J=>{J instanceof Map&&J.forEach(Se=>{wu(Se).forEach(tt=>{Y.hasOwnProperty(tt)||V.add(tt)})})}),V.size&&(ga(V.values()),c.errors.push(function Fi(A,g){return new E.vHH(3008,!1)}()))}return{type:0,name:g.name,style:_,options:P?{params:P}:null}}visitTransition(g,c){c.queryCount=0,c.depCount=0;const _=li(this,ea(g.animation),c);return{type:1,matchers:qa(g.expr,c.errors),animation:_,queryCount:c.queryCount,depCount:c.depCount,options:bi(g.options)}}visitSequence(g,c){return{type:2,steps:g.steps.map(_=>li(this,_,c)),options:bi(g.options)}}visitGroup(g,c){const _=c.currentTime;let P=0;const V=g.steps.map(Y=>{c.currentTime=_;const J=li(this,Y,c);return P=Math.max(P,c.currentTime),J});return c.currentTime=P,{type:3,steps:V,options:bi(g.options)}}visitAnimate(g,c){const _=function Gi(A,g){if(A.hasOwnProperty("duration"))return A;if("number"==typeof A)return _s(wn(A,g).duration,0,"");const c=A;if(c.split(/\s+/).some(V=>"{"==V.charAt(0)&&"{"==V.charAt(1))){const V=_s(0,0,"");return V.dynamic=!0,V.strValue=c,V}const P=wn(c,g);return _s(P.duration,P.delay,P.easing)}(g.timings,c.errors);c.currentAnimateTimings=_;let P,V=g.styles?g.styles:(0,ce.oB)({});if(5==V.type)P=this.visitKeyframes(V,c);else{let Y=g.styles,J=!1;if(!Y){J=!0;const tt={};_.easing&&(tt.easing=_.easing),Y=(0,ce.oB)(tt)}c.currentTime+=_.duration+_.delay;const Se=this.visitStyle(Y,c);Se.isEmptyStep=J,P=Se}return c.currentAnimateTimings=null,{type:4,timings:_,style:P,options:null}}visitStyle(g,c){const _=this._makeStyleAst(g,c);return this._validateStyleAst(_,c),_}_makeStyleAst(g,c){const _=[],P=Array.isArray(g.styles)?g.styles:[g.styles];for(let J of P)"string"==typeof J?J===ce.l3?_.push(J):c.errors.push(new E.vHH(3002,!1)):_.push(lt(J));let V=!1,Y=null;return _.forEach(J=>{if(J instanceof Map&&(J.has("easing")&&(Y=J.get("easing"),J.delete("easing")),!V))for(let Se of J.values())if(Se.toString().indexOf("{{")>=0){V=!0;break}}),{type:6,styles:_,easing:Y,offset:g.offset,containsDynamicStyles:V,options:null}}_validateStyleAst(g,c){const _=c.currentAnimateTimings;let P=c.currentTime,V=c.currentTime;_&&V>0&&(V-=_.duration+_.delay),g.styles.forEach(Y=>{"string"!=typeof Y&&Y.forEach((J,Se)=>{const tt=c.collectedStyles.get(c.currentQuerySelector),xt=tt.get(Se);let kt=!0;xt&&(V!=P&&V>=xt.startTime&&P<=xt.endTime&&(c.errors.push(function Dr(A,g,c,_,P){return new E.vHH(3010,!1)}()),kt=!1),V=xt.startTime),kt&&tt.set(Se,{startTime:V,endTime:P}),c.options&&function fa(A,g,c){const _=g.params||{},P=wu(A);P.length&&P.forEach(V=>{_.hasOwnProperty(V)||c.push(function Qr(A){return new E.vHH(3001,!1)}())})}(J,c.options,c.errors)})})}visitKeyframes(g,c){const _={type:5,styles:[],options:null};if(!c.currentAnimateTimings)return c.errors.push(function Et(){return new E.vHH(3011,!1)}()),_;let V=0;const Y=[];let J=!1,Se=!1,tt=0;const xt=g.steps.map(Hr=>{const Ri=this._makeStyleAst(Hr,c);let xs=null!=Ri.offset?Ri.offset:function na(A){if("string"==typeof A)return null;let g=null;if(Array.isArray(A))A.forEach(c=>{if(c instanceof Map&&c.has("offset")){const _=c;g=parseFloat(_.get("offset")),_.delete("offset")}});else if(A instanceof Map&&A.has("offset")){const c=A;g=parseFloat(c.get("offset")),c.delete("offset")}return g}(Ri.styles),qi=0;return null!=xs&&(V++,qi=Ri.offset=xs),Se=Se||qi<0||qi>1,J=J||qi<tt,tt=qi,Y.push(qi),Ri});Se&&c.errors.push(function Bn(){return new E.vHH(3012,!1)}()),J&&c.errors.push(function nu(){return new E.vHH(3200,!1)}());const kt=g.steps.length;let yn=0;V>0&&V<kt?c.errors.push(function Vo(){return new E.vHH(3202,!1)}()):0==V&&(yn=1/(kt-1));const Tn=kt-1,On=c.currentTime,zn=c.currentAnimateTimings,Rn=zn.duration;return xt.forEach((Hr,Ri)=>{const xs=yn>0?Ri==Tn?1:yn*Ri:Y[Ri],qi=xs*Rn;c.currentTime=On+zn.delay+qi,zn.duration=qi,this._validateStyleAst(Hr,c),Hr.offset=xs,_.styles.push(Hr)}),_}visitReference(g,c){return{type:8,animation:li(this,ea(g.animation),c),options:bi(g.options)}}visitAnimateChild(g,c){return c.depCount++,{type:9,options:bi(g.options)}}visitAnimateRef(g,c){return{type:10,animation:this.visitReference(g.animation,c),options:bi(g.options)}}visitQuery(g,c){const _=c.currentQuerySelector,P=g.options||{};c.queryCount++,c.currentQuery=g;const[V,Y]=function $s(A){const g=!!A.split(/\s*,\s*/).find(c=>":self"==c);return g&&(A=A.replace(Ya,"")),A=A.replace(/@\*/g,Mt).replace(/@\w+/g,c=>Mt+"-"+c.slice(1)).replace(/:animating/g,ys),[A,g]}(g.selector);c.currentQuerySelector=_.length?_+" "+V:V,gi(c.collectedStyles,c.currentQuerySelector,new Map);const J=li(this,ea(g.animation),c);return c.currentQuery=null,c.currentQuerySelector=_,{type:11,selector:V,limit:P.limit||0,optional:!!P.optional,includeSelf:Y,animation:J,originalSelector:g.selector,options:bi(g.options)}}visitStagger(g,c){c.currentQuery||c.errors.push(function ni(){return new E.vHH(3013,!1)}());const _="full"===g.timings?{duration:0,delay:0,easing:"full"}:wn(g.timings,c.errors,!0);return{type:12,animation:li(this,ea(g.animation),c),timings:_,options:null}}}class zo{constructor(g){this.errors=g,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function bi(A){return A?(A=Lt(A)).params&&(A.params=function Xr(A){return A?Lt(A):null}(A.params)):A={},A}function _s(A,g,c){return{duration:A,delay:g,easing:c}}function Tr(A,g,c,_,P,V,Y=null,J=!1){return{type:1,element:A,keyframes:g,preStyleProps:c,postStyleProps:_,duration:P,delay:V,totalTime:P+V,easing:Y,subTimeline:J}}class ka{constructor(){this._map=new Map}get(g){return this._map.get(g)||[]}append(g,c){let _=this._map.get(g);_||this._map.set(g,_=[]),_.push(...c)}has(g){return this._map.has(g)}clear(){this._map.clear()}}const Es=new RegExp(":enter","g"),js=new RegExp(":leave","g");function Lu(A,g,c,_,P,V=new Map,Y=new Map,J,Se,tt=[]){return(new kr).buildKeyframes(A,g,c,_,P,V,Y,J,Se,tt)}class kr{buildKeyframes(g,c,_,P,V,Y,J,Se,tt,xt=[]){tt=tt||new ka;const kt=new xi(g,c,tt,P,V,xt,[]);kt.options=Se;const yn=Se.delay?Cs(Se.delay):0;kt.currentTimeline.delayNextStep(yn),kt.currentTimeline.setStyles([Y],null,kt.errors,Se),li(this,_,kt);const Tn=kt.timelines.filter(On=>On.containsAnimation());if(Tn.length&&J.size){let On;for(let zn=Tn.length-1;zn>=0;zn--){const Rn=Tn[zn];if(Rn.element===c){On=Rn;break}}On&&!On.allowOnlyTimelineStyles()&&On.setStyles([J],null,kt.errors,Se)}return Tn.length?Tn.map(On=>On.buildKeyframes()):[Tr(c,[],[],[],0,yn,"",!1)]}visitTrigger(g,c){}visitState(g,c){}visitTransition(g,c){}visitAnimateChild(g,c){const _=c.subInstructions.get(c.element);if(_){const P=c.createSubContext(g.options),V=c.currentTimeline.currentTime,Y=this._visitSubInstructions(_,P,P.options);V!=Y&&c.transformIntoNewTimeline(Y)}c.previousNode=g}visitAnimateRef(g,c){const _=c.createSubContext(g.options);_.transformIntoNewTimeline(),this._applyAnimationRefDelays([g.options,g.animation.options],c,_),this.visitReference(g.animation,_),c.transformIntoNewTimeline(_.currentTimeline.currentTime),c.previousNode=g}_applyAnimationRefDelays(g,c,_){for(const P of g){const V=P?.delay;if(V){const Y="number"==typeof V?V:Cs(br(V,P?.params??{},c.errors));_.delayNextStep(Y)}}}_visitSubInstructions(g,c,_){let V=c.currentTimeline.currentTime;const Y=null!=_.duration?Cs(_.duration):null,J=null!=_.delay?Cs(_.delay):null;return 0!==Y&&g.forEach(Se=>{const tt=c.appendInstructionToTimeline(Se,Y,J);V=Math.max(V,tt.duration+tt.delay)}),V}visitReference(g,c){c.updateOptions(g.options,!0),li(this,g.animation,c),c.previousNode=g}visitSequence(g,c){const _=c.subContextCount;let P=c;const V=g.options;if(V&&(V.params||V.delay)&&(P=c.createSubContext(V),P.transformIntoNewTimeline(),null!=V.delay)){6==P.previousNode.type&&(P.currentTimeline.snapshotCurrentStyles(),P.previousNode=La);const Y=Cs(V.delay);P.delayNextStep(Y)}g.steps.length&&(g.steps.forEach(Y=>li(this,Y,P)),P.currentTimeline.applyStylesToKeyframe(),P.subContextCount>_&&P.transformIntoNewTimeline()),c.previousNode=g}visitGroup(g,c){const _=[];let P=c.currentTimeline.currentTime;const V=g.options&&g.options.delay?Cs(g.options.delay):0;g.steps.forEach(Y=>{const J=c.createSubContext(g.options);V&&J.delayNextStep(V),li(this,Y,J),P=Math.max(P,J.currentTimeline.currentTime),_.push(J.currentTimeline)}),_.forEach(Y=>c.currentTimeline.mergeTimelineCollectedStyles(Y)),c.transformIntoNewTimeline(P),c.previousNode=g}_visitTiming(g,c){if(g.dynamic){const _=g.strValue;return wn(c.params?br(_,c.params,c.errors):_,c.errors)}return{duration:g.duration,delay:g.delay,easing:g.easing}}visitAnimate(g,c){const _=c.currentAnimateTimings=this._visitTiming(g.timings,c),P=c.currentTimeline;_.delay&&(c.incrementTime(_.delay),P.snapshotCurrentStyles());const V=g.style;5==V.type?this.visitKeyframes(V,c):(c.incrementTime(_.duration),this.visitStyle(V,c),P.applyStylesToKeyframe()),c.currentAnimateTimings=null,c.previousNode=g}visitStyle(g,c){const _=c.currentTimeline,P=c.currentAnimateTimings;!P&&_.hasCurrentStyleProperties()&&_.forwardFrame();const V=P&&P.easing||g.easing;g.isEmptyStep?_.applyEmptyStep(V):_.setStyles(g.styles,V,c.errors,c.options),c.previousNode=g}visitKeyframes(g,c){const _=c.currentAnimateTimings,P=c.currentTimeline.duration,V=_.duration,J=c.createSubContext().currentTimeline;J.easing=_.easing,g.styles.forEach(Se=>{J.forwardTime((Se.offset||0)*V),J.setStyles(Se.styles,Se.easing,c.errors,c.options),J.applyStylesToKeyframe()}),c.currentTimeline.mergeTimelineCollectedStyles(J),c.transformIntoNewTimeline(P+V),c.previousNode=g}visitQuery(g,c){const _=c.currentTimeline.currentTime,P=g.options||{},V=P.delay?Cs(P.delay):0;V&&(6===c.previousNode.type||0==_&&c.currentTimeline.hasCurrentStyleProperties())&&(c.currentTimeline.snapshotCurrentStyles(),c.previousNode=La);let Y=_;const J=c.invokeQuery(g.selector,g.originalSelector,g.limit,g.includeSelf,!!P.optional,c.errors);c.currentQueryTotal=J.length;let Se=null;J.forEach((tt,xt)=>{c.currentQueryIndex=xt;const kt=c.createSubContext(g.options,tt);V&&kt.delayNextStep(V),tt===c.element&&(Se=kt.currentTimeline),li(this,g.animation,kt),kt.currentTimeline.applyStylesToKeyframe(),Y=Math.max(Y,kt.currentTimeline.currentTime)}),c.currentQueryIndex=0,c.currentQueryTotal=0,c.transformIntoNewTimeline(Y),Se&&(c.currentTimeline.mergeTimelineCollectedStyles(Se),c.currentTimeline.snapshotCurrentStyles()),c.previousNode=g}visitStagger(g,c){const _=c.parentContext,P=c.currentTimeline,V=g.timings,Y=Math.abs(V.duration),J=Y*(c.currentQueryTotal-1);let Se=Y*c.currentQueryIndex;switch(V.duration<0?"reverse":V.easing){case"reverse":Se=J-Se;break;case"full":Se=_.currentStaggerTime}const xt=c.currentTimeline;Se&&xt.delayNextStep(Se);const kt=xt.currentTime;li(this,g.animation,c),c.previousNode=g,_.currentStaggerTime=P.currentTime-kt+(P.startTime-_.currentTimeline.startTime)}}const La={};class xi{constructor(g,c,_,P,V,Y,J,Se){this._driver=g,this.element=c,this.subInstructions=_,this._enterClassName=P,this._leaveClassName=V,this.errors=Y,this.timelines=J,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=La,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Se||new xn(this._driver,c,0),J.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(g,c){if(!g)return;const _=g;let P=this.options;null!=_.duration&&(P.duration=Cs(_.duration)),null!=_.delay&&(P.delay=Cs(_.delay));const V=_.params;if(V){let Y=P.params;Y||(Y=this.options.params={}),Object.keys(V).forEach(J=>{(!c||!Y.hasOwnProperty(J))&&(Y[J]=br(V[J],Y,this.errors))})}}_copyOptions(){const g={};if(this.options){const c=this.options.params;if(c){const _=g.params={};Object.keys(c).forEach(P=>{_[P]=c[P]})}}return g}createSubContext(g=null,c,_){const P=c||this.element,V=new xi(this._driver,P,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(P,_||0));return V.previousNode=this.previousNode,V.currentAnimateTimings=this.currentAnimateTimings,V.options=this._copyOptions(),V.updateOptions(g),V.currentQueryIndex=this.currentQueryIndex,V.currentQueryTotal=this.currentQueryTotal,V.parentContext=this,this.subContextCount++,V}transformIntoNewTimeline(g){return this.previousNode=La,this.currentTimeline=this.currentTimeline.fork(this.element,g),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(g,c,_){const P={duration:c??g.duration,delay:this.currentTimeline.currentTime+(_??0)+g.delay,easing:""},V=new ya(this._driver,g.element,g.keyframes,g.preStyleProps,g.postStyleProps,P,g.stretchStartingKeyframe);return this.timelines.push(V),P}incrementTime(g){this.currentTimeline.forwardTime(this.currentTimeline.duration+g)}delayNextStep(g){g>0&&this.currentTimeline.delayNextStep(g)}invokeQuery(g,c,_,P,V,Y){let J=[];if(P&&J.push(this.element),g.length>0){g=(g=g.replace(Es,"."+this._enterClassName)).replace(js,"."+this._leaveClassName);let tt=this._driver.query(this.element,g,1!=_);0!==_&&(tt=_<0?tt.slice(tt.length+_,tt.length):tt.slice(0,_)),J.push(...tt)}return!V&&0==J.length&&Y.push(function To(A){return new E.vHH(3014,!1)}()),J}}class xn{constructor(g,c,_,P){this._driver=g,this.element=c,this.startTime=_,this._elementTimelineStylesLookup=P,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(c),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(c,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(g){const c=1===this._keyframes.size&&this._pendingStyles.size;this.duration||c?(this.forwardTime(this.currentTime+g),c&&this.snapshotCurrentStyles()):this.startTime+=g}fork(g,c){return this.applyStylesToKeyframe(),new xn(this._driver,g,c||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(g){this.applyStylesToKeyframe(),this.duration=g,this._loadKeyframe()}_updateStyle(g,c){this._localTimelineStyles.set(g,c),this._globalTimelineStyles.set(g,c),this._styleSummary.set(g,{time:this.currentTime,value:c})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(g){g&&this._previousKeyframe.set("easing",g);for(let[c,_]of this._globalTimelineStyles)this._backFill.set(c,_||ce.l3),this._currentKeyframe.set(c,ce.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(g,c,_,P){c&&this._previousKeyframe.set("easing",c);const V=P&&P.params||{},Y=function Ki(A,g){const c=new Map;let _;return A.forEach(P=>{if("*"===P){_=_||g.keys();for(let V of _)c.set(V,ce.l3)}else Us(P,c)}),c}(g,this._globalTimelineStyles);for(let[J,Se]of Y){const tt=br(Se,V,_);this._pendingStyles.set(J,tt),this._localTimelineStyles.has(J)||this._backFill.set(J,this._globalTimelineStyles.get(J)??ce.l3),this._updateStyle(J,tt)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((g,c)=>{this._currentKeyframe.set(c,g)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((g,c)=>{this._currentKeyframe.has(c)||this._currentKeyframe.set(c,g)}))}snapshotCurrentStyles(){for(let[g,c]of this._localTimelineStyles)this._pendingStyles.set(g,c),this._updateStyle(g,c)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const g=[];for(let c in this._currentKeyframe)g.push(c);return g}mergeTimelineCollectedStyles(g){g._styleSummary.forEach((c,_)=>{const P=this._styleSummary.get(_);(!P||c.time>P.time)&&this._updateStyle(_,c.value)})}buildKeyframes(){this.applyStylesToKeyframe();const g=new Set,c=new Set,_=1===this._keyframes.size&&0===this.duration;let P=[];this._keyframes.forEach((J,Se)=>{const tt=Us(J,new Map,this._backFill);tt.forEach((xt,kt)=>{xt===ce.k1?g.add(kt):xt===ce.l3&&c.add(kt)}),_||tt.set("offset",Se/this.duration),P.push(tt)});const V=g.size?ga(g.values()):[],Y=c.size?ga(c.values()):[];if(_){const J=P[0],Se=new Map(J);J.set("offset",0),Se.set("offset",1),P=[J,Se]}return Tr(this.element,P,V,Y,this.duration,this.startTime,this.easing,!1)}}class ya extends xn{constructor(g,c,_,P,V,Y,J=!1){super(g,c,Y.delay),this.keyframes=_,this.preStyleProps=P,this.postStyleProps=V,this._stretchStartingKeyframe=J,this.timings={duration:Y.duration,delay:Y.delay,easing:Y.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let g=this.keyframes,{delay:c,duration:_,easing:P}=this.timings;if(this._stretchStartingKeyframe&&c){const V=[],Y=_+c,J=c/Y,Se=Us(g[0]);Se.set("offset",0),V.push(Se);const tt=Us(g[0]);tt.set("offset",po(J)),V.push(tt);const xt=g.length-1;for(let kt=1;kt<=xt;kt++){let yn=Us(g[kt]);const Tn=yn.get("offset");yn.set("offset",po((c+Tn*_)/Y)),V.push(yn)}_=Y,c=0,P="",g=V}return Tr(this.element,g,this.preStyleProps,this.postStyleProps,_,c,P,!0)}}function po(A,g=3){const c=Math.pow(10,g-1);return Math.round(A*c)/c}class cr{}const Hs=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Lr extends cr{normalizePropertyName(g,c){return Bs(g)}normalizeStyleValue(g,c,_,P){let V="";const Y=_.toString().trim();if(Hs.has(c)&&0!==_&&"0"!==_)if("number"==typeof _)V="px";else{const J=_.match(/^[+-]?[\d\.]+([a-z]*)$/);J&&0==J[1].length&&P.push(function Bo(A,g){return new E.vHH(3005,!1)}())}return Y+V}}function D(A,g,c,_,P,V,Y,J,Se,tt,xt,kt,yn){return{type:0,element:A,triggerName:g,isRemovalTransition:P,fromState:c,fromStyles:V,toState:_,toStyles:Y,timelines:J,queriedElements:Se,preStyleProps:tt,postStyleProps:xt,totalTime:kt,errors:yn}}const b={};class w{constructor(g,c,_){this._triggerName=g,this.ast=c,this._stateStyles=_}match(g,c,_,P){return function L(A,g,c,_,P){return A.some(V=>V(g,c,_,P))}(this.ast.matchers,g,c,_,P)}buildStyles(g,c,_){let P=this._stateStyles.get("*");return void 0!==g&&(P=this._stateStyles.get(g?.toString())||P),P?P.buildStyles(c,_):new Map}build(g,c,_,P,V,Y,J,Se,tt,xt){const kt=[],yn=this.ast.options&&this.ast.options.params||b,On=this.buildStyles(_,J&&J.params||b,kt),zn=Se&&Se.params||b,Rn=this.buildStyles(P,zn,kt),Hr=new Set,Ri=new Map,xs=new Map,qi="void"===P,wa={params:q(zn,yn),delay:this.ast.options?.delay},Da=xt?[]:Lu(g,c,this.ast.animation,V,Y,On,Rn,wa,tt,kt);let I=0;if(Da.forEach(p=>{I=Math.max(p.duration+p.delay,I)}),kt.length)return D(c,this._triggerName,_,P,qi,On,Rn,[],[],Ri,xs,I,kt);Da.forEach(p=>{const T=p.element,W=gi(Ri,T,new Set);p.preStyleProps.forEach(je=>W.add(je));const ee=gi(xs,T,new Set);p.postStyleProps.forEach(je=>ee.add(je)),T!==c&&Hr.add(T)});const f=ga(Hr.values());return D(c,this._triggerName,_,P,qi,On,Rn,Da,f,Ri,xs,I)}}function q(A,g){const c=Lt(g);for(const _ in A)A.hasOwnProperty(_)&&null!=A[_]&&(c[_]=A[_]);return c}class pe{constructor(g,c,_){this.styles=g,this.defaultParams=c,this.normalizer=_}buildStyles(g,c){const _=new Map,P=Lt(this.defaultParams);return Object.keys(g).forEach(V=>{const Y=g[V];null!==Y&&(P[V]=Y)}),this.styles.styles.forEach(V=>{"string"!=typeof V&&V.forEach((Y,J)=>{Y&&(Y=br(Y,P,c));const Se=this.normalizer.normalizePropertyName(J,c);Y=this.normalizer.normalizeStyleValue(J,Se,Y,c),_.set(Se,Y)})}),_}}class dt{constructor(g,c,_){this.name=g,this.ast=c,this._normalizer=_,this.transitionFactories=[],this.states=new Map,c.states.forEach(P=>{this.states.set(P.name,new pe(P.style,P.options&&P.options.params||{},_))}),Nn(this.states,"true","1"),Nn(this.states,"false","0"),c.transitions.forEach(P=>{this.transitionFactories.push(new w(g,P,this.states))}),this.fallbackTransition=function Ot(A,g,c){return new w(A,{type:1,animation:{type:2,steps:[],options:null},matchers:[(Y,J)=>!0],options:null,queryCount:0,depCount:0},g)}(g,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(g,c,_,P){return this.transitionFactories.find(Y=>Y.match(g,c,_,P))||null}matchStyles(g,c,_){return this.fallbackTransition.buildStyles(g,c,_)}}function Nn(A,g,c){A.has(g)?A.has(c)||A.set(c,A.get(g)):A.has(c)&&A.set(g,A.get(c))}const qt=new ka;class Kn{constructor(g,c,_){this.bodyNode=g,this._driver=c,this._normalizer=_,this._animations=new Map,this._playersById=new Map,this.players=[]}register(g,c){const _=[],V=os(this._driver,c,_,[]);if(_.length)throw function Co(A){return new E.vHH(3503,!1)}();this._animations.set(g,V)}_buildPlayer(g,c,_){const P=g.element,V=is(0,this._normalizer,0,g.keyframes,c,_);return this._driver.animate(P,V,g.duration,g.delay,g.easing,[],!0)}create(g,c,_={}){const P=[],V=this._animations.get(g);let Y;const J=new Map;if(V?(Y=Lu(this._driver,c,V,Wr,ai,new Map,new Map,_,qt,P),Y.forEach(xt=>{const kt=gi(J,xt.element,new Map);xt.postStyleProps.forEach(yn=>kt.set(yn,null))})):(P.push(function gs(){return new E.vHH(3300,!1)}()),Y=[]),P.length)throw function ri(A){return new E.vHH(3504,!1)}();J.forEach((xt,kt)=>{xt.forEach((yn,Tn)=>{xt.set(Tn,this._driver.computeStyle(kt,Tn,ce.l3))})});const tt=Wi(Y.map(xt=>{const kt=J.get(xt.element);return this._buildPlayer(xt,new Map,kt)}));return this._playersById.set(g,tt),tt.onDestroy(()=>this.destroy(g)),this.players.push(tt),tt}destroy(g){const c=this._getPlayer(g);c.destroy(),this._playersById.delete(g);const _=this.players.indexOf(c);_>=0&&this.players.splice(_,1)}_getPlayer(g){const c=this._playersById.get(g);if(!c)throw function ns(A){return new E.vHH(3301,!1)}();return c}listen(g,c,_,P){const V=Fs(c,"","","");return Xo(this._getPlayer(g),_,V,P),()=>{}}command(g,c,_,P){if("register"==_)return void this.register(g,P[0]);if("create"==_)return void this.create(g,c,P[0]||{});const V=this._getPlayer(g);switch(_){case"play":V.play();break;case"pause":V.pause();break;case"reset":V.reset();break;case"restart":V.restart();break;case"finish":V.finish();break;case"init":V.init();break;case"setPosition":V.setPosition(parseFloat(P[0]));break;case"destroy":this.destroy(g)}}}const ei="ng-animate-queued",as="ng-animate-disabled",va=[],ra={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Oo={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ls="__ng_removed";class No{constructor(g,c=""){this.namespaceId=c;const _=g&&g.hasOwnProperty("value");if(this.value=function Vi(A){return A??null}(_?g.value:g),_){const V=Lt(g);delete V.value,this.options=V}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(g){const c=g.params;if(c){const _=this.options.params;Object.keys(c).forEach(P=>{null==_[P]&&(_[P]=c[P])})}}}const ko="void",go=new No(ko);class El{constructor(g,c,_){this.id=g,this.hostElement=c,this._engine=_,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+g,G(c,this._hostClassName)}listen(g,c,_,P){if(!this._triggers.has(c))throw function uo(A,g){return new E.vHH(3302,!1)}();if(null==_||0==_.length)throw function $o(A){return new E.vHH(3303,!1)}();if(!function Fr(A){return"start"==A||"done"==A}(_))throw function rs(A,g){return new E.vHH(3400,!1)}();const V=gi(this._elementListeners,g,[]),Y={name:c,phase:_,callback:P};V.push(Y);const J=gi(this._engine.statesByElement,g,new Map);return J.has(c)||(G(g,xo),G(g,xo+"-"+c),J.set(c,go)),()=>{this._engine.afterFlush(()=>{const Se=V.indexOf(Y);Se>=0&&V.splice(Se,1),this._triggers.has(c)||J.delete(c)})}}register(g,c){return!this._triggers.has(g)&&(this._triggers.set(g,c),!0)}_getTrigger(g){const c=this._triggers.get(g);if(!c)throw function Ka(A){return new E.vHH(3401,!1)}();return c}trigger(g,c,_,P=!0){const V=this._getTrigger(c),Y=new _a(this.id,c,g);let J=this._engine.statesByElement.get(g);J||(G(g,xo),G(g,xo+"-"+c),this._engine.statesByElement.set(g,J=new Map));let Se=J.get(c);const tt=new No(_,this.id);if(!(_&&_.hasOwnProperty("value"))&&Se&&tt.absorbOptions(Se.options),J.set(c,tt),Se||(Se=go),tt.value!==ko&&Se.value===tt.value){if(!function Ht(A,g){const c=Object.keys(A),_=Object.keys(g);if(c.length!=_.length)return!1;for(let P=0;P<c.length;P++){const V=c[P];if(!g.hasOwnProperty(V)||A[V]!==g[V])return!1}return!0}(Se.params,tt.params)){const zn=[],Rn=V.matchStyles(Se.value,Se.params,zn),Hr=V.matchStyles(tt.value,tt.params,zn);zn.length?this._engine.reportError(zn):this._engine.afterFlush(()=>{vs(g,Rn),lo(g,Hr)})}return}const yn=gi(this._engine.playersByElement,g,[]);yn.forEach(zn=>{zn.namespaceId==this.id&&zn.triggerName==c&&zn.queued&&zn.destroy()});let Tn=V.matchTransition(Se.value,tt.value,g,tt.params),On=!1;if(!Tn){if(!P)return;Tn=V.fallbackTransition,On=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:g,triggerName:c,transition:Tn,fromState:Se,toState:tt,player:Y,isFallbackTransition:On}),On||(G(g,ei),Y.onStart(()=>{me(g,ei)})),Y.onDone(()=>{let zn=this.players.indexOf(Y);zn>=0&&this.players.splice(zn,1);const Rn=this._engine.playersByElement.get(g);if(Rn){let Hr=Rn.indexOf(Y);Hr>=0&&Rn.splice(Hr,1)}}),this.players.push(Y),yn.push(Y),Y}deregister(g){this._triggers.delete(g),this._engine.statesByElement.forEach(c=>c.delete(g)),this._elementListeners.forEach((c,_)=>{this._elementListeners.set(_,c.filter(P=>P.name!=g))})}clearElementCache(g){this._engine.statesByElement.delete(g),this._elementListeners.delete(g);const c=this._engine.playersByElement.get(g);c&&(c.forEach(_=>_.destroy()),this._engine.playersByElement.delete(g))}_signalRemovalForInnerTriggers(g,c){const _=this._engine.driver.query(g,Mt,!0);_.forEach(P=>{if(P[ls])return;const V=this._engine.fetchNamespacesByElement(P);V.size?V.forEach(Y=>Y.triggerLeaveAnimation(P,c,!1,!0)):this.clearElementCache(P)}),this._engine.afterFlushAnimationsDone(()=>_.forEach(P=>this.clearElementCache(P)))}triggerLeaveAnimation(g,c,_,P){const V=this._engine.statesByElement.get(g),Y=new Map;if(V){const J=[];if(V.forEach((Se,tt)=>{if(Y.set(tt,Se.value),this._triggers.has(tt)){const xt=this.trigger(g,tt,ko,P);xt&&J.push(xt)}}),J.length)return this._engine.markElementAsRemoved(this.id,g,!0,c,Y),_&&Wi(J).onDone(()=>this._engine.processLeaveNode(g)),!0}return!1}prepareLeaveAnimationListeners(g){const c=this._elementListeners.get(g),_=this._engine.statesByElement.get(g);if(c&&_){const P=new Set;c.forEach(V=>{const Y=V.name;if(P.has(Y))return;P.add(Y);const Se=this._triggers.get(Y).fallbackTransition,tt=_.get(Y)||go,xt=new No(ko),kt=new _a(this.id,Y,g);this._engine.totalQueuedPlayers++,this._queue.push({element:g,triggerName:Y,transition:Se,fromState:tt,toState:xt,player:kt,isFallbackTransition:!0})})}}removeNode(g,c){const _=this._engine;if(g.childElementCount&&this._signalRemovalForInnerTriggers(g,c),this.triggerLeaveAnimation(g,c,!0))return;let P=!1;if(_.totalAnimations){const V=_.players.length?_.playersByQueriedElement.get(g):[];if(V&&V.length)P=!0;else{let Y=g;for(;Y=Y.parentNode;)if(_.statesByElement.get(Y)){P=!0;break}}}if(this.prepareLeaveAnimationListeners(g),P)_.markElementAsRemoved(this.id,g,!1,c);else{const V=g[ls];(!V||V===ra)&&(_.afterFlush(()=>this.clearElementCache(g)),_.destroyInnerAnimations(g),_._onRemovalComplete(g,c))}}insertNode(g,c){G(g,this._hostClassName)}drainQueuedTransitions(g){const c=[];return this._queue.forEach(_=>{const P=_.player;if(P.destroyed)return;const V=_.element,Y=this._elementListeners.get(V);Y&&Y.forEach(J=>{if(J.name==_.triggerName){const Se=Fs(V,_.triggerName,_.fromState.value,_.toState.value);Se._data=g,Xo(_.player,J.phase,Se,J.callback)}}),P.markedForDestroy?this._engine.afterFlush(()=>{P.destroy()}):c.push(_)}),this._queue=[],c.sort((_,P)=>{const V=_.transition.ast.depCount,Y=P.transition.ast.depCount;return 0==V||0==Y?V-Y:this._engine.driver.containsElement(_.element,P.element)?1:-1})}destroy(g){this.players.forEach(c=>c.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,g)}elementContainsData(g){let c=!1;return this._elementListeners.has(g)&&(c=!0),c=!!this._queue.find(_=>_.element===g)||c,c}}class ia{constructor(g,c,_){this.bodyNode=g,this.driver=c,this._normalizer=_,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(P,V)=>{}}_onRemovalComplete(g,c){this.onRemovalComplete(g,c)}get queuedPlayers(){const g=[];return this._namespaceList.forEach(c=>{c.players.forEach(_=>{_.queued&&g.push(_)})}),g}createNamespace(g,c){const _=new El(g,c,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,c)?this._balanceNamespaceList(_,c):(this.newHostElements.set(c,_),this.collectEnterElement(c)),this._namespaceLookup[g]=_}_balanceNamespaceList(g,c){const _=this._namespaceList,P=this.namespacesByHostElement;if(_.length-1>=0){let Y=!1,J=this.driver.getParentElement(c);for(;J;){const Se=P.get(J);if(Se){const tt=_.indexOf(Se);_.splice(tt+1,0,g),Y=!0;break}J=this.driver.getParentElement(J)}Y||_.unshift(g)}else _.push(g);return P.set(c,g),g}register(g,c){let _=this._namespaceLookup[g];return _||(_=this.createNamespace(g,c)),_}registerTrigger(g,c,_){let P=this._namespaceLookup[g];P&&P.register(c,_)&&this.totalAnimations++}destroy(g,c){if(!g)return;const _=this._fetchNamespace(g);this.afterFlush(()=>{this.namespacesByHostElement.delete(_.hostElement),delete this._namespaceLookup[g];const P=this._namespaceList.indexOf(_);P>=0&&this._namespaceList.splice(P,1)}),this.afterFlushAnimationsDone(()=>_.destroy(c))}_fetchNamespace(g){return this._namespaceLookup[g]}fetchNamespacesByElement(g){const c=new Set,_=this.statesByElement.get(g);if(_)for(let P of _.values())if(P.namespaceId){const V=this._fetchNamespace(P.namespaceId);V&&c.add(V)}return c}trigger(g,c,_,P){if(ii(c)){const V=this._fetchNamespace(g);if(V)return V.trigger(c,_,P),!0}return!1}insertNode(g,c,_,P){if(!ii(c))return;const V=c[ls];if(V&&V.setForRemoval){V.setForRemoval=!1,V.setForMove=!0;const Y=this.collectedLeaveElements.indexOf(c);Y>=0&&this.collectedLeaveElements.splice(Y,1)}if(g){const Y=this._fetchNamespace(g);Y&&Y.insertNode(c,_)}P&&this.collectEnterElement(c)}collectEnterElement(g){this.collectedEnterElements.push(g)}markElementAsDisabled(g,c){c?this.disabledNodes.has(g)||(this.disabledNodes.add(g),G(g,as)):this.disabledNodes.has(g)&&(this.disabledNodes.delete(g),me(g,as))}removeNode(g,c,_,P){if(ii(c)){const V=g?this._fetchNamespace(g):null;if(V?V.removeNode(c,P):this.markElementAsRemoved(g,c,!1,P),_){const Y=this.namespacesByHostElement.get(c);Y&&Y.id!==g&&Y.removeNode(c,P)}}else this._onRemovalComplete(c,P)}markElementAsRemoved(g,c,_,P,V){this.collectedLeaveElements.push(c),c[ls]={namespaceId:g,setForRemoval:P,hasAnimation:_,removedBeforeQueried:!1,previousTriggersValues:V}}listen(g,c,_,P,V){return ii(c)?this._fetchNamespace(g).listen(c,_,P,V):()=>{}}_buildInstruction(g,c,_,P,V){return g.transition.build(this.driver,g.element,g.fromState.value,g.toState.value,_,P,g.fromState.options,g.toState.options,c,V)}destroyInnerAnimations(g){let c=this.driver.query(g,Mt,!0);c.forEach(_=>this.destroyActiveAnimationsForElement(_)),0!=this.playersByQueriedElement.size&&(c=this.driver.query(g,ys,!0),c.forEach(_=>this.finishActiveQueriedAnimationOnElement(_)))}destroyActiveAnimationsForElement(g){const c=this.playersByElement.get(g);c&&c.forEach(_=>{_.queued?_.markedForDestroy=!0:_.destroy()})}finishActiveQueriedAnimationOnElement(g){const c=this.playersByQueriedElement.get(g);c&&c.forEach(_=>_.finish())}whenRenderingDone(){return new Promise(g=>{if(this.players.length)return Wi(this.players).onDone(()=>g());g()})}processLeaveNode(g){const c=g[ls];if(c&&c.setForRemoval){if(g[ls]=ra,c.namespaceId){this.destroyInnerAnimations(g);const _=this._fetchNamespace(c.namespaceId);_&&_.clearElementCache(g)}this._onRemovalComplete(g,c.setForRemoval)}g.classList?.contains(as)&&this.markElementAsDisabled(g,!1),this.driver.query(g,".ng-animate-disabled",!0).forEach(_=>{this.markElementAsDisabled(_,!1)})}flush(g=-1){let c=[];if(this.newHostElements.size&&(this.newHostElements.forEach((_,P)=>this._balanceNamespaceList(_,P)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let _=0;_<this.collectedEnterElements.length;_++)G(this.collectedEnterElements[_],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const _=[];try{c=this._flushAnimations(_,g)}finally{for(let P=0;P<_.length;P++)_[P]()}}else for(let _=0;_<this.collectedLeaveElements.length;_++)this.processLeaveNode(this.collectedLeaveElements[_]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(_=>_()),this._flushFns=[],this._whenQuietFns.length){const _=this._whenQuietFns;this._whenQuietFns=[],c.length?Wi(c).onDone(()=>{_.forEach(P=>P())}):_.forEach(P=>P())}}reportError(g){throw function ha(A){return new E.vHH(3402,!1)}()}_flushAnimations(g,c){const _=new ka,P=[],V=new Map,Y=[],J=new Map,Se=new Map,tt=new Map,xt=new Set;this.disabledNodes.forEach(ht=>{xt.add(ht);const gt=this.driver.query(ht,".ng-animate-queued",!0);for(let Xt=0;Xt<gt.length;Xt++)xt.add(gt[Xt])});const kt=this.bodyNode,yn=Array.from(this.statesByElement.keys()),Tn=F(yn,this.collectedEnterElements),On=new Map;let zn=0;Tn.forEach((ht,gt)=>{const Xt=Wr+zn++;On.set(gt,Xt),ht.forEach(Wn=>G(Wn,Xt))});const Rn=[],Hr=new Set,Ri=new Set;for(let ht=0;ht<this.collectedLeaveElements.length;ht++){const gt=this.collectedLeaveElements[ht],Xt=gt[ls];Xt&&Xt.setForRemoval&&(Rn.push(gt),Hr.add(gt),Xt.hasAnimation?this.driver.query(gt,".ng-star-inserted",!0).forEach(Wn=>Hr.add(Wn)):Ri.add(gt))}const xs=new Map,qi=F(yn,Array.from(Hr));qi.forEach((ht,gt)=>{const Xt=ai+zn++;xs.set(gt,Xt),ht.forEach(Wn=>G(Wn,Xt))}),g.push(()=>{Tn.forEach((ht,gt)=>{const Xt=On.get(gt);ht.forEach(Wn=>me(Wn,Xt))}),qi.forEach((ht,gt)=>{const Xt=xs.get(gt);ht.forEach(Wn=>me(Wn,Xt))}),Rn.forEach(ht=>{this.processLeaveNode(ht)})});const wa=[],Da=[];for(let ht=this._namespaceList.length-1;ht>=0;ht--)this._namespaceList[ht].drainQueuedTransitions(c).forEach(Xt=>{const Wn=Xt.player,Ur=Xt.element;if(wa.push(Wn),this.collectedEnterElements.length){const Yi=Ur[ls];if(Yi&&Yi.setForMove){if(Yi.previousTriggersValues&&Yi.previousTriggersValues.has(Xt.triggerName)){const Ws=Yi.previousTriggersValues.get(Xt.triggerName),Gs=this.statesByElement.get(Xt.element);if(Gs&&Gs.has(Xt.triggerName)){const lu=Gs.get(Xt.triggerName);lu.value=Ws,Gs.set(Xt.triggerName,lu)}}return void Wn.destroy()}}const Go=!kt||!this.driver.containsElement(kt,Ur),Gr=xs.get(Ur),oa=On.get(Ur),Kr=this._buildInstruction(Xt,_,oa,Gr,Go);if(Kr.errors&&Kr.errors.length)return void Da.push(Kr);if(Go)return Wn.onStart(()=>vs(Ur,Kr.fromStyles)),Wn.onDestroy(()=>lo(Ur,Kr.toStyles)),void P.push(Wn);if(Xt.isFallbackTransition)return Wn.onStart(()=>vs(Ur,Kr.fromStyles)),Wn.onDestroy(()=>lo(Ur,Kr.toStyles)),void P.push(Wn);const rl=[];Kr.timelines.forEach(Yi=>{Yi.stretchStartingKeyframe=!0,this.disabledNodes.has(Yi.element)||rl.push(Yi)}),Kr.timelines=rl,_.append(Ur,Kr.timelines),Y.push({instruction:Kr,player:Wn,element:Ur}),Kr.queriedElements.forEach(Yi=>gi(J,Yi,[]).push(Wn)),Kr.preStyleProps.forEach((Yi,Ws)=>{if(Yi.size){let Gs=Se.get(Ws);Gs||Se.set(Ws,Gs=new Set),Yi.forEach((lu,qn)=>Gs.add(qn))}}),Kr.postStyleProps.forEach((Yi,Ws)=>{let Gs=tt.get(Ws);Gs||tt.set(Ws,Gs=new Set),Yi.forEach((lu,qn)=>Gs.add(qn))})});if(Da.length){const ht=[];Da.forEach(gt=>{ht.push(function Oa(A,g){return new E.vHH(3505,!1)}())}),wa.forEach(gt=>gt.destroy()),this.reportError(ht)}const I=new Map,f=new Map;Y.forEach(ht=>{const gt=ht.element;_.has(gt)&&(f.set(gt,gt),this._beforeAnimationBuild(ht.player.namespaceId,ht.instruction,I))}),P.forEach(ht=>{const gt=ht.element;this._getPreviousPlayers(gt,!1,ht.namespaceId,ht.triggerName,null).forEach(Wn=>{gi(I,gt,[]).push(Wn),Wn.destroy()})});const p=Rn.filter(ht=>Qt(ht,Se,tt)),T=new Map;O(T,this.driver,Ri,tt,ce.l3).forEach(ht=>{Qt(ht,Se,tt)&&p.push(ht)});const ee=new Map;Tn.forEach((ht,gt)=>{O(ee,this.driver,new Set(ht),Se,ce.k1)}),p.forEach(ht=>{const gt=T.get(ht),Xt=ee.get(ht);T.set(ht,new Map([...Array.from(gt?.entries()??[]),...Array.from(Xt?.entries()??[])]))});const je=[],wt=[],on={};Y.forEach(ht=>{const{element:gt,player:Xt,instruction:Wn}=ht;if(_.has(gt)){if(xt.has(gt))return Xt.onDestroy(()=>lo(gt,Wn.toStyles)),Xt.disabled=!0,Xt.overrideTotalTime(Wn.totalTime),void P.push(Xt);let Ur=on;if(f.size>1){let Gr=gt;const oa=[];for(;Gr=Gr.parentNode;){const Kr=f.get(Gr);if(Kr){Ur=Kr;break}oa.push(Gr)}oa.forEach(Kr=>f.set(Kr,Ur))}const Go=this._buildAnimation(Xt.namespaceId,Wn,I,V,ee,T);if(Xt.setRealPlayer(Go),Ur===on)je.push(Xt);else{const Gr=this.playersByElement.get(Ur);Gr&&Gr.length&&(Xt.parentPlayer=Wi(Gr)),P.push(Xt)}}else vs(gt,Wn.fromStyles),Xt.onDestroy(()=>lo(gt,Wn.toStyles)),wt.push(Xt),xt.has(gt)&&P.push(Xt)}),wt.forEach(ht=>{const gt=V.get(ht.element);if(gt&&gt.length){const Xt=Wi(gt);ht.setRealPlayer(Xt)}}),P.forEach(ht=>{ht.parentPlayer?ht.syncPlayerEvents(ht.parentPlayer):ht.destroy()});for(let ht=0;ht<Rn.length;ht++){const gt=Rn[ht],Xt=gt[ls];if(me(gt,ai),Xt&&Xt.hasAnimation)continue;let Wn=[];if(J.size){let Go=J.get(gt);Go&&Go.length&&Wn.push(...Go);let Gr=this.driver.query(gt,ys,!0);for(let oa=0;oa<Gr.length;oa++){let Kr=J.get(Gr[oa]);Kr&&Kr.length&&Wn.push(...Kr)}}const Ur=Wn.filter(Go=>!Go.destroyed);Ur.length?Ve(this,gt,Ur):this.processLeaveNode(gt)}return Rn.length=0,je.forEach(ht=>{this.players.push(ht),ht.onDone(()=>{ht.destroy();const gt=this.players.indexOf(ht);this.players.splice(gt,1)}),ht.play()}),je}elementContainsData(g,c){let _=!1;const P=c[ls];return P&&P.setForRemoval&&(_=!0),this.playersByElement.has(c)&&(_=!0),this.playersByQueriedElement.has(c)&&(_=!0),this.statesByElement.has(c)&&(_=!0),this._fetchNamespace(g).elementContainsData(c)||_}afterFlush(g){this._flushFns.push(g)}afterFlushAnimationsDone(g){this._whenQuietFns.push(g)}_getPreviousPlayers(g,c,_,P,V){let Y=[];if(c){const J=this.playersByQueriedElement.get(g);J&&(Y=J)}else{const J=this.playersByElement.get(g);if(J){const Se=!V||V==ko;J.forEach(tt=>{tt.queued||!Se&&tt.triggerName!=P||Y.push(tt)})}}return(_||P)&&(Y=Y.filter(J=>!(_&&_!=J.namespaceId||P&&P!=J.triggerName))),Y}_beforeAnimationBuild(g,c,_){const V=c.element,Y=c.isRemovalTransition?void 0:g,J=c.isRemovalTransition?void 0:c.triggerName;for(const Se of c.timelines){const tt=Se.element,xt=tt!==V,kt=gi(_,tt,[]);this._getPreviousPlayers(tt,xt,Y,J,c.toState).forEach(Tn=>{const On=Tn.getRealPlayer();On.beforeDestroy&&On.beforeDestroy(),Tn.destroy(),kt.push(Tn)})}vs(V,c.fromStyles)}_buildAnimation(g,c,_,P,V,Y){const J=c.triggerName,Se=c.element,tt=[],xt=new Set,kt=new Set,yn=c.timelines.map(On=>{const zn=On.element;xt.add(zn);const Rn=zn[ls];if(Rn&&Rn.removedBeforeQueried)return new ce.ZN(On.duration,On.delay);const Hr=zn!==Se,Ri=function ut(A){const g=[];return St(A,g),g}((_.get(zn)||va).map(I=>I.getRealPlayer())).filter(I=>!!I.element&&I.element===zn),xs=V.get(zn),qi=Y.get(zn),wa=is(0,this._normalizer,0,On.keyframes,xs,qi),Da=this._buildPlayer(On,wa,Ri);if(On.subTimeline&&P&&kt.add(zn),Hr){const I=new _a(g,J,zn);I.setRealPlayer(Da),tt.push(I)}return Da});tt.forEach(On=>{gi(this.playersByQueriedElement,On.element,[]).push(On),On.onDone(()=>function Ua(A,g,c){let _=A.get(g);if(_){if(_.length){const P=_.indexOf(c);_.splice(P,1)}0==_.length&&A.delete(g)}return _}(this.playersByQueriedElement,On.element,On))}),xt.forEach(On=>G(On,Vn));const Tn=Wi(yn);return Tn.onDestroy(()=>{xt.forEach(On=>me(On,Vn)),lo(Se,c.toStyles)}),kt.forEach(On=>{gi(P,On,[]).push(Tn)}),Tn}_buildPlayer(g,c,_){return c.length>0?this.driver.animate(g.element,c,g.duration,g.delay,g.easing,_):new ce.ZN(g.duration,g.delay)}}class _a{constructor(g,c,_){this.namespaceId=g,this.triggerName=c,this.element=_,this._player=new ce.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(g){this._containsRealPlayer||(this._player=g,this._queuedCallbacks.forEach((c,_)=>{c.forEach(P=>Xo(g,_,void 0,P))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(g.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(g){this.totalTime=g}syncPlayerEvents(g){const c=this._player;c.triggerCallback&&g.onStart(()=>c.triggerCallback("start")),g.onDone(()=>this.finish()),g.onDestroy(()=>this.destroy())}_queueEvent(g,c){gi(this._queuedCallbacks,g,[]).push(c)}onDone(g){this.queued&&this._queueEvent("done",g),this._player.onDone(g)}onStart(g){this.queued&&this._queueEvent("start",g),this._player.onStart(g)}onDestroy(g){this.queued&&this._queueEvent("destroy",g),this._player.onDestroy(g)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(g){this.queued||this._player.setPosition(g)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(g){const c=this._player;c.triggerCallback&&c.triggerCallback(g)}}function ii(A){return A&&1===A.nodeType}function Uu(A,g){const c=A.style.display;return A.style.display=g??"none",c}function O(A,g,c,_,P){const V=[];c.forEach(Se=>V.push(Uu(Se)));const Y=[];_.forEach((Se,tt)=>{const xt=new Map;Se.forEach(kt=>{const yn=g.computeStyle(tt,kt,P);xt.set(kt,yn),(!yn||0==yn.length)&&(tt[ls]=Oo,Y.push(tt))}),A.set(tt,xt)});let J=0;return c.forEach(Se=>Uu(Se,V[J++])),Y}function F(A,g){const c=new Map;if(A.forEach(J=>c.set(J,[])),0==g.length)return c;const P=new Set(g),V=new Map;function Y(J){if(!J)return 1;let Se=V.get(J);if(Se)return Se;const tt=J.parentNode;return Se=c.has(tt)?tt:P.has(tt)?1:Y(tt),V.set(J,Se),Se}return g.forEach(J=>{const Se=Y(J);1!==Se&&c.get(Se).push(J)}),c}function G(A,g){A.classList?.add(g)}function me(A,g){A.classList?.remove(g)}function Ve(A,g,c){Wi(c).onDone(()=>A.processLeaveNode(g))}function St(A,g){for(let c=0;c<A.length;c++){const _=A[c];_ instanceof ce.ZE?St(_.players,g):g.push(_)}}function Qt(A,g,c){const _=c.get(A);if(!_)return!1;let P=g.get(A);return P?_.forEach(V=>P.add(V)):g.set(A,_),c.delete(A),!0}class Ln{constructor(g,c,_){this.bodyNode=g,this._driver=c,this._normalizer=_,this._triggerCache={},this.onRemovalComplete=(P,V)=>{},this._transitionEngine=new ia(g,c,_),this._timelineEngine=new Kn(g,c,_),this._transitionEngine.onRemovalComplete=(P,V)=>this.onRemovalComplete(P,V)}registerTrigger(g,c,_,P,V){const Y=g+"-"+P;let J=this._triggerCache[Y];if(!J){const Se=[],xt=os(this._driver,V,Se,[]);if(Se.length)throw function da(A,g){return new E.vHH(3404,!1)}();J=function ve(A,g,c){return new dt(A,g,c)}(P,xt,this._normalizer),this._triggerCache[Y]=J}this._transitionEngine.registerTrigger(c,P,J)}register(g,c){this._transitionEngine.register(g,c)}destroy(g,c){this._transitionEngine.destroy(g,c)}onInsert(g,c,_,P){this._transitionEngine.insertNode(g,c,_,P)}onRemove(g,c,_,P){this._transitionEngine.removeNode(g,c,P||!1,_)}disableAnimations(g,c){this._transitionEngine.markElementAsDisabled(g,c)}process(g,c,_,P){if("@"==_.charAt(0)){const[V,Y]=jo(_);this._timelineEngine.command(V,c,Y,P)}else this._transitionEngine.trigger(g,c,_,P)}listen(g,c,_,P,V){if("@"==_.charAt(0)){const[Y,J]=jo(_);return this._timelineEngine.listen(Y,c,J,V)}return this._transitionEngine.listen(g,c,_,P,V)}flush(g=-1){this._transitionEngine.flush(g)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let In=(()=>{class A{constructor(c,_,P){this._element=c,this._startStyles=_,this._endStyles=P,this._state=0;let V=A.initialStylesByElement.get(c);V||A.initialStylesByElement.set(c,V=new Map),this._initialStyles=V}start(){this._state<1&&(this._startStyles&&lo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(lo(this._element,this._initialStyles),this._endStyles&&(lo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(A.initialStylesByElement.delete(this._element),this._startStyles&&(vs(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(vs(this._element,this._endStyles),this._endStyles=null),lo(this._element,this._initialStyles),this._state=3)}}return A.initialStylesByElement=new WeakMap,A})();function di(A){let g=null;return A.forEach((c,_)=>{(function ws(A){return"display"===A||"position"===A})(_)&&(g=g||new Map,g.set(_,c))}),g}class Qa{constructor(g,c,_,P){this.element=g,this.keyframes=c,this.options=_,this._specialStyles=P,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=_.duration,this._delay=_.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(g=>g()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const g=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,g,this.options),this._finalKeyframe=g.length?g[g.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(g){const c=[];return g.forEach(_=>{c.push(Object.fromEntries(_))}),c}_triggerWebAnimation(g,c,_){return g.animate(this._convertKeyframesToObject(c),_)}onStart(g){this._originalOnStartFns.push(g),this._onStartFns.push(g)}onDone(g){this._originalOnDoneFns.push(g),this._onDoneFns.push(g)}onDestroy(g){this._onDestroyFns.push(g)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(g=>g()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(g=>g()),this._onDestroyFns=[])}setPosition(g){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=g*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const g=new Map;this.hasStarted()&&this._finalKeyframe.forEach((_,P)=>{"offset"!==P&&g.set(P,this._finished?_:Gn(this.element,P))}),this.currentSnapshot=g}triggerCallback(g){const c="start"===g?this._onStartFns:this._onDoneFns;c.forEach(_=>_()),c.length=0}}class iu{validateStyleProperty(g){return!0}validateAnimatableStyleProperty(g){return!0}matchesElement(g,c){return!1}containsElement(g,c){return sr(g,c)}getParentElement(g){return Z(g)}query(g,c,_){return jr(g,c,_)}computeStyle(g,c,_){return window.getComputedStyle(g)[c]}animate(g,c,_,P,V,Y=[]){const Se={duration:_,delay:P,fill:0==P?"both":"forwards"};V&&(Se.easing=V);const tt=new Map,xt=Y.filter(Tn=>Tn instanceof Qa);(function Vr(A,g){return 0===A||0===g})(_,P)&&xt.forEach(Tn=>{Tn.currentSnapshot.forEach((On,zn)=>tt.set(zn,On))});let kt=function At(A){return A.length?A[0]instanceof Map?A:A.map(g=>lt(g)):[]}(c).map(Tn=>Us(Tn));kt=function _n(A,g,c){if(c.size&&g.length){let _=g[0],P=[];if(c.forEach((V,Y)=>{_.has(Y)||P.push(Y),_.set(Y,V)}),P.length)for(let V=1;V<g.length;V++){let Y=g[V];P.forEach(J=>Y.set(J,Gn(A,J)))}}return g}(g,kt,tt);const yn=function Zn(A,g){let c=null,_=null;return Array.isArray(g)&&g.length?(c=di(g[0]),g.length>1&&(_=di(g[g.length-1]))):g instanceof Map&&(c=di(g)),c||_?new In(A,c,_):null}(g,kt);return new Qa(g,kt,Se,yn)}}let mo=(()=>{class A extends ce._j{constructor(c,_){super(),this._nextAnimationId=0,this._renderer=c.createRenderer(_.body,{id:"0",encapsulation:E.ifc.None,styles:[],data:{animation:[]}})}build(c){const _=this._nextAnimationId.toString();this._nextAnimationId++;const P=Array.isArray(c)?(0,ce.vP)(c):c;return su(this._renderer,null,_,"register",[P]),new Ms(_,this._renderer)}}return A.\u0275fac=function(c){return new(c||A)(E.LFG(E.FYo),E.LFG(se.K0))},A.\u0275prov=E.Yz7({token:A,factory:A.\u0275fac}),A})();class Ms extends ce.LC{constructor(g,c){super(),this._id=g,this._renderer=c}create(g,c){return new Ea(this._id,g,c||{},this._renderer)}}class Ea{constructor(g,c,_,P){this.id=g,this.element=c,this._renderer=P,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",_)}_listen(g,c){return this._renderer.listen(this.element,`@@${this.id}:${g}`,c)}_command(g,...c){return su(this._renderer,this.element,this.id,g,c)}onDone(g){this._listen("done",g)}onStart(g){this._listen("start",g)}onDestroy(g){this._listen("destroy",g)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(g){this._command("setPosition",g)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function su(A,g,c,_,P){return A.setProperty(g,`@@${c}:${_}`,P)}const Wo="@.disabled";let sa=(()=>{class A{constructor(c,_,P){this.delegate=c,this.engine=_,this._zone=P,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),_.onRemovalComplete=(V,Y)=>{const J=Y?.parentNode(V);J&&Y.removeChild(J,V)}}createRenderer(c,_){const V=this.delegate.createRenderer(c,_);if(!(c&&_&&_.data&&_.data.animation)){let xt=this._rendererCache.get(V);return xt||(xt=new wl("",V,this.engine),this._rendererCache.set(V,xt)),xt}const Y=_.id,J=_.id+"-"+this._currentId;this._currentId++,this.engine.register(J,c);const Se=xt=>{Array.isArray(xt)?xt.forEach(Se):this.engine.registerTrigger(Y,J,c,xt.name,xt)};return _.data.animation.forEach(Se),new ou(this,J,V,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(c,_,P){c>=0&&c<this._microtaskId?this._zone.run(()=>_(P)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(V=>{const[Y,J]=V;Y(J)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([_,P]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return A.\u0275fac=function(c){return new(c||A)(E.LFG(E.FYo),E.LFG(Ln),E.LFG(E.R0b))},A.\u0275prov=E.Yz7({token:A,factory:A.\u0275fac}),A})();class wl{constructor(g,c,_){this.namespaceId=g,this.delegate=c,this.engine=_,this.destroyNode=this.delegate.destroyNode?P=>c.destroyNode(P):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(g,c){return this.delegate.createElement(g,c)}createComment(g){return this.delegate.createComment(g)}createText(g){return this.delegate.createText(g)}appendChild(g,c){this.delegate.appendChild(g,c),this.engine.onInsert(this.namespaceId,c,g,!1)}insertBefore(g,c,_,P=!0){this.delegate.insertBefore(g,c,_),this.engine.onInsert(this.namespaceId,c,g,P)}removeChild(g,c,_){this.engine.onRemove(this.namespaceId,c,this.delegate,_)}selectRootElement(g,c){return this.delegate.selectRootElement(g,c)}parentNode(g){return this.delegate.parentNode(g)}nextSibling(g){return this.delegate.nextSibling(g)}setAttribute(g,c,_,P){this.delegate.setAttribute(g,c,_,P)}removeAttribute(g,c,_){this.delegate.removeAttribute(g,c,_)}addClass(g,c){this.delegate.addClass(g,c)}removeClass(g,c){this.delegate.removeClass(g,c)}setStyle(g,c,_,P){this.delegate.setStyle(g,c,_,P)}removeStyle(g,c,_){this.delegate.removeStyle(g,c,_)}setProperty(g,c,_){"@"==c.charAt(0)&&c==Wo?this.disableAnimations(g,!!_):this.delegate.setProperty(g,c,_)}setValue(g,c){this.delegate.setValue(g,c)}listen(g,c,_){return this.delegate.listen(g,c,_)}disableAnimations(g,c){this.engine.disableAnimations(g,c)}}class ou extends wl{constructor(g,c,_,P){super(c,_,P),this.factory=g,this.namespaceId=c}setProperty(g,c,_){"@"==c.charAt(0)?"."==c.charAt(1)&&c==Wo?this.disableAnimations(g,_=void 0===_||!!_):this.engine.process(this.namespaceId,g,c.slice(1),_):this.delegate.setProperty(g,c,_)}listen(g,c,_){if("@"==c.charAt(0)){const P=function Hl(A){switch(A){case"body":return document.body;case"document":return document;case"window":return window;default:return A}}(g);let V=c.slice(1),Y="";return"@"!=V.charAt(0)&&([V,Y]=function Ba(A){const g=A.indexOf(".");return[A.substring(0,g),A.slice(g+1)]}(V)),this.engine.listen(this.namespaceId,P,V,Y,J=>{this.factory.scheduleListenerCallback(J._data||-1,_,J)})}return this.delegate.listen(g,c,_)}}const zs=[{provide:ce._j,useClass:mo},{provide:cr,useFactory:function Dl(){return new Lr}},{provide:Ln,useClass:(()=>{class A extends Ln{constructor(c,_,P,V){super(c.body,_,P)}ngOnDestroy(){this.flush()}}return A.\u0275fac=function(c){return new(c||A)(E.LFG(se.K0),E.LFG(Ts),E.LFG(cr),E.LFG(E.z2F))},A.\u0275prov=E.Yz7({token:A,factory:A.\u0275fac}),A})()},{provide:E.FYo,useFactory:function au(A,g,c){return new sa(A,g,c)},deps:[y.se,Ln,E.R0b]}],uu=[{provide:Ts,useFactory:()=>new iu},{provide:E.QbO,useValue:"BrowserAnimations"},...zs],Bu=[{provide:Ts,useClass:Nr},{provide:E.QbO,useValue:"NoopAnimations"},...zs];let el=(()=>{class A{static withConfig(c){return{ngModule:A,providers:c.disableAnimations?Bu:uu}}}return A.\u0275fac=function(c){return new(c||A)},A.\u0275mod=E.oAB({type:A}),A.\u0275inj=E.cJS({providers:uu,imports:[y.b2]}),A})();var nl=k(2011),Iu=k(2715);let Wl=(()=>{class A{}return A.\u0275fac=function(c){return new(c||A)},A.\u0275mod=E.oAB({type:A}),A.\u0275inj=E.cJS({imports:[se.ez,xe]}),A})(),Gl=(()=>{class A{}return A.\u0275fac=function(c){return new(c||A)},A.\u0275mod=E.oAB({type:A,bootstrap:[fi]}),A.\u0275inj=E.cJS({providers:[{provide:nl.Dh,useValue:fs.firebase}],imports:[y.b2,el,Qe,Wl,Iu.$L.forChild(),(0,Qi.hX)(()=>(0,Qi.ZF)(fs.firebase)),(0,pi.AR)(()=>(0,pi.v0)()),Ge(()=>gr())]}),A})();fs.production&&(0,E.G48)(),y.q6().bootstrapModule(Gl).catch(A=>console.error(A))},5867:(Pt,Le,k)=>{k.d(Le,{C6:()=>y.getApps,KN:()=>y.registerVersion,Mq:()=>y.getApp,ZF:()=>y.initializeApp});var y=k(9681);(0,y.registerVersion)("firebase","9.12.1","app")},8937:(Pt,Le,k)=>{k.d(Le,{w9:()=>y.M,Xb:()=>y.a5,v0:()=>y.n,aF:()=>y._,e5:()=>y.a6,s:()=>y.ag,gQ:()=>y.ah,ck:()=>y.af});var y=k(7573);k(2090),k(9681),k(1877),k(4859)},127:(Pt,Le,k)=>{k.d(Le,{Z:()=>y.Z});var y=k(3942);y.Z.registerVersion("firebase","9.12.1","app-compat")},5881:(Pt,Le,k)=>{k.r(Le);var y=k(5861),E=k(3942),B=k(7573),se=k(2090),we=(k(9681),k(1877),k(4859));function te(){return window}function ae(){return(ae=(0,y.Z)(function*(ge,K,le){var ze;const{BuildInfo:_t}=te();(0,B.aq)(K.sessionId,"AuthEvent did not contain a session ID");const zt=yield it(K.sessionId),Kt={};return(0,B.ar)()?Kt.ibi=_t.packageName:(0,B.as)()?Kt.apn=_t.packageName:(0,B.at)(ge,"operation-not-supported-in-this-environment"),_t.displayName&&(Kt.appDisplayName=_t.displayName),Kt.sessionId=zt,(0,B.au)(ge,le,K.type,void 0,null!==(ze=K.eventId)&&void 0!==ze?ze:void 0,Kt)})).apply(this,arguments)}function Je(){return(Je=(0,y.Z)(function*(ge){const{BuildInfo:K}=te(),le={};(0,B.ar)()?le.iosBundleId=K.packageName:(0,B.as)()?le.androidPackageName=K.packageName:(0,B.at)(ge,"operation-not-supported-in-this-environment"),yield(0,B.av)(ge,le)})).apply(this,arguments)}function Ct(){return(Ct=(0,y.Z)(function*(ge,K,le){const{cordova:ze}=te();let _t=()=>{};try{yield new Promise((zt,Kt)=>{let de=null;function oe(){var Qe;zt();const Bt=null===(Qe=ze.plugins.browsertab)||void 0===Qe?void 0:Qe.close;"function"==typeof Bt&&Bt(),"function"==typeof le?.close&&le.close()}function ie(){de||(de=window.setTimeout(()=>{Kt((0,B.aw)(ge,"redirect-cancelled-by-user"))},2e3))}function Me(){"visible"===document?.visibilityState&&ie()}K.addPassiveListener(oe),document.addEventListener("resume",ie,!1),(0,B.as)()&&document.addEventListener("visibilitychange",Me,!1),_t=()=>{K.removePassiveListener(oe),document.removeEventListener("resume",ie,!1),document.removeEventListener("visibilitychange",Me,!1),de&&window.clearTimeout(de)}})}finally{_t()}})).apply(this,arguments)}function it(ge){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,y.Z)(function*(ge){const K=ft(ge),le=yield crypto.subtle.digest("SHA-256",K);return Array.from(new Uint8Array(le)).map(_t=>_t.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function ft(ge){if((0,B.aq)(/[0-9a-zA-Z]+/.test(ge),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(ge);const K=new ArrayBuffer(ge.length),le=new Uint8Array(K);for(let ze=0;ze<ge.length;ze++)le[ze]=ge.charCodeAt(ze);return le}class Ce extends B.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(K=>{this.resolveInialized=K})}addPassiveListener(K){this.passiveListeners.add(K)}removePassiveListener(K){this.passiveListeners.delete(K)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(K){return this.resolveInialized(),this.passiveListeners.forEach(le=>le(K)),super.onEvent(K)}initialized(){var K=this;return(0,y.Z)(function*(){yield K.initPromise})()}}function Oe(ge){return He.apply(this,arguments)}function He(){return(He=(0,y.Z)(function*(ge){const K=yield Re()._get(Xe(ge));return K&&(yield Re()._remove(Xe(ge))),K})).apply(this,arguments)}function Ie(){const ge=[],K="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let le=0;le<20;le++){const ze=Math.floor(Math.random()*K.length);ge.push(K.charAt(ze))}return ge.join("")}function Re(){return(0,B.ay)(B.b)}function Xe(ge){return(0,B.az)("authEvent",ge.config.apiKey,ge.name)}function Be(ge){if(!ge?.includes("?"))return{};const[K,...le]=ge.split("?");return(0,se.zd)(le.join("?"))}function mt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,B.aw)("no-auth-event")}}function dn(){var ge;return(null===(ge=self?.location)||void 0===ge?void 0:ge.protocol)||null}function yr(ge=(0,se.z$)()){return!("file:"!==dn()&&"ionic:"!==dn()&&"capacitor:"!==dn()||!ge.toLowerCase().match(/iphone|ipad|ipod|android/))}function fr(){try{const ge=self.localStorage,K=B.aI();if(ge)return ge.setItem(K,"1"),ge.removeItem(K),!function xr(ge=(0,se.z$)()){return function Qn(){return(0,se.w1)()&&11===document?.documentMode}()||function mn(ge=(0,se.z$)()){return/Edge\/\d+/.test(ge)}(ge)}()||(0,se.hl)()}catch{return Jn()&&(0,se.hl)()}return!1}function Jn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Mn(){return(function en(){return"http:"===dn()||"https:"===dn()}()||(0,se.ru)()||yr())&&!function Mr(){return(0,se.b$)()||(0,se.UG)()}()&&fr()&&!Jn()}function Pn(){return yr()&&typeof document<"u"}function Ut(){return(Ut=(0,y.Z)(function*(){return!!Pn()&&new Promise(ge=>{const K=setTimeout(()=>{ge(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(K),ge(!0)})})})).apply(this,arguments)}const vr={LOCAL:"local",NONE:"none",SESSION:"session"},er=B.ax,_r="persistence";function Xn(ge){return rr.apply(this,arguments)}function rr(){return(rr=(0,y.Z)(function*(ge){yield ge._initializationPromise;const K=Gt(),le=B.az(_r,ge.config.apiKey,ge.name);K&&K.setItem(le,ge._getPersistence())})).apply(this,arguments)}function Gt(){var ge;try{return(null===(ge=function ur(){return typeof window<"u"?window:null}())||void 0===ge?void 0:ge.sessionStorage)||null}catch{return null}}const Yt=B.ax;class ln{constructor(){this.browserResolver=B.ay(B.k),this.cordovaResolver=B.ay(class Wt{constructor(){this._redirectPersistence=B.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=B.aB,this._overrideRedirectResult=B.aC}_initialize(K){var le=this;return(0,y.Z)(function*(){const ze=K._key();let _t=le.eventManagers.get(ze);return _t||(_t=new Ce(K),le.eventManagers.set(ze,_t),le.attachCallbackListeners(K,_t)),_t})()}_openPopup(K){(0,B.at)(K,"operation-not-supported-in-this-environment")}_openRedirect(K,le,ze,_t){var zt=this;return(0,y.Z)(function*(){!function $e(ge){var K,le,ze,_t,zt,Kt,de,oe,ie,Me;const Qe=te();(0,B.ax)("function"==typeof(null===(K=Qe?.universalLinks)||void 0===K?void 0:K.subscribe),ge,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,B.ax)(typeof(null===(le=Qe?.BuildInfo)||void 0===le?void 0:le.packageName)<"u",ge,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,B.ax)("function"==typeof(null===(zt=null===(_t=null===(ze=Qe?.cordova)||void 0===ze?void 0:ze.plugins)||void 0===_t?void 0:_t.browsertab)||void 0===zt?void 0:zt.openUrl),ge,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,B.ax)("function"==typeof(null===(oe=null===(de=null===(Kt=Qe?.cordova)||void 0===Kt?void 0:Kt.plugins)||void 0===de?void 0:de.browsertab)||void 0===oe?void 0:oe.isAvailable),ge,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,B.ax)("function"==typeof(null===(Me=null===(ie=Qe?.cordova)||void 0===ie?void 0:ie.InAppBrowser)||void 0===Me?void 0:Me.open),ge,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(K);const Kt=yield zt._initialize(K);yield Kt.initialized(),Kt.resetRedirect(),(0,B.aD)(),yield zt._originValidation(K);const de=function Ye(ge,K,le=null){return{type:K,eventId:le,urlResponse:null,sessionId:Ie(),postBody:null,tenantId:ge.tenantId,error:(0,B.aw)(ge,"no-auth-event")}}(K,ze,_t);yield function yt(ge,K){return Re()._set(Xe(ge),K)}(K,de);const oe=yield function X(ge,K,le){return ae.apply(this,arguments)}(K,de,le),ie=yield function Ke(ge){const{cordova:K}=te();return new Promise(le=>{K.plugins.browsertab.isAvailable(ze=>{let _t=null;ze?K.plugins.browsertab.openUrl(ge):_t=K.InAppBrowser.open(ge,(0,B.ap)()?"_blank":"_system","location=yes"),le(_t)})})}(oe);return function Ze(ge,K,le){return Ct.apply(this,arguments)}(K,Kt,ie)})()}_isIframeWebStorageSupported(K,le){throw new Error("Method not implemented.")}_originValidation(K){const le=K._key();return this.originValidationPromises[le]||(this.originValidationPromises[le]=function be(ge){return Je.apply(this,arguments)}(K)),this.originValidationPromises[le]}attachCallbackListeners(K,le){const{universalLinks:ze,handleOpenURL:_t,BuildInfo:zt}=te(),Kt=setTimeout((0,y.Z)(function*(){yield Oe(K),le.onEvent(mt())}),500),de=function(){var Me=(0,y.Z)(function*(Qe){clearTimeout(Kt);const Bt=yield Oe(K);let Cn=null;Bt&&Qe?.url&&(Cn=function nt(ge,K){var le,ze;const _t=function at(ge){const K=Be(ge),le=K.link?decodeURIComponent(K.link):void 0,ze=Be(le).link,_t=K.deep_link_id?decodeURIComponent(K.deep_link_id):void 0;return Be(_t).link||_t||ze||le||ge}(K);if(_t.includes("/__/auth/callback")){const zt=Be(_t),Kt=zt.firebaseError?function ce(ge){try{return JSON.parse(ge)}catch{return null}}(decodeURIComponent(zt.firebaseError)):null,de=null===(ze=null===(le=Kt?.code)||void 0===le?void 0:le.split("auth/"))||void 0===ze?void 0:ze[1],oe=de?(0,B.aw)(de):null;return oe?{type:ge.type,eventId:ge.eventId,tenantId:ge.tenantId,error:oe,urlResponse:null,sessionId:null,postBody:null}:{type:ge.type,eventId:ge.eventId,tenantId:ge.tenantId,sessionId:ge.sessionId,urlResponse:_t,postBody:null}}return null}(Bt,Qe.url)),le.onEvent(Cn||mt())});return function(Bt){return Me.apply(this,arguments)}}();typeof ze<"u"&&"function"==typeof ze.subscribe&&ze.subscribe(null,de);const oe=_t,ie=`${zt.packageName.toLowerCase()}://`;te().handleOpenURL=function(){var Me=(0,y.Z)(function*(Qe){if(Qe.toLowerCase().startsWith(ie)&&de({url:Qe}),"function"==typeof oe)try{oe(Qe)}catch(Bt){console.error(Bt)}});return function(Qe){return Me.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=B.a,this._completeRedirectFn=B.aB,this._overrideRedirectResult=B.aC}_initialize(K){var le=this;return(0,y.Z)(function*(){return yield le.selectUnderlyingResolver(),le.assertedUnderlyingResolver._initialize(K)})()}_openPopup(K,le,ze,_t){var zt=this;return(0,y.Z)(function*(){return yield zt.selectUnderlyingResolver(),zt.assertedUnderlyingResolver._openPopup(K,le,ze,_t)})()}_openRedirect(K,le,ze,_t){var zt=this;return(0,y.Z)(function*(){return yield zt.selectUnderlyingResolver(),zt.assertedUnderlyingResolver._openRedirect(K,le,ze,_t)})()}_isIframeWebStorageSupported(K,le){this.assertedUnderlyingResolver._isIframeWebStorageSupported(K,le)}_originValidation(K){return this.assertedUnderlyingResolver._originValidation(K)}get _shouldInitProactively(){return Pn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Yt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var K=this;return(0,y.Z)(function*(){if(K.underlyingResolver)return;const le=yield function vn(){return Ut.apply(this,arguments)}();K.underlyingResolver=le?K.cordovaResolver:K.browserResolver})()}}function cn(ge){return ge.unwrap()}function Rr(ge){return Pr(ge)}function Pr(ge){const{_tokenResponse:K}=ge instanceof se.ZR?ge.customData:ge;if(!K)return null;if(!(ge instanceof se.ZR)&&"temporaryProof"in K&&"phoneNumber"in K)return B.P.credentialFromResult(ge);const le=K.providerId;if(!le||le===B.o.PASSWORD)return null;let ze;switch(le){case B.o.GOOGLE:ze=B.Q;break;case B.o.FACEBOOK:ze=B.N;break;case B.o.GITHUB:ze=B.T;break;case B.o.TWITTER:ze=B.W;break;default:const{oauthIdToken:_t,oauthAccessToken:zt,oauthTokenSecret:Kt,pendingToken:de,nonce:oe}=K;return zt||Kt||_t||de?de?le.startsWith("saml.")?B.aL._create(le,de):B.J._fromParams({providerId:le,signInMethod:le,pendingToken:de,idToken:_t,accessToken:zt}):new B.U(le).credential({idToken:_t,accessToken:zt,rawNonce:oe}):null}return ge instanceof se.ZR?ze.credentialFromError(ge):ze.credentialFromResult(ge)}function pn(ge,K){return K.catch(le=>{throw le instanceof se.ZR&&function tn(ge,K){var le,ze;const _t=null===(le=K.customData)||void 0===le?void 0:le._tokenResponse;if("auth/multi-factor-auth-required"===(null===(ze=K)||void 0===ze?void 0:ze.code))K.resolver=new or(ge,B.an(ge,K));else if(_t){const zt=Pr(K),Kt=K;zt&&(Kt.credential=zt,Kt.tenantId=_t.tenantId||void 0,Kt.email=_t.email||void 0,Kt.phoneNumber=_t.phoneNumber||void 0)}}(ge,le),le}).then(le=>{const _t=le.user;return{operationType:le.operationType,credential:Rr(le),additionalUserInfo:B.al(le),user:nr.getOrCreate(_t)}})}function tr(ge,K){return gn.apply(this,arguments)}function gn(){return(gn=(0,y.Z)(function*(ge,K){const le=yield K;return{verificationId:le.verificationId,confirm:ze=>pn(ge,le.confirm(ze))}})).apply(this,arguments)}class or{constructor(K,le){this.resolver=le,this.auth=function $n(ge){return ge.wrapped()}(K)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(K){return pn(cn(this.auth),this.resolver.resolveSignIn(K))}}class nr{constructor(K){this._delegate=K,this.multiFactor=B.ao(K)}static getOrCreate(K){return nr.USER_MAP.has(K)||nr.USER_MAP.set(K,new nr(K)),nr.USER_MAP.get(K)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(K){return this._delegate.getIdTokenResult(K)}getIdToken(K){return this._delegate.getIdToken(K)}linkAndRetrieveDataWithCredential(K){return this.linkWithCredential(K)}linkWithCredential(K){var le=this;return(0,y.Z)(function*(){return pn(le.auth,B.Z(le._delegate,K))})()}linkWithPhoneNumber(K,le){var ze=this;return(0,y.Z)(function*(){return tr(ze.auth,B.l(ze._delegate,K,le))})()}linkWithPopup(K){var le=this;return(0,y.Z)(function*(){return pn(le.auth,B.d(le._delegate,K,ln))})()}linkWithRedirect(K){var le=this;return(0,y.Z)(function*(){return yield Xn(B.aE(le.auth)),B.g(le._delegate,K,ln)})()}reauthenticateAndRetrieveDataWithCredential(K){return this.reauthenticateWithCredential(K)}reauthenticateWithCredential(K){var le=this;return(0,y.Z)(function*(){return pn(le.auth,B._(le._delegate,K))})()}reauthenticateWithPhoneNumber(K,le){return tr(this.auth,B.r(this._delegate,K,le))}reauthenticateWithPopup(K){return pn(this.auth,B.e(this._delegate,K,ln))}reauthenticateWithRedirect(K){var le=this;return(0,y.Z)(function*(){return yield Xn(B.aE(le.auth)),B.h(le._delegate,K,ln)})()}sendEmailVerification(K){return B.ab(this._delegate,K)}unlink(K){var le=this;return(0,y.Z)(function*(){return yield B.ak(le._delegate,K),le})()}updateEmail(K){return B.ag(this._delegate,K)}updatePassword(K){return B.ah(this._delegate,K)}updatePhoneNumber(K){return B.u(this._delegate,K)}updateProfile(K){return B.af(this._delegate,K)}verifyBeforeUpdateEmail(K,le){return B.ac(this._delegate,K,le)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}nr.USER_MAP=new WeakMap;const We=B.ax;let j=(()=>{class ge{constructor(le,ze){if(this.app=le,ze.isInitialized())return this._delegate=ze.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:_t}=le.options;We(_t,"invalid-api-key",{appName:le.name}),We(_t,"invalid-api-key",{appName:le.name});const zt=typeof window<"u"?ln:void 0;this._delegate=ze.initialize({options:{persistence:ke(_t,le.name),popupRedirectResolver:zt}}),this._delegate._updateErrorMap(B.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?nr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(le){this._delegate.languageCode=le}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(le){this._delegate.tenantId=le}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(le,ze){B.G(this._delegate,le,ze)}applyActionCode(le){return B.a2(this._delegate,le)}checkActionCode(le){return B.a3(this._delegate,le)}confirmPasswordReset(le,ze){return B.a1(this._delegate,le,ze)}createUserWithEmailAndPassword(le,ze){var _t=this;return(0,y.Z)(function*(){return pn(_t._delegate,B.a5(_t._delegate,le,ze))})()}fetchProvidersForEmail(le){return this.fetchSignInMethodsForEmail(le)}fetchSignInMethodsForEmail(le){return B.aa(this._delegate,le)}isSignInWithEmailLink(le){return B.a8(this._delegate,le)}getRedirectResult(){var le=this;return(0,y.Z)(function*(){We(Mn(),le._delegate,"operation-not-supported-in-this-environment");const ze=yield B.j(le._delegate,ln);return ze?pn(le._delegate,Promise.resolve(ze)):{credential:null,user:null}})()}addFrameworkForLogging(le){!function un(ge,K){(0,B.aE)(ge)._logFramework(K)}(this._delegate,le)}onAuthStateChanged(le,ze,_t){const{next:zt,error:Kt,complete:de}=re(le,ze,_t);return this._delegate.onAuthStateChanged(zt,Kt,de)}onIdTokenChanged(le,ze,_t){const{next:zt,error:Kt,complete:de}=re(le,ze,_t);return this._delegate.onIdTokenChanged(zt,Kt,de)}sendSignInLinkToEmail(le,ze){return B.a7(this._delegate,le,ze)}sendPasswordResetEmail(le,ze){return B.a0(this._delegate,le,ze||void 0)}setPersistence(le){var ze=this;return(0,y.Z)(function*(){let _t;switch(function yi(ge,K){er(Object.values(vr).includes(K),ge,"invalid-persistence-type"),(0,se.b$)()?er(K!==vr.SESSION,ge,"unsupported-persistence-type"):(0,se.UG)()?er(K===vr.NONE,ge,"unsupported-persistence-type"):Jn()?er(K===vr.NONE||K===vr.LOCAL&&(0,se.hl)(),ge,"unsupported-persistence-type"):er(K===vr.NONE||fr(),ge,"unsupported-persistence-type")}(ze._delegate,le),le){case vr.SESSION:_t=B.a;break;case vr.LOCAL:_t=(yield B.ay(B.i)._isAvailable())?B.i:B.b;break;case vr.NONE:_t=B.L;break;default:return B.at("argument-error",{appName:ze._delegate.name})}return ze._delegate.setPersistence(_t)})()}signInAndRetrieveDataWithCredential(le){return this.signInWithCredential(le)}signInAnonymously(){return pn(this._delegate,B.X(this._delegate))}signInWithCredential(le){return pn(this._delegate,B.Y(this._delegate,le))}signInWithCustomToken(le){return pn(this._delegate,B.$(this._delegate,le))}signInWithEmailAndPassword(le,ze){return pn(this._delegate,B.a6(this._delegate,le,ze))}signInWithEmailLink(le,ze){return pn(this._delegate,B.a9(this._delegate,le,ze))}signInWithPhoneNumber(le,ze){return tr(this._delegate,B.s(this._delegate,le,ze))}signInWithPopup(le){var ze=this;return(0,y.Z)(function*(){return We(Mn(),ze._delegate,"operation-not-supported-in-this-environment"),pn(ze._delegate,B.c(ze._delegate,le,ln))})()}signInWithRedirect(le){var ze=this;return(0,y.Z)(function*(){return We(Mn(),ze._delegate,"operation-not-supported-in-this-environment"),yield Xn(ze._delegate),B.f(ze._delegate,le,ln)})()}updateCurrentUser(le){return this._delegate.updateCurrentUser(le)}verifyPasswordResetCode(le){return B.a4(this._delegate,le)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return ge.Persistence=vr,ge})();function re(ge,K,le){let ze=ge;"function"!=typeof ge&&({next:ze,error:K,complete:le}=ge);const _t=ze;return{next:Kt=>_t(Kt&&nr.getOrCreate(Kt)),error:K,complete:le}}function ke(ge,K){const le=function Un(ge,K){const le=Gt();if(!le)return[];const ze=B.az(_r,ge,K);switch(le.getItem(ze)){case vr.NONE:return[B.L];case vr.LOCAL:return[B.i,B.a];case vr.SESSION:return[B.a];default:return[]}}(ge,K);if(typeof self<"u"&&!le.includes(B.i)&&le.push(B.i),typeof window<"u")for(const ze of[B.b,B.a])le.includes(ze)||le.push(ze);return le.includes(B.L)||le.push(B.L),le}class st{constructor(){this.providerId="phone",this._delegate=new B.P(cn(E.Z.auth()))}static credential(K,le){return B.P.credential(K,le)}verifyPhoneNumber(K,le){return this._delegate.verifyPhoneNumber(K,le)}unwrap(){return this._delegate}}st.PHONE_SIGN_IN_METHOD=B.P.PHONE_SIGN_IN_METHOD,st.PROVIDER_ID=B.P.PROVIDER_ID;const Zt=B.ax;class _e{constructor(K,le,ze=E.Z.app()){var _t;Zt(null===(_t=ze.options)||void 0===_t?void 0:_t.apiKey,"invalid-api-key",{appName:ze.name}),this._delegate=new B.R(K,le,ze.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function xe(ge){ge.INTERNAL.registerComponent(new we.wA("auth-compat",K=>{const le=K.getProvider("app-compat").getImmediate(),ze=K.getProvider("auth");return new j(le,ze)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:B.A.EMAIL_SIGNIN,PASSWORD_RESET:B.A.PASSWORD_RESET,RECOVER_EMAIL:B.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:B.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:B.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:B.A.VERIFY_EMAIL}},EmailAuthProvider:B.M,FacebookAuthProvider:B.N,GithubAuthProvider:B.T,GoogleAuthProvider:B.Q,OAuthProvider:B.U,SAMLAuthProvider:B.V,PhoneAuthProvider:st,PhoneMultiFactorGenerator:B.m,RecaptchaVerifier:_e,TwitterAuthProvider:B.W,Auth:j,AuthCredential:B.H,Error:se.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ge.registerVersion("@firebase/auth-compat","0.2.23")}(E.Z)},2715:(Pt,Le,k)=>{k.d(Le,{$L:()=>Xe,wr:()=>Re});var y=k(9646),E=k(5963),B=k(515),se=k(7579),ue=k(4482),fe=k(2733),te=k(5684),De=k(9300),X=k(4650);class ft{}let Ue=(()=>{class ce extends ft{tick(Be){return(0,y.of)(0).pipe(function we(ce,at=1/0,Be){return at=(at||0)<1?1/0:at,(0,ue.e)((It,Wt)=>(0,fe.p)(It,Wt,ce,at,void 0,!0,Be))}(()=>{const It=Date.now(),Wt=Math.round(Math.abs(It-Be)/1e3),Ft=Wt<60?1e3:Wt<3600?6e4:Wt<86400?36e5:0;return Ft?(0,E.H)(Ft):(0,B.c)()}),(0,te.T)(1))}}return ce.\u0275fac=function(){let at;return function(It){return(at||(at=X.n5z(ce)))(It||ce)}}(),ce.\u0275prov=X.Yz7({token:ce,factory:ce.\u0275fac}),ce})(),Ce=(()=>{class ce{constructor(){this.changes=new se.x}}return ce.\u0275fac=function(Be){return new(Be||ce)},ce.\u0275prov=X.Yz7({token:ce,factory:ce.\u0275fac}),ce})();class Oe{}let He=(()=>{class ce extends Oe{format(Be){const{suffix:It,value:Wt,unit:Ft}=function(ce){const at=Date.now(),Be=Math.round(Math.abs(at-ce)/1e3),It=ce<at?"ago":"from now",[Wt,Ft]=Be<60?[Math.round(Be),"second"]:Be<3600?[Math.round(Be/60),"minute"]:Be<86400?[Math.round(Be/3600),"hour"]:Be<604800?[Math.round(Be/86400),"day"]:Be<2592e3?[Math.round(Be/604800),"week"]:Be<31536e3?[Math.round(Be/2592e3),"month"]:[Math.round(Be/31536e3),"year"];return{value:Wt,unit:Ft,suffix:It}}(Be);return this.parse(Wt,Ft,It)}parse(Be,It,Wt){return 1!==Be&&(It+="s"),Be+" "+It+" "+Wt}}return ce.\u0275fac=function(){let at;return function(It){return(at||(at=X.n5z(ce)))(It||ce)}}(),ce.\u0275prov=X.Yz7({token:ce,factory:ce.\u0275fac}),ce})(),Re=(()=>{class ce{constructor(Be,It,Wt,Ft){this.clock=Ft,this.live=!0,this.stateChanges=new se.x,Be&&(this.intlSubscription=Be.changes.subscribe(()=>this.stateChanges.next())),this.stateChanges.subscribe(()=>{this.value=Wt.format(this.date),It.markForCheck()})}transform(Be,...It){const Wt=function Je(ce){const at=new Date(ce);if(!Number.isNaN(at.valueOf()))return at;const Be=String(ce).match(/\d+/g);if(null===Be||Be.length<=2)return at;{const[It,Wt,...Ft]=Be.map(mt=>parseInt(mt,10));return new Date(Date.UTC(It,Wt-1,...Ft))}}(Be).valueOf();let Ft;if(Ft=function ae(ce){return typeof ce<"u"&&null!==ce}(It[0])?function be(ce){return null!=ce&&"false"!=`${ce}`}(It[0]):this.live,this.date===Wt&&this.live===Ft)return this.value;if(this.date=Wt,this.live=Ft,!this.date)throw new SyntaxError(`Wrong parameter in TimeagoPipe. Expected a valid date, received: ${Be}`);return this.clockSubscription&&(this.clockSubscription.unsubscribe(),this.clockSubscription=void 0),this.clockSubscription=this.clock.tick(this.date).pipe((0,De.h)(()=>this.live,this)).subscribe(()=>this.stateChanges.next()),this.stateChanges.next(),this.value}ngOnDestroy(){this.intlSubscription&&(this.intlSubscription.unsubscribe(),this.intlSubscription=void 0),this.clockSubscription&&(this.clockSubscription.unsubscribe(),this.clockSubscription=void 0),this.stateChanges.complete()}}return ce.\u0275fac=function(Be){return new(Be||ce)(X.Y36(Ce,24),X.Y36(X.sBO,16),X.Y36(Oe,16),X.Y36(ft,16))},ce.\u0275pipe=X.Yjl({name:"timeago",type:ce,pure:!1}),ce.\u0275prov=X.Yz7({token:ce,factory:ce.\u0275fac}),ce})(),Xe=(()=>{class ce{static forRoot(Be={}){return{ngModule:ce,providers:[Be.clock||{provide:ft,useClass:Ue},Be.intl||[],Be.formatter||{provide:Oe,useClass:He}]}}static forChild(Be={}){return{ngModule:ce,providers:[Be.clock||{provide:ft,useClass:Ue},Be.intl||[],Be.formatter||{provide:Oe,useClass:He}]}}}return ce.\u0275fac=function(Be){return new(Be||ce)},ce.\u0275mod=X.oAB({type:ce}),ce.\u0275inj=X.cJS({}),ce})()},1135:(Pt,Le,k)=>{k.d(Le,{X:()=>E});var y=k(7579);class E extends y.x{constructor(se){super(),this._value=se}get value(){return this.getValue()}_subscribe(se){const ue=super._subscribe(se);return!ue.closed&&se.next(this._value),ue}getValue(){const{hasError:se,thrownError:ue,_value:fe}=this;if(se)throw ue;return this._throwIfClosed(),fe}next(se){super.next(this._value=se)}}},9751:(Pt,Le,k)=>{k.d(Le,{y:()=>te});var y=k(930),E=k(727),B=k(8822),se=k(9635),ue=k(2416),fe=k(576),we=k(2806);let te=(()=>{class be{constructor(Ke){Ke&&(this._subscribe=Ke)}lift(Ke){const Ze=new be;return Ze.source=this,Ze.operator=Ke,Ze}subscribe(Ke,Ze,Ct){const $e=function ae(be){return be&&be instanceof y.Lv||function X(be){return be&&(0,fe.m)(be.next)&&(0,fe.m)(be.error)&&(0,fe.m)(be.complete)}(be)&&(0,E.Nn)(be)}(Ke)?Ke:new y.Hp(Ke,Ze,Ct);return(0,we.x)(()=>{const{operator:it,source:Ae}=this;$e.add(it?it.call($e,Ae):Ae?this._subscribe($e):this._trySubscribe($e))}),$e}_trySubscribe(Ke){try{return this._subscribe(Ke)}catch(Ze){Ke.error(Ze)}}forEach(Ke,Ze){return new(Ze=De(Ze))((Ct,$e)=>{const it=new y.Hp({next:Ae=>{try{Ke(Ae)}catch(ft){$e(ft),it.unsubscribe()}},error:$e,complete:Ct});this.subscribe(it)})}_subscribe(Ke){var Ze;return null===(Ze=this.source)||void 0===Ze?void 0:Ze.subscribe(Ke)}[B.L](){return this}pipe(...Ke){return(0,se.U)(Ke)(this)}toPromise(Ke){return new(Ke=De(Ke))((Ze,Ct)=>{let $e;this.subscribe(it=>$e=it,it=>Ct(it),()=>Ze($e))})}}return be.create=Je=>new be(Je),be})();function De(be){var Je;return null!==(Je=be??ue.v.Promise)&&void 0!==Je?Je:Promise}},7579:(Pt,Le,k)=>{k.d(Le,{x:()=>we});var y=k(9751),E=k(727);const se=(0,k(3888).d)(De=>function(){De(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ue=k(8737),fe=k(2806);let we=(()=>{class De extends y.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ae){const be=new te(this,this);return be.operator=ae,be}_throwIfClosed(){if(this.closed)throw new se}next(ae){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const be of this.currentObservers)be.next(ae)}})}error(ae){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ae;const{observers:be}=this;for(;be.length;)be.shift().error(ae)}})}complete(){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ae}=this;for(;ae.length;)ae.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ae;return(null===(ae=this.observers)||void 0===ae?void 0:ae.length)>0}_trySubscribe(ae){return this._throwIfClosed(),super._trySubscribe(ae)}_subscribe(ae){return this._throwIfClosed(),this._checkFinalizedStatuses(ae),this._innerSubscribe(ae)}_innerSubscribe(ae){const{hasError:be,isStopped:Je,observers:Ke}=this;return be||Je?E.Lc:(this.currentObservers=null,Ke.push(ae),new E.w0(()=>{this.currentObservers=null,(0,ue.P)(Ke,ae)}))}_checkFinalizedStatuses(ae){const{hasError:be,thrownError:Je,isStopped:Ke}=this;be?ae.error(Je):Ke&&ae.complete()}asObservable(){const ae=new y.y;return ae.source=this,ae}}return De.create=(X,ae)=>new te(X,ae),De})();class te extends we{constructor(X,ae){super(),this.destination=X,this.source=ae}next(X){var ae,be;null===(be=null===(ae=this.destination)||void 0===ae?void 0:ae.next)||void 0===be||be.call(ae,X)}error(X){var ae,be;null===(be=null===(ae=this.destination)||void 0===ae?void 0:ae.error)||void 0===be||be.call(ae,X)}complete(){var X,ae;null===(ae=null===(X=this.destination)||void 0===X?void 0:X.complete)||void 0===ae||ae.call(X)}_subscribe(X){var ae,be;return null!==(be=null===(ae=this.source)||void 0===ae?void 0:ae.subscribe(X))&&void 0!==be?be:E.Lc}}},930:(Pt,Le,k)=>{k.d(Le,{Hp:()=>Ct,Lv:()=>be});var y=k(576),E=k(727),B=k(2416),se=k(7849),ue=k(5032);const fe=De("C",void 0,void 0);function De(Ue,Ce,Ye){return{kind:Ue,value:Ce,error:Ye}}var X=k(3410),ae=k(2806);class be extends E.w0{constructor(Ce){super(),this.isStopped=!1,Ce?(this.destination=Ce,(0,E.Nn)(Ce)&&Ce.add(this)):this.destination=ft}static create(Ce,Ye,yt){return new Ct(Ce,Ye,yt)}next(Ce){this.isStopped?Ae(function te(Ue){return De("N",Ue,void 0)}(Ce),this):this._next(Ce)}error(Ce){this.isStopped?Ae(function we(Ue){return De("E",void 0,Ue)}(Ce),this):(this.isStopped=!0,this._error(Ce))}complete(){this.isStopped?Ae(fe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ce){this.destination.next(Ce)}_error(Ce){try{this.destination.error(Ce)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Je=Function.prototype.bind;function Ke(Ue,Ce){return Je.call(Ue,Ce)}class Ze{constructor(Ce){this.partialObserver=Ce}next(Ce){const{partialObserver:Ye}=this;if(Ye.next)try{Ye.next(Ce)}catch(yt){$e(yt)}}error(Ce){const{partialObserver:Ye}=this;if(Ye.error)try{Ye.error(Ce)}catch(yt){$e(yt)}else $e(Ce)}complete(){const{partialObserver:Ce}=this;if(Ce.complete)try{Ce.complete()}catch(Ye){$e(Ye)}}}class Ct extends be{constructor(Ce,Ye,yt){let Oe;if(super(),(0,y.m)(Ce)||!Ce)Oe={next:Ce??void 0,error:Ye??void 0,complete:yt??void 0};else{let He;this&&B.v.useDeprecatedNextContext?(He=Object.create(Ce),He.unsubscribe=()=>this.unsubscribe(),Oe={next:Ce.next&&Ke(Ce.next,He),error:Ce.error&&Ke(Ce.error,He),complete:Ce.complete&&Ke(Ce.complete,He)}):Oe=Ce}this.destination=new Ze(Oe)}}function $e(Ue){B.v.useDeprecatedSynchronousErrorHandling?(0,ae.O)(Ue):(0,se.h)(Ue)}function Ae(Ue,Ce){const{onStoppedNotification:Ye}=B.v;Ye&&X.z.setTimeout(()=>Ye(Ue,Ce))}const ft={closed:!0,next:ue.Z,error:function it(Ue){throw Ue},complete:ue.Z}},727:(Pt,Le,k)=>{k.d(Le,{Lc:()=>fe,w0:()=>ue,Nn:()=>we});var y=k(576);const B=(0,k(3888).d)(De=>function(ae){De(this),this.message=ae?`${ae.length} errors occurred during unsubscription:\n${ae.map((be,Je)=>`${Je+1}) ${be.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ae});var se=k(8737);class ue{constructor(X){this.initialTeardown=X,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let X;if(!this.closed){this.closed=!0;const{_parentage:ae}=this;if(ae)if(this._parentage=null,Array.isArray(ae))for(const Ke of ae)Ke.remove(this);else ae.remove(this);const{initialTeardown:be}=this;if((0,y.m)(be))try{be()}catch(Ke){X=Ke instanceof B?Ke.errors:[Ke]}const{_finalizers:Je}=this;if(Je){this._finalizers=null;for(const Ke of Je)try{te(Ke)}catch(Ze){X=X??[],Ze instanceof B?X=[...X,...Ze.errors]:X.push(Ze)}}if(X)throw new B(X)}}add(X){var ae;if(X&&X!==this)if(this.closed)te(X);else{if(X instanceof ue){if(X.closed||X._hasParent(this))return;X._addParent(this)}(this._finalizers=null!==(ae=this._finalizers)&&void 0!==ae?ae:[]).push(X)}}_hasParent(X){const{_parentage:ae}=this;return ae===X||Array.isArray(ae)&&ae.includes(X)}_addParent(X){const{_parentage:ae}=this;this._parentage=Array.isArray(ae)?(ae.push(X),ae):ae?[ae,X]:X}_removeParent(X){const{_parentage:ae}=this;ae===X?this._parentage=null:Array.isArray(ae)&&(0,se.P)(ae,X)}remove(X){const{_finalizers:ae}=this;ae&&(0,se.P)(ae,X),X instanceof ue&&X._removeParent(this)}}ue.EMPTY=(()=>{const De=new ue;return De.closed=!0,De})();const fe=ue.EMPTY;function we(De){return De instanceof ue||De&&"closed"in De&&(0,y.m)(De.remove)&&(0,y.m)(De.add)&&(0,y.m)(De.unsubscribe)}function te(De){(0,y.m)(De)?De():De.unsubscribe()}},2416:(Pt,Le,k)=>{k.d(Le,{v:()=>y});const y={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(Pt,Le,k)=>{k.d(Le,{a:()=>X});var y=k(9751),E=k(4742),B=k(8996),se=k(4671),ue=k(3268),fe=k(3269),we=k(1810),te=k(5403),De=k(9672);function X(...Je){const Ke=(0,fe.yG)(Je),Ze=(0,fe.jO)(Je),{args:Ct,keys:$e}=(0,E.D)(Je);if(0===Ct.length)return(0,B.D)([],Ke);const it=new y.y(function ae(Je,Ke,Ze=se.y){return Ct=>{be(Ke,()=>{const{length:$e}=Je,it=new Array($e);let Ae=$e,ft=$e;for(let Ue=0;Ue<$e;Ue++)be(Ke,()=>{const Ce=(0,B.D)(Je[Ue],Ke);let Ye=!1;Ce.subscribe((0,te.x)(Ct,yt=>{it[Ue]=yt,Ye||(Ye=!0,ft--),ft||Ct.next(Ze(it.slice()))},()=>{--Ae||Ct.complete()}))},Ct)},Ct)}}(Ct,Ke,$e?Ae=>(0,we.n)($e,Ae):se.y));return Ze?it.pipe((0,ue.Z)(Ze)):it}function be(Je,Ke,Ze){Je?(0,De.f)(Ze,Je,Ke):Ke()}},7272:(Pt,Le,k)=>{k.d(Le,{z:()=>ue});var y=k(8189),B=k(3269),se=k(8996);function ue(...fe){return function E(){return(0,y.J)(1)}()((0,se.D)(fe,(0,B.yG)(fe)))}},9770:(Pt,Le,k)=>{k.d(Le,{P:()=>B});var y=k(9751),E=k(8421);function B(se){return new y.y(ue=>{(0,E.Xf)(se()).subscribe(ue)})}},515:(Pt,Le,k)=>{k.d(Le,{E:()=>E,c:()=>B});var y=k(9751);const E=new y.y(ue=>ue.complete());function B(ue){return ue?function se(ue){return new y.y(fe=>ue.schedule(()=>fe.complete()))}(ue):E}},8996:(Pt,Le,k)=>{k.d(Le,{D:()=>Ce});var y=k(8421),E=k(5363),B=k(9468),fe=k(9751),te=k(2202),De=k(576),X=k(9672);function be(Ye,yt){if(!Ye)throw new Error("Iterable cannot be null");return new fe.y(Oe=>{(0,X.f)(Oe,yt,()=>{const He=Ye[Symbol.asyncIterator]();(0,X.f)(Oe,yt,()=>{He.next().then(nt=>{nt.done?Oe.complete():Oe.next(nt.value)})},0,!0)})})}var Je=k(3670),Ke=k(8239),Ze=k(1144),Ct=k(6495),$e=k(2206),it=k(4532),Ae=k(3260);function Ce(Ye,yt){return yt?function Ue(Ye,yt){if(null!=Ye){if((0,Je.c)(Ye))return function se(Ye,yt){return(0,y.Xf)(Ye).pipe((0,B.R)(yt),(0,E.Q)(yt))}(Ye,yt);if((0,Ze.z)(Ye))return function we(Ye,yt){return new fe.y(Oe=>{let He=0;return yt.schedule(function(){He===Ye.length?Oe.complete():(Oe.next(Ye[He++]),Oe.closed||this.schedule())})})}(Ye,yt);if((0,Ke.t)(Ye))return function ue(Ye,yt){return(0,y.Xf)(Ye).pipe((0,B.R)(yt),(0,E.Q)(yt))}(Ye,yt);if((0,$e.D)(Ye))return be(Ye,yt);if((0,Ct.T)(Ye))return function ae(Ye,yt){return new fe.y(Oe=>{let He;return(0,X.f)(Oe,yt,()=>{He=Ye[te.h](),(0,X.f)(Oe,yt,()=>{let nt,Ie;try{({value:nt,done:Ie}=He.next())}catch(Re){return void Oe.error(Re)}Ie?Oe.complete():Oe.next(nt)},0,!0)}),()=>(0,De.m)(He?.return)&&He.return()})}(Ye,yt);if((0,Ae.L)(Ye))return function ft(Ye,yt){return be((0,Ae.Q)(Ye),yt)}(Ye,yt)}throw(0,it.z)(Ye)}(Ye,yt):(0,y.Xf)(Ye)}},8421:(Pt,Le,k)=>{k.d(Le,{Xf:()=>Je});var y=k(655),E=k(1144),B=k(8239),se=k(9751),ue=k(3670),fe=k(2206),we=k(4532),te=k(6495),De=k(3260),X=k(576),ae=k(7849),be=k(8822);function Je(Ue){if(Ue instanceof se.y)return Ue;if(null!=Ue){if((0,ue.c)(Ue))return function Ke(Ue){return new se.y(Ce=>{const Ye=Ue[be.L]();if((0,X.m)(Ye.subscribe))return Ye.subscribe(Ce);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ue);if((0,E.z)(Ue))return function Ze(Ue){return new se.y(Ce=>{for(let Ye=0;Ye<Ue.length&&!Ce.closed;Ye++)Ce.next(Ue[Ye]);Ce.complete()})}(Ue);if((0,B.t)(Ue))return function Ct(Ue){return new se.y(Ce=>{Ue.then(Ye=>{Ce.closed||(Ce.next(Ye),Ce.complete())},Ye=>Ce.error(Ye)).then(null,ae.h)})}(Ue);if((0,fe.D)(Ue))return it(Ue);if((0,te.T)(Ue))return function $e(Ue){return new se.y(Ce=>{for(const Ye of Ue)if(Ce.next(Ye),Ce.closed)return;Ce.complete()})}(Ue);if((0,De.L)(Ue))return function Ae(Ue){return it((0,De.Q)(Ue))}(Ue)}throw(0,we.z)(Ue)}function it(Ue){return new se.y(Ce=>{(function ft(Ue,Ce){var Ye,yt,Oe,He;return(0,y.mG)(this,void 0,void 0,function*(){try{for(Ye=(0,y.KL)(Ue);!(yt=yield Ye.next()).done;)if(Ce.next(yt.value),Ce.closed)return}catch(nt){Oe={error:nt}}finally{try{yt&&!yt.done&&(He=Ye.return)&&(yield He.call(Ye))}finally{if(Oe)throw Oe.error}}Ce.complete()})})(Ue,Ce).catch(Ye=>Ce.error(Ye))})}},6451:(Pt,Le,k)=>{k.d(Le,{T:()=>fe});var y=k(8189),E=k(8421),B=k(515),se=k(3269),ue=k(8996);function fe(...we){const te=(0,se.yG)(we),De=(0,se._6)(we,1/0),X=we;return X.length?1===X.length?(0,E.Xf)(X[0]):(0,y.J)(De)((0,ue.D)(X,te)):B.E}},9646:(Pt,Le,k)=>{k.d(Le,{of:()=>B});var y=k(3269),E=k(8996);function B(...se){const ue=(0,y.yG)(se);return(0,E.D)(se,ue)}},2843:(Pt,Le,k)=>{k.d(Le,{_:()=>B});var y=k(9751),E=k(576);function B(se,ue){const fe=(0,E.m)(se)?se:()=>se,we=te=>te.error(fe());return new y.y(ue?te=>ue.schedule(we,0,te):we)}},5963:(Pt,Le,k)=>{k.d(Le,{H:()=>ue});var y=k(9751),E=k(4986),B=k(3532);function ue(fe=0,we,te=E.P){let De=-1;return null!=we&&((0,B.K)(we)?te=we:De=we),new y.y(X=>{let ae=function se(fe){return fe instanceof Date&&!isNaN(fe)}(fe)?+fe-te.now():fe;ae<0&&(ae=0);let be=0;return te.schedule(function(){X.closed||(X.next(be++),0<=De?this.schedule(void 0,De):X.complete())},ae)})}},5403:(Pt,Le,k)=>{k.d(Le,{x:()=>E});var y=k(930);function E(se,ue,fe,we,te){return new B(se,ue,fe,we,te)}class B extends y.Lv{constructor(ue,fe,we,te,De,X){super(ue),this.onFinalize=De,this.shouldUnsubscribe=X,this._next=fe?function(ae){try{fe(ae)}catch(be){ue.error(be)}}:super._next,this._error=te?function(ae){try{te(ae)}catch(be){ue.error(be)}finally{this.unsubscribe()}}:super._error,this._complete=we?function(){try{we()}catch(ae){ue.error(ae)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ue;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:fe}=this;super.unsubscribe(),!fe&&(null===(ue=this.onFinalize)||void 0===ue||ue.call(this))}}}},262:(Pt,Le,k)=>{k.d(Le,{K:()=>se});var y=k(8421),E=k(5403),B=k(4482);function se(ue){return(0,B.e)((fe,we)=>{let X,te=null,De=!1;te=fe.subscribe((0,E.x)(we,void 0,void 0,ae=>{X=(0,y.Xf)(ue(ae,se(ue)(fe))),te?(te.unsubscribe(),te=null,X.subscribe(we)):De=!0})),De&&(te.unsubscribe(),te=null,X.subscribe(we))})}},4351:(Pt,Le,k)=>{k.d(Le,{b:()=>B});var y=k(6099),E=k(576);function B(se,ue){return(0,E.m)(ue)?(0,y.z)(se,ue,1):(0,y.z)(se,1)}},6590:(Pt,Le,k)=>{k.d(Le,{d:()=>B});var y=k(4482),E=k(5403);function B(se){return(0,y.e)((ue,fe)=>{let we=!1;ue.subscribe((0,E.x)(fe,te=>{we=!0,fe.next(te)},()=>{we||fe.next(se),fe.complete()}))})}},1884:(Pt,Le,k)=>{k.d(Le,{x:()=>se});var y=k(4671),E=k(4482),B=k(5403);function se(fe,we=y.y){return fe=fe??ue,(0,E.e)((te,De)=>{let X,ae=!0;te.subscribe((0,B.x)(De,be=>{const Je=we(be);(ae||!fe(X,Je))&&(ae=!1,X=Je,De.next(be))}))})}function ue(fe,we){return fe===we}},9300:(Pt,Le,k)=>{k.d(Le,{h:()=>B});var y=k(4482),E=k(5403);function B(se,ue){return(0,y.e)((fe,we)=>{let te=0;fe.subscribe((0,E.x)(we,De=>se.call(ue,De,te++)&&we.next(De)))})}},8746:(Pt,Le,k)=>{k.d(Le,{x:()=>E});var y=k(4482);function E(B){return(0,y.e)((se,ue)=>{try{se.subscribe(ue)}finally{ue.add(B)}})}},590:(Pt,Le,k)=>{k.d(Le,{P:()=>we});var y=k(6805),E=k(9300),B=k(5698),se=k(6590),ue=k(8068),fe=k(4671);function we(te,De){const X=arguments.length>=2;return ae=>ae.pipe(te?(0,E.h)((be,Je)=>te(be,Je,ae)):fe.y,(0,B.q)(1),X?(0,se.d)(De):(0,ue.T)(()=>new y.K))}},4004:(Pt,Le,k)=>{k.d(Le,{U:()=>B});var y=k(4482),E=k(5403);function B(se,ue){return(0,y.e)((fe,we)=>{let te=0;fe.subscribe((0,E.x)(we,De=>{we.next(se.call(ue,De,te++))}))})}},9718:(Pt,Le,k)=>{k.d(Le,{h:()=>E});var y=k(4004);function E(B){return(0,y.U)(()=>B)}},8189:(Pt,Le,k)=>{k.d(Le,{J:()=>B});var y=k(6099),E=k(4671);function B(se=1/0){return(0,y.z)(E.y,se)}},2733:(Pt,Le,k)=>{k.d(Le,{p:()=>se});var y=k(8421),E=k(9672),B=k(5403);function se(ue,fe,we,te,De,X,ae,be){const Je=[];let Ke=0,Ze=0,Ct=!1;const $e=()=>{Ct&&!Je.length&&!Ke&&fe.complete()},it=ft=>Ke<te?Ae(ft):Je.push(ft),Ae=ft=>{X&&fe.next(ft),Ke++;let Ue=!1;(0,y.Xf)(we(ft,Ze++)).subscribe((0,B.x)(fe,Ce=>{De?.(Ce),X?it(Ce):fe.next(Ce)},()=>{Ue=!0},void 0,()=>{if(Ue)try{for(Ke--;Je.length&&Ke<te;){const Ce=Je.shift();ae?(0,E.f)(fe,ae,()=>Ae(Ce)):Ae(Ce)}$e()}catch(Ce){fe.error(Ce)}}))};return ue.subscribe((0,B.x)(fe,it,()=>{Ct=!0,$e()})),()=>{be?.()}}},6099:(Pt,Le,k)=>{k.d(Le,{z:()=>fe});var y=k(4004),E=k(8421),B=k(4482),se=k(2733),ue=k(576);function fe(we,te,De=1/0){return(0,ue.m)(te)?fe((X,ae)=>(0,y.U)((be,Je)=>te(X,be,ae,Je))((0,E.Xf)(we(X,ae))),De):("number"==typeof te&&(De=te),(0,B.e)((X,ae)=>(0,se.p)(X,ae,we,De)))}},5363:(Pt,Le,k)=>{k.d(Le,{Q:()=>se});var y=k(9672),E=k(4482),B=k(5403);function se(ue,fe=0){return(0,E.e)((we,te)=>{we.subscribe((0,B.x)(te,De=>(0,y.f)(te,ue,()=>te.next(De),fe),()=>(0,y.f)(te,ue,()=>te.complete(),fe),De=>(0,y.f)(te,ue,()=>te.error(De),fe)))})}},2940:(Pt,Le,k)=>{k.d(Le,{R:()=>B});var y=k(4482),E=k(7359);function B(se,ue){return(0,y.e)((0,E.U)(se,ue,arguments.length>=2,!0))}},7359:(Pt,Le,k)=>{k.d(Le,{U:()=>E});var y=k(5403);function E(B,se,ue,fe,we){return(te,De)=>{let X=ue,ae=se,be=0;te.subscribe((0,y.x)(De,Je=>{const Ke=be++;ae=X?B(ae,Je,Ke):(X=!0,Je),fe&&De.next(ae)},we&&(()=>{X&&De.next(ae),De.complete()})))}}},3099:(Pt,Le,k)=>{k.d(Le,{B:()=>ue});var y=k(8421),E=k(7579),B=k(930),se=k(4482);function ue(we={}){const{connector:te=(()=>new E.x),resetOnError:De=!0,resetOnComplete:X=!0,resetOnRefCountZero:ae=!0}=we;return be=>{let Je,Ke,Ze,Ct=0,$e=!1,it=!1;const Ae=()=>{Ke?.unsubscribe(),Ke=void 0},ft=()=>{Ae(),Je=Ze=void 0,$e=it=!1},Ue=()=>{const Ce=Je;ft(),Ce?.unsubscribe()};return(0,se.e)((Ce,Ye)=>{Ct++,!it&&!$e&&Ae();const yt=Ze=Ze??te();Ye.add(()=>{Ct--,0===Ct&&!it&&!$e&&(Ke=fe(Ue,ae))}),yt.subscribe(Ye),!Je&&Ct>0&&(Je=new B.Hp({next:Oe=>yt.next(Oe),error:Oe=>{it=!0,Ae(),Ke=fe(ft,De,Oe),yt.error(Oe)},complete:()=>{$e=!0,Ae(),Ke=fe(ft,X),yt.complete()}}),(0,y.Xf)(Ce).subscribe(Je))})(be)}}function fe(we,te,...De){if(!0===te)return void we();if(!1===te)return;const X=new B.Hp({next:()=>{X.unsubscribe(),we()}});return te(...De).subscribe(X)}},3151:(Pt,Le,k)=>{k.d(Le,{d:()=>ue});var y=k(7579),E=k(6063);class B extends y.x{constructor(we=1/0,te=1/0,De=E.l){super(),this._bufferSize=we,this._windowTime=te,this._timestampProvider=De,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=te===1/0,this._bufferSize=Math.max(1,we),this._windowTime=Math.max(1,te)}next(we){const{isStopped:te,_buffer:De,_infiniteTimeWindow:X,_timestampProvider:ae,_windowTime:be}=this;te||(De.push(we),!X&&De.push(ae.now()+be)),this._trimBuffer(),super.next(we)}_subscribe(we){this._throwIfClosed(),this._trimBuffer();const te=this._innerSubscribe(we),{_infiniteTimeWindow:De,_buffer:X}=this,ae=X.slice();for(let be=0;be<ae.length&&!we.closed;be+=De?1:2)we.next(ae[be]);return this._checkFinalizedStatuses(we),te}_trimBuffer(){const{_bufferSize:we,_timestampProvider:te,_buffer:De,_infiniteTimeWindow:X}=this,ae=(X?1:2)*we;if(we<1/0&&ae<De.length&&De.splice(0,De.length-ae),!X){const be=te.now();let Je=0;for(let Ke=1;Ke<De.length&&De[Ke]<=be;Ke+=2)Je=Ke;Je&&De.splice(0,Je+1)}}}var se=k(3099);function ue(fe,we,te){let De,X=!1;return fe&&"object"==typeof fe?({bufferSize:De=1/0,windowTime:we=1/0,refCount:X=!1,scheduler:te}=fe):De=fe??1/0,(0,se.B)({connector:()=>new B(De,we,te),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:X})}},5684:(Pt,Le,k)=>{k.d(Le,{T:()=>E});var y=k(9300);function E(B){return(0,y.h)((se,ue)=>B<=ue)}},8675:(Pt,Le,k)=>{k.d(Le,{O:()=>se});var y=k(7272),E=k(3269),B=k(4482);function se(...ue){const fe=(0,E.yG)(ue);return(0,B.e)((we,te)=>{(fe?(0,y.z)(ue,we,fe):(0,y.z)(ue,we)).subscribe(te)})}},9468:(Pt,Le,k)=>{k.d(Le,{R:()=>E});var y=k(4482);function E(B,se=0){return(0,y.e)((ue,fe)=>{fe.add(B.schedule(()=>ue.subscribe(fe),se))})}},3900:(Pt,Le,k)=>{k.d(Le,{w:()=>se});var y=k(8421),E=k(4482),B=k(5403);function se(ue,fe){return(0,E.e)((we,te)=>{let De=null,X=0,ae=!1;const be=()=>ae&&!De&&te.complete();we.subscribe((0,B.x)(te,Je=>{De?.unsubscribe();let Ke=0;const Ze=X++;(0,y.Xf)(ue(Je,Ze)).subscribe(De=(0,B.x)(te,Ct=>te.next(fe?fe(Je,Ct,Ze,Ke++):Ct),()=>{De=null,be()}))},()=>{ae=!0,be()}))})}},5698:(Pt,Le,k)=>{k.d(Le,{q:()=>se});var y=k(515),E=k(4482),B=k(5403);function se(ue){return ue<=0?()=>y.E:(0,E.e)((fe,we)=>{let te=0;fe.subscribe((0,B.x)(we,De=>{++te<=ue&&(we.next(De),ue<=te&&we.complete())}))})}},8505:(Pt,Le,k)=>{k.d(Le,{b:()=>ue});var y=k(576),E=k(4482),B=k(5403),se=k(4671);function ue(fe,we,te){const De=(0,y.m)(fe)||we||te?{next:fe,error:we,complete:te}:fe;return De?(0,E.e)((X,ae)=>{var be;null===(be=De.subscribe)||void 0===be||be.call(De);let Je=!0;X.subscribe((0,B.x)(ae,Ke=>{var Ze;null===(Ze=De.next)||void 0===Ze||Ze.call(De,Ke),ae.next(Ke)},()=>{var Ke;Je=!1,null===(Ke=De.complete)||void 0===Ke||Ke.call(De),ae.complete()},Ke=>{var Ze;Je=!1,null===(Ze=De.error)||void 0===Ze||Ze.call(De,Ke),ae.error(Ke)},()=>{var Ke,Ze;Je&&(null===(Ke=De.unsubscribe)||void 0===Ke||Ke.call(De)),null===(Ze=De.finalize)||void 0===Ze||Ze.call(De)}))}):se.y}},8068:(Pt,Le,k)=>{k.d(Le,{T:()=>se});var y=k(6805),E=k(4482),B=k(5403);function se(fe=ue){return(0,E.e)((we,te)=>{let De=!1;we.subscribe((0,B.x)(te,X=>{De=!0,te.next(X)},()=>De?te.complete():te.error(fe())))})}function ue(){return new y.K}},4408:(Pt,Le,k)=>{k.d(Le,{o:()=>ue});var y=k(727);class E extends y.w0{constructor(we,te){super()}schedule(we,te=0){return this}}const B={setInterval(fe,we,...te){const{delegate:De}=B;return De?.setInterval?De.setInterval(fe,we,...te):setInterval(fe,we,...te)},clearInterval(fe){const{delegate:we}=B;return(we?.clearInterval||clearInterval)(fe)},delegate:void 0};var se=k(8737);class ue extends E{constructor(we,te){super(we,te),this.scheduler=we,this.work=te,this.pending=!1}schedule(we,te=0){var De;if(this.closed)return this;this.state=we;const X=this.id,ae=this.scheduler;return null!=X&&(this.id=this.recycleAsyncId(ae,X,te)),this.pending=!0,this.delay=te,this.id=null!==(De=this.id)&&void 0!==De?De:this.requestAsyncId(ae,this.id,te),this}requestAsyncId(we,te,De=0){return B.setInterval(we.flush.bind(we,this),De)}recycleAsyncId(we,te,De=0){if(null!=De&&this.delay===De&&!1===this.pending)return te;null!=te&&B.clearInterval(te)}execute(we,te){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const De=this._execute(we,te);if(De)return De;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(we,te){let X,De=!1;try{this.work(we)}catch(ae){De=!0,X=ae||new Error("Scheduled action threw falsy error")}if(De)return this.unsubscribe(),X}unsubscribe(){if(!this.closed){const{id:we,scheduler:te}=this,{actions:De}=te;this.work=this.state=this.scheduler=null,this.pending=!1,(0,se.P)(De,this),null!=we&&(this.id=this.recycleAsyncId(te,we,null)),this.delay=null,super.unsubscribe()}}}},7565:(Pt,Le,k)=>{k.d(Le,{v:()=>B});var y=k(6063);class E{constructor(ue,fe=E.now){this.schedulerActionCtor=ue,this.now=fe}schedule(ue,fe=0,we){return new this.schedulerActionCtor(this,ue).schedule(we,fe)}}E.now=y.l.now;class B extends E{constructor(ue,fe=E.now){super(ue,fe),this.actions=[],this._active=!1}flush(ue){const{actions:fe}=this;if(this._active)return void fe.push(ue);let we;this._active=!0;do{if(we=ue.execute(ue.state,ue.delay))break}while(ue=fe.shift());if(this._active=!1,we){for(;ue=fe.shift();)ue.unsubscribe();throw we}}}},4986:(Pt,Le,k)=>{k.d(Le,{P:()=>se,z:()=>B});var y=k(4408);const B=new(k(7565).v)(y.o),se=B},6063:(Pt,Le,k)=>{k.d(Le,{l:()=>y});const y={now:()=>(y.delegate||Date).now(),delegate:void 0}},3410:(Pt,Le,k)=>{k.d(Le,{z:()=>y});const y={setTimeout(E,B,...se){const{delegate:ue}=y;return ue?.setTimeout?ue.setTimeout(E,B,...se):setTimeout(E,B,...se)},clearTimeout(E){const{delegate:B}=y;return(B?.clearTimeout||clearTimeout)(E)},delegate:void 0}},2202:(Pt,Le,k)=>{k.d(Le,{h:()=>E});const E=function y(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Pt,Le,k)=>{k.d(Le,{L:()=>y});const y="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Pt,Le,k)=>{k.d(Le,{K:()=>E});const E=(0,k(3888).d)(B=>function(){B(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(Pt,Le,k)=>{k.d(Le,{_6:()=>fe,jO:()=>se,yG:()=>ue});var y=k(576),E=k(3532);function B(we){return we[we.length-1]}function se(we){return(0,y.m)(B(we))?we.pop():void 0}function ue(we){return(0,E.K)(B(we))?we.pop():void 0}function fe(we,te){return"number"==typeof B(we)?we.pop():te}},4742:(Pt,Le,k)=>{k.d(Le,{D:()=>ue});const{isArray:y}=Array,{getPrototypeOf:E,prototype:B,keys:se}=Object;function ue(we){if(1===we.length){const te=we[0];if(y(te))return{args:te,keys:null};if(function fe(we){return we&&"object"==typeof we&&E(we)===B}(te)){const De=se(te);return{args:De.map(X=>te[X]),keys:De}}}return{args:we,keys:null}}},8737:(Pt,Le,k)=>{function y(E,B){if(E){const se=E.indexOf(B);0<=se&&E.splice(se,1)}}k.d(Le,{P:()=>y})},3888:(Pt,Le,k)=>{function y(E){const se=E(ue=>{Error.call(ue),ue.stack=(new Error).stack});return se.prototype=Object.create(Error.prototype),se.prototype.constructor=se,se}k.d(Le,{d:()=>y})},1810:(Pt,Le,k)=>{function y(E,B){return E.reduce((se,ue,fe)=>(se[ue]=B[fe],se),{})}k.d(Le,{n:()=>y})},2806:(Pt,Le,k)=>{k.d(Le,{O:()=>se,x:()=>B});var y=k(2416);let E=null;function B(ue){if(y.v.useDeprecatedSynchronousErrorHandling){const fe=!E;if(fe&&(E={errorThrown:!1,error:null}),ue(),fe){const{errorThrown:we,error:te}=E;if(E=null,we)throw te}}else ue()}function se(ue){y.v.useDeprecatedSynchronousErrorHandling&&E&&(E.errorThrown=!0,E.error=ue)}},9672:(Pt,Le,k)=>{function y(E,B,se,ue=0,fe=!1){const we=B.schedule(function(){se(),fe?E.add(this.schedule(null,ue)):this.unsubscribe()},ue);if(E.add(we),!fe)return we}k.d(Le,{f:()=>y})},4671:(Pt,Le,k)=>{function y(E){return E}k.d(Le,{y:()=>y})},1144:(Pt,Le,k)=>{k.d(Le,{z:()=>y});const y=E=>E&&"number"==typeof E.length&&"function"!=typeof E},2206:(Pt,Le,k)=>{k.d(Le,{D:()=>E});var y=k(576);function E(B){return Symbol.asyncIterator&&(0,y.m)(B?.[Symbol.asyncIterator])}},576:(Pt,Le,k)=>{function y(E){return"function"==typeof E}k.d(Le,{m:()=>y})},3670:(Pt,Le,k)=>{k.d(Le,{c:()=>B});var y=k(8822),E=k(576);function B(se){return(0,E.m)(se[y.L])}},6495:(Pt,Le,k)=>{k.d(Le,{T:()=>B});var y=k(2202),E=k(576);function B(se){return(0,E.m)(se?.[y.h])}},8239:(Pt,Le,k)=>{k.d(Le,{t:()=>E});var y=k(576);function E(B){return(0,y.m)(B?.then)}},3260:(Pt,Le,k)=>{k.d(Le,{L:()=>se,Q:()=>B});var y=k(655),E=k(576);function B(ue){return(0,y.FC)(this,arguments,function*(){const we=ue.getReader();try{for(;;){const{value:te,done:De}=yield(0,y.qq)(we.read());if(De)return yield(0,y.qq)(void 0);yield yield(0,y.qq)(te)}}finally{we.releaseLock()}})}function se(ue){return(0,E.m)(ue?.getReader)}},3532:(Pt,Le,k)=>{k.d(Le,{K:()=>E});var y=k(576);function E(B){return B&&(0,y.m)(B.schedule)}},4482:(Pt,Le,k)=>{k.d(Le,{A:()=>E,e:()=>B});var y=k(576);function E(se){return(0,y.m)(se?.lift)}function B(se){return ue=>{if(E(ue))return ue.lift(function(fe){try{return se(fe,this)}catch(we){this.error(we)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Pt,Le,k)=>{k.d(Le,{Z:()=>se});var y=k(4004);const{isArray:E}=Array;function se(ue){return(0,y.U)(fe=>function B(ue,fe){return E(fe)?ue(...fe):ue(fe)}(ue,fe))}},5032:(Pt,Le,k)=>{function y(){}k.d(Le,{Z:()=>y})},9635:(Pt,Le,k)=>{k.d(Le,{U:()=>B,z:()=>E});var y=k(4671);function E(...se){return B(se)}function B(se){return 0===se.length?y.y:1===se.length?se[0]:function(fe){return se.reduce((we,te)=>te(we),fe)}}},7849:(Pt,Le,k)=>{k.d(Le,{h:()=>B});var y=k(2416),E=k(3410);function B(se){E.z.setTimeout(()=>{const{onUnhandledError:ue}=y.v;if(!ue)throw se;ue(se)})}},4532:(Pt,Le,k)=>{function y(E){return new TypeError(`You provided ${null!==E&&"object"==typeof E?"an invalid object":`'${E}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(Le,{z:()=>y})},655:(Pt,Le,k)=>{function se(Ie,Re){var Xe={};for(var ce in Ie)Object.prototype.hasOwnProperty.call(Ie,ce)&&Re.indexOf(ce)<0&&(Xe[ce]=Ie[ce]);if(null!=Ie&&"function"==typeof Object.getOwnPropertySymbols){var at=0;for(ce=Object.getOwnPropertySymbols(Ie);at<ce.length;at++)Re.indexOf(ce[at])<0&&Object.prototype.propertyIsEnumerable.call(Ie,ce[at])&&(Xe[ce[at]]=Ie[ce[at]])}return Xe}function te(Ie,Re,Xe,ce){return new(Xe||(Xe=Promise))(function(Be,It){function Wt(un){try{mt(ce.next(un))}catch(En){It(En)}}function Ft(un){try{mt(ce.throw(un))}catch(En){It(En)}}function mt(un){un.done?Be(un.value):function at(Be){return Be instanceof Xe?Be:new Xe(function(It){It(Be)})}(un.value).then(Wt,Ft)}mt((ce=ce.apply(Ie,Re||[])).next())})}function $e(Ie){return this instanceof $e?(this.v=Ie,this):new $e(Ie)}function it(Ie,Re,Xe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var at,ce=Xe.apply(Ie,Re||[]),Be=[];return at={},It("next"),It("throw"),It("return"),at[Symbol.asyncIterator]=function(){return this},at;function It(bn){ce[bn]&&(at[bn]=function(Nt){return new Promise(function(dn,en){Be.push([bn,Nt,dn,en])>1||Wt(bn,Nt)})})}function Wt(bn,Nt){try{!function Ft(bn){bn.value instanceof $e?Promise.resolve(bn.value.v).then(mt,un):En(Be[0][2],bn)}(ce[bn](Nt))}catch(dn){En(Be[0][3],dn)}}function mt(bn){Wt("next",bn)}function un(bn){Wt("throw",bn)}function En(bn,Nt){bn(Nt),Be.shift(),Be.length&&Wt(Be[0][0],Be[0][1])}}function ft(Ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Xe,Re=Ie[Symbol.asyncIterator];return Re?Re.call(Ie):(Ie=function be(Ie){var Re="function"==typeof Symbol&&Symbol.iterator,Xe=Re&&Ie[Re],ce=0;if(Xe)return Xe.call(Ie);if(Ie&&"number"==typeof Ie.length)return{next:function(){return Ie&&ce>=Ie.length&&(Ie=void 0),{value:Ie&&Ie[ce++],done:!Ie}}};throw new TypeError(Re?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ie),Xe={},ce("next"),ce("throw"),ce("return"),Xe[Symbol.asyncIterator]=function(){return this},Xe);function ce(Be){Xe[Be]=Ie[Be]&&function(It){return new Promise(function(Wt,Ft){!function at(Be,It,Wt,Ft){Promise.resolve(Ft).then(function(mt){Be({value:mt,done:Wt})},It)}(Wt,Ft,(It=Ie[Be](It)).done,It.value)})}}}k.d(Le,{FC:()=>it,KL:()=>ft,_T:()=>se,mG:()=>te,qq:()=>$e})},7340:(Pt,Le,k)=>{k.d(Le,{IO:()=>Ze,LC:()=>E,SB:()=>De,X$:()=>se,ZE:()=>Ae,ZN:()=>it,_j:()=>y,eR:()=>ae,jt:()=>ue,k1:()=>ft,l3:()=>B,oB:()=>te,pV:()=>Je,ru:()=>fe,vP:()=>we});class y{}class E{}const B="*";function se(Ue,Ce){return{type:7,name:Ue,definitions:Ce,options:{}}}function ue(Ue,Ce=null){return{type:4,styles:Ce,timings:Ue}}function fe(Ue,Ce=null){return{type:3,steps:Ue,options:Ce}}function we(Ue,Ce=null){return{type:2,steps:Ue,options:Ce}}function te(Ue){return{type:6,styles:Ue,offset:null}}function De(Ue,Ce,Ye){return{type:0,name:Ue,styles:Ce,options:Ye}}function ae(Ue,Ce,Ye=null){return{type:1,expr:Ue,animation:Ce,options:Ye}}function Je(Ue=null){return{type:9,options:Ue}}function Ze(Ue,Ce,Ye=null){return{type:11,selector:Ue,animation:Ce,options:Ye}}function $e(Ue){Promise.resolve().then(Ue)}class it{constructor(Ce=0,Ye=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Ce+Ye}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ce=>Ce()),this._onDoneFns=[])}onStart(Ce){this._originalOnStartFns.push(Ce),this._onStartFns.push(Ce)}onDone(Ce){this._originalOnDoneFns.push(Ce),this._onDoneFns.push(Ce)}onDestroy(Ce){this._onDestroyFns.push(Ce)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){$e(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Ce=>Ce()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Ce=>Ce()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Ce){this._position=this.totalTime?Ce*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Ce){const Ye="start"==Ce?this._onStartFns:this._onDoneFns;Ye.forEach(yt=>yt()),Ye.length=0}}class Ae{constructor(Ce){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Ce;let Ye=0,yt=0,Oe=0;const He=this.players.length;0==He?$e(()=>this._onFinish()):this.players.forEach(nt=>{nt.onDone(()=>{++Ye==He&&this._onFinish()}),nt.onDestroy(()=>{++yt==He&&this._onDestroy()}),nt.onStart(()=>{++Oe==He&&this._onStart()})}),this.totalTime=this.players.reduce((nt,Ie)=>Math.max(nt,Ie.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ce=>Ce()),this._onDoneFns=[])}init(){this.players.forEach(Ce=>Ce.init())}onStart(Ce){this._onStartFns.push(Ce)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Ce=>Ce()),this._onStartFns=[])}onDone(Ce){this._onDoneFns.push(Ce)}onDestroy(Ce){this._onDestroyFns.push(Ce)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Ce=>Ce.play())}pause(){this.players.forEach(Ce=>Ce.pause())}restart(){this.players.forEach(Ce=>Ce.restart())}finish(){this._onFinish(),this.players.forEach(Ce=>Ce.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Ce=>Ce.destroy()),this._onDestroyFns.forEach(Ce=>Ce()),this._onDestroyFns=[])}reset(){this.players.forEach(Ce=>Ce.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Ce){const Ye=Ce*this.totalTime;this.players.forEach(yt=>{const Oe=yt.totalTime?Math.min(1,Ye/yt.totalTime):1;yt.setPosition(Oe)})}getPosition(){const Ce=this.players.reduce((Ye,yt)=>null===Ye||yt.totalTime>Ye.totalTime?yt:Ye,null);return null!=Ce?Ce.getPosition():0}beforeDestroy(){this.players.forEach(Ce=>{Ce.beforeDestroy&&Ce.beforeDestroy()})}triggerCallback(Ce){const Ye="start"==Ce?this._onStartFns:this._onDoneFns;Ye.forEach(yt=>yt()),Ye.length=0}}const ft="!"},6895:(Pt,Le,k)=>{k.d(Le,{Do:()=>ft,EM:()=>Ga,HT:()=>ue,JF:()=>ao,K0:()=>we,Mx:()=>Qs,NF:()=>Yr,Nd:()=>io,O5:()=>Ge,Ov:()=>Ca,PC:()=>Xs,PM:()=>bo,RF:()=>kn,S$:()=>$e,V_:()=>X,Ye:()=>Ue,b0:()=>Ae,bD:()=>es,ez:()=>vu,mk:()=>Hn,n9:()=>zr,q:()=>B,sg:()=>Hi,tP:()=>Ci,w_:()=>fe});var y=k(4650);let E=null;function B(){return E}function ue(M){E||(E=M)}class fe{}const we=new y.OlP("DocumentToken");let te=(()=>{class M{historyGo(N){throw new Error("Not implemented")}}return M.\u0275fac=function(N){return new(N||M)},M.\u0275prov=y.Yz7({token:M,factory:function(){return function De(){return(0,y.LFG)(ae)}()},providedIn:"platform"}),M})();const X=new y.OlP("Location Initialized");let ae=(()=>{class M extends te{constructor(N){super(),this._doc=N,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return B().getBaseHref(this._doc)}onPopState(N){const Z=B().getGlobalEventTarget(this._doc,"window");return Z.addEventListener("popstate",N,!1),()=>Z.removeEventListener("popstate",N)}onHashChange(N){const Z=B().getGlobalEventTarget(this._doc,"window");return Z.addEventListener("hashchange",N,!1),()=>Z.removeEventListener("hashchange",N)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(N){this.location.pathname=N}pushState(N,Z,Ee){be()?this._history.pushState(N,Z,Ee):this.location.hash=Ee}replaceState(N,Z,Ee){be()?this._history.replaceState(N,Z,Ee):this.location.hash=Ee}forward(){this._history.forward()}back(){this._history.back()}historyGo(N=0){this._history.go(N)}getState(){return this._history.state}}return M.\u0275fac=function(N){return new(N||M)(y.LFG(we))},M.\u0275prov=y.Yz7({token:M,factory:function(){return function Je(){return new ae((0,y.LFG)(we))}()},providedIn:"platform"}),M})();function be(){return!!window.history.pushState}function Ke(M,H){if(0==M.length)return H;if(0==H.length)return M;let N=0;return M.endsWith("/")&&N++,H.startsWith("/")&&N++,2==N?M+H.substring(1):1==N?M+H:M+"/"+H}function Ze(M){const H=M.match(/#|\?|$/),N=H&&H.index||M.length;return M.slice(0,N-("/"===M[N-1]?1:0))+M.slice(N)}function Ct(M){return M&&"?"!==M[0]?"?"+M:M}let $e=(()=>{class M{historyGo(N){throw new Error("Not implemented")}}return M.\u0275fac=function(N){return new(N||M)},M.\u0275prov=y.Yz7({token:M,factory:function(){return(0,y.f3M)(Ae)},providedIn:"root"}),M})();const it=new y.OlP("appBaseHref");let Ae=(()=>{class M extends $e{constructor(N,Z){super(),this._platformLocation=N,this._removeListenerFns=[],this._baseHref=Z??this._platformLocation.getBaseHrefFromDOM()??(0,y.f3M)(we).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(N){this._removeListenerFns.push(this._platformLocation.onPopState(N),this._platformLocation.onHashChange(N))}getBaseHref(){return this._baseHref}prepareExternalUrl(N){return Ke(this._baseHref,N)}path(N=!1){const Z=this._platformLocation.pathname+Ct(this._platformLocation.search),Ee=this._platformLocation.hash;return Ee&&N?`${Z}${Ee}`:Z}pushState(N,Z,Ee,ot){const ct=this.prepareExternalUrl(Ee+Ct(ot));this._platformLocation.pushState(N,Z,ct)}replaceState(N,Z,Ee,ot){const ct=this.prepareExternalUrl(Ee+Ct(ot));this._platformLocation.replaceState(N,Z,ct)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(N=0){this._platformLocation.historyGo?.(N)}}return M.\u0275fac=function(N){return new(N||M)(y.LFG(te),y.LFG(it,8))},M.\u0275prov=y.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})(),ft=(()=>{class M extends $e{constructor(N,Z){super(),this._platformLocation=N,this._baseHref="",this._removeListenerFns=[],null!=Z&&(this._baseHref=Z)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(N){this._removeListenerFns.push(this._platformLocation.onPopState(N),this._platformLocation.onHashChange(N))}getBaseHref(){return this._baseHref}path(N=!1){let Z=this._platformLocation.hash;return null==Z&&(Z="#"),Z.length>0?Z.substring(1):Z}prepareExternalUrl(N){const Z=Ke(this._baseHref,N);return Z.length>0?"#"+Z:Z}pushState(N,Z,Ee,ot){let ct=this.prepareExternalUrl(Ee+Ct(ot));0==ct.length&&(ct=this._platformLocation.pathname),this._platformLocation.pushState(N,Z,ct)}replaceState(N,Z,Ee,ot){let ct=this.prepareExternalUrl(Ee+Ct(ot));0==ct.length&&(ct=this._platformLocation.pathname),this._platformLocation.replaceState(N,Z,ct)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(N=0){this._platformLocation.historyGo?.(N)}}return M.\u0275fac=function(N){return new(N||M)(y.LFG(te),y.LFG(it,8))},M.\u0275prov=y.Yz7({token:M,factory:M.\u0275fac}),M})(),Ue=(()=>{class M{constructor(N){this._subject=new y.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=N;const Z=this._locationStrategy.getBaseHref();this._baseHref=Ze(yt(Z)),this._locationStrategy.onPopState(Ee=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ee.state,type:Ee.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(N=!1){return this.normalize(this._locationStrategy.path(N))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(N,Z=""){return this.path()==this.normalize(N+Ct(Z))}normalize(N){return M.stripTrailingSlash(function Ye(M,H){return M&&H.startsWith(M)?H.substring(M.length):H}(this._baseHref,yt(N)))}prepareExternalUrl(N){return N&&"/"!==N[0]&&(N="/"+N),this._locationStrategy.prepareExternalUrl(N)}go(N,Z="",Ee=null){this._locationStrategy.pushState(Ee,"",N,Z),this._notifyUrlChangeListeners(this.prepareExternalUrl(N+Ct(Z)),Ee)}replaceState(N,Z="",Ee=null){this._locationStrategy.replaceState(Ee,"",N,Z),this._notifyUrlChangeListeners(this.prepareExternalUrl(N+Ct(Z)),Ee)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(N=0){this._locationStrategy.historyGo?.(N)}onUrlChange(N){return this._urlChangeListeners.push(N),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Z=>{this._notifyUrlChangeListeners(Z.url,Z.state)})),()=>{const Z=this._urlChangeListeners.indexOf(N);this._urlChangeListeners.splice(Z,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(N="",Z){this._urlChangeListeners.forEach(Ee=>Ee(N,Z))}subscribe(N,Z,Ee){return this._subject.subscribe({next:N,error:Z,complete:Ee})}}return M.normalizeQueryParams=Ct,M.joinWithSlash=Ke,M.stripTrailingSlash=Ze,M.\u0275fac=function(N){return new(N||M)(y.LFG($e))},M.\u0275prov=y.Yz7({token:M,factory:function(){return function Ce(){return new Ue((0,y.LFG)($e))}()},providedIn:"root"}),M})();function yt(M){return M.replace(/\/index.html$/,"")}function Qs(M,H){H=encodeURIComponent(H);for(const N of M.split(";")){const Z=N.indexOf("="),[Ee,ot]=-1==Z?[N,""]:[N.slice(0,Z),N.slice(Z+1)];if(Ee.trim()===H)return decodeURIComponent(ot)}return null}let Hn=(()=>{class M{constructor(N,Z,Ee,ot){this._iterableDiffers=N,this._keyValueDiffers=Z,this._ngEl=Ee,this._renderer=ot,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(N){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof N?N.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(N){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof N?N.split(/\s+/):N,this._rawClass&&((0,y.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const N=this._iterableDiffer.diff(this._rawClass);N&&this._applyIterableChanges(N)}else if(this._keyValueDiffer){const N=this._keyValueDiffer.diff(this._rawClass);N&&this._applyKeyValueChanges(N)}}_applyKeyValueChanges(N){N.forEachAddedItem(Z=>this._toggleClass(Z.key,Z.currentValue)),N.forEachChangedItem(Z=>this._toggleClass(Z.key,Z.currentValue)),N.forEachRemovedItem(Z=>{Z.previousValue&&this._toggleClass(Z.key,!1)})}_applyIterableChanges(N){N.forEachAddedItem(Z=>{if("string"!=typeof Z.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,y.AaK)(Z.item)}`);this._toggleClass(Z.item,!0)}),N.forEachRemovedItem(Z=>this._toggleClass(Z.item,!1))}_applyClasses(N){N&&(Array.isArray(N)||N instanceof Set?N.forEach(Z=>this._toggleClass(Z,!0)):Object.keys(N).forEach(Z=>this._toggleClass(Z,!!N[Z])))}_removeClasses(N){N&&(Array.isArray(N)||N instanceof Set?N.forEach(Z=>this._toggleClass(Z,!1)):Object.keys(N).forEach(Z=>this._toggleClass(Z,!1)))}_toggleClass(N,Z){(N=N.trim())&&N.split(/\s+/g).forEach(Ee=>{Z?this._renderer.addClass(this._ngEl.nativeElement,Ee):this._renderer.removeClass(this._ngEl.nativeElement,Ee)})}}return M.\u0275fac=function(N){return new(N||M)(y.Y36(y.ZZ4),y.Y36(y.aQg),y.Y36(y.SBq),y.Y36(y.Qsj))},M.\u0275dir=y.lG2({type:M,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),M})();class ji{constructor(H,N,Z,Ee){this.$implicit=H,this.ngForOf=N,this.index=Z,this.count=Ee}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Hi=(()=>{class M{constructor(N,Z,Ee){this._viewContainer=N,this._template=Z,this._differs=Ee,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(N){this._ngForOf=N,this._ngForOfDirty=!0}set ngForTrackBy(N){this._trackByFn=N}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(N){N&&(this._template=N)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const N=this._ngForOf;!this._differ&&N&&(this._differ=this._differs.find(N).create(this.ngForTrackBy))}if(this._differ){const N=this._differ.diff(this._ngForOf);N&&this._applyChanges(N)}}_applyChanges(N){const Z=this._viewContainer;N.forEachOperation((Ee,ot,ct)=>{if(null==Ee.previousIndex)Z.createEmbeddedView(this._template,new ji(Ee.item,this._ngForOf,-1,-1),null===ct?void 0:ct);else if(null==ct)Z.remove(null===ot?void 0:ot);else if(null!==ot){const Jt=Z.get(ot);Z.move(Jt,ct),Fe(Jt,Ee)}});for(let Ee=0,ot=Z.length;Ee<ot;Ee++){const Jt=Z.get(Ee).context;Jt.index=Ee,Jt.count=ot,Jt.ngForOf=this._ngForOf}N.forEachIdentityChange(Ee=>{Fe(Z.get(Ee.currentIndex),Ee)})}static ngTemplateContextGuard(N,Z){return!0}}return M.\u0275fac=function(N){return new(N||M)(y.Y36(y.s_b),y.Y36(y.Rgc),y.Y36(y.ZZ4))},M.\u0275dir=y.lG2({type:M,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),M})();function Fe(M,H){M.context.$implicit=H.item}let Ge=(()=>{class M{constructor(N,Z){this._viewContainer=N,this._context=new pt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Z}set ngIf(N){this._context.$implicit=this._context.ngIf=N,this._updateView()}set ngIfThen(N){bt("ngIfThen",N),this._thenTemplateRef=N,this._thenViewRef=null,this._updateView()}set ngIfElse(N){bt("ngIfElse",N),this._elseTemplateRef=N,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(N,Z){return!0}}return M.\u0275fac=function(N){return new(N||M)(y.Y36(y.s_b),y.Y36(y.Rgc))},M.\u0275dir=y.lG2({type:M,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),M})();class pt{constructor(){this.$implicit=null,this.ngIf=null}}function bt(M,H){if(H&&!H.createEmbeddedView)throw new Error(`${M} must be a TemplateRef, but received '${(0,y.AaK)(H)}'.`)}class jt{constructor(H,N){this._viewContainerRef=H,this._templateRef=N,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(H){H&&!this._created?this.create():!H&&this._created&&this.destroy()}}let kn=(()=>{class M{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(N){this._ngSwitch=N,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(N){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(N)}_matchCase(N){const Z=N==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||Z,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),Z}_updateDefaultCases(N){if(this._defaultViews&&N!==this._defaultUsed){this._defaultUsed=N;for(let Z=0;Z<this._defaultViews.length;Z++)this._defaultViews[Z].enforceState(N)}}}return M.\u0275fac=function(N){return new(N||M)},M.\u0275dir=y.lG2({type:M,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),M})(),zr=(()=>{class M{constructor(N,Z,Ee){this.ngSwitch=Ee,Ee._addCase(),this._view=new jt(N,Z)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return M.\u0275fac=function(N){return new(N||M)(y.Y36(y.s_b),y.Y36(y.Rgc),y.Y36(kn,9))},M.\u0275dir=y.lG2({type:M,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),M})(),Xs=(()=>{class M{constructor(N,Z,Ee){this._ngEl=N,this._differs=Z,this._renderer=Ee,this._ngStyle=null,this._differ=null}set ngStyle(N){this._ngStyle=N,!this._differ&&N&&(this._differ=this._differs.find(N).create())}ngDoCheck(){if(this._differ){const N=this._differ.diff(this._ngStyle);N&&this._applyChanges(N)}}_setStyle(N,Z){const[Ee,ot]=N.split("."),ct=-1===Ee.indexOf("-")?void 0:y.JOm.DashCase;null!=Z?this._renderer.setStyle(this._ngEl.nativeElement,Ee,ot?`${Z}${ot}`:Z,ct):this._renderer.removeStyle(this._ngEl.nativeElement,Ee,ct)}_applyChanges(N){N.forEachRemovedItem(Z=>this._setStyle(Z.key,null)),N.forEachAddedItem(Z=>this._setStyle(Z.key,Z.currentValue)),N.forEachChangedItem(Z=>this._setStyle(Z.key,Z.currentValue))}}return M.\u0275fac=function(N){return new(N||M)(y.Y36(y.SBq),y.Y36(y.aQg),y.Y36(y.Qsj))},M.\u0275dir=y.lG2({type:M,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),M})(),Ci=(()=>{class M{constructor(N){this._viewContainerRef=N,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(N){if(N.ngTemplateOutlet||N.ngTemplateOutletInjector){const Z=this._viewContainerRef;if(this._viewRef&&Z.remove(Z.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Ee,ngTemplateOutletContext:ot,ngTemplateOutletInjector:ct}=this;this._viewRef=Z.createEmbeddedView(Ee,ot,ct?{injector:ct}:void 0)}else this._viewRef=null}else this._viewRef&&N.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return M.\u0275fac=function(N){return new(N||M)(y.Y36(y.s_b))},M.\u0275dir=y.lG2({type:M,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[y.TTD]}),M})();class tu{createSubscription(H,N){return H.subscribe({next:N,error:Z=>{throw Z}})}dispose(H){H.unsubscribe()}}class Ps{createSubscription(H,N){return H.then(N,Z=>{throw Z})}dispose(H){}}const yu=new Ps,Eo=new tu;let Ca=(()=>{class M{constructor(N){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=N}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(N){return this._obj?N!==this._obj?(this._dispose(),this.transform(N)):this._latestValue:(N&&this._subscribe(N),this._latestValue)}_subscribe(N){this._obj=N,this._strategy=this._selectStrategy(N),this._subscription=this._strategy.createSubscription(N,Z=>this._updateLatestValue(N,Z))}_selectStrategy(N){if((0,y.QGY)(N))return yu;if((0,y.F4k)(N))return Eo;throw function Ji(M,H){return new y.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(N,Z){N===this._obj&&(this._latestValue=Z,this._ref.markForCheck())}}return M.\u0275fac=function(N){return new(N||M)(y.Y36(y.sBO,16))},M.\u0275pipe=y.Yjl({name:"async",type:M,pure:!1,standalone:!0}),M})(),io=(()=>{class M{constructor(N){this.differs=N,this.keyValues=[],this.compareFn=ti}transform(N,Z=ti){if(!N||!(N instanceof Map)&&"object"!=typeof N)return null;this.differ||(this.differ=this.differs.find(N).create());const Ee=this.differ.diff(N),ot=Z!==this.compareFn;return Ee&&(this.keyValues=[],Ee.forEachItem(ct=>{this.keyValues.push(function ro(M,H){return{key:M,value:H}}(ct.key,ct.currentValue))})),(Ee||ot)&&(this.keyValues.sort(Z),this.compareFn=Z),this.keyValues}}return M.\u0275fac=function(N){return new(N||M)(y.Y36(y.aQg,16))},M.\u0275pipe=y.Yjl({name:"keyvalue",type:M,pure:!1,standalone:!0}),M})();function ti(M,H){const N=M.key,Z=H.key;if(N===Z)return 0;if(void 0===N)return 1;if(void 0===Z)return-1;if(null===N)return 1;if(null===Z)return-1;if("string"==typeof N&&"string"==typeof Z)return N<Z?-1:1;if("number"==typeof N&&"number"==typeof Z)return N-Z;if("boolean"==typeof N&&"boolean"==typeof Z)return N<Z?-1:1;const Ee=String(N),ot=String(Z);return Ee==ot?0:Ee<ot?-1:1}let vu=(()=>{class M{}return M.\u0275fac=function(N){return new(N||M)},M.\u0275mod=y.oAB({type:M}),M.\u0275inj=y.cJS({}),M})();const es="browser";function Yr(M){return M===es}function bo(M){return"server"===M}let Ga=(()=>{class M{}return M.\u0275prov=(0,y.Yz7)({token:M,providedIn:"root",factory:()=>new ku((0,y.LFG)(we),window)}),M})();class ku{constructor(H,N){this.document=H,this.window=N,this.offset=()=>[0,0]}setOffset(H){this.offset=Array.isArray(H)?()=>H:H}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(H){this.supportsScrolling()&&this.window.scrollTo(H[0],H[1])}scrollToAnchor(H){if(!this.supportsScrolling())return;const N=function Li(M,H){const N=M.getElementById(H)||M.getElementsByName(H)[0];if(N)return N;if("function"==typeof M.createTreeWalker&&M.body&&(M.body.createShadowRoot||M.body.attachShadow)){const Z=M.createTreeWalker(M.body,NodeFilter.SHOW_ELEMENT);let Ee=Z.currentNode;for(;Ee;){const ot=Ee.shadowRoot;if(ot){const ct=ot.getElementById(H)||ot.querySelector(`[name="${H}"]`);if(ct)return ct}Ee=Z.nextNode()}}return null}(this.document,H);N&&(this.scrollToElement(N),N.focus())}setHistoryScrollRestoration(H){if(this.supportScrollRestoration()){const N=this.window.history;N&&N.scrollRestoration&&(N.scrollRestoration=H)}}scrollToElement(H){const N=H.getBoundingClientRect(),Z=N.left+this.window.pageXOffset,Ee=N.top+this.window.pageYOffset,ot=this.offset();this.window.scrollTo(Z-ot[0],Ee-ot[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const H=Ds(this.window.history)||Ds(Object.getPrototypeOf(this.window.history));return!(!H||!H.writable&&!H.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ds(M){return Object.getOwnPropertyDescriptor(M,"scrollRestoration")}class ao{}},4650:(Pt,Le,k)=>{k.d(Le,{$8M:()=>Ro,$Z:()=>qd,AFp:()=>j0,ALo:()=>u0,AaK:()=>te,BQk:()=>Vl,CHM:()=>nu,CRH:()=>v0,CZH:()=>Mm,CqO:()=>nm,D6c:()=>SI,DdM:()=>Q_,EJc:()=>VD,EiD:()=>Gs,EpF:()=>bc,F$t:()=>rp,F4k:()=>tm,FYo:()=>Mp,FiY:()=>St,G48:()=>aI,Gf:()=>m0,GfV:()=>xp,GkF:()=>mh,Gpc:()=>ae,Gre:()=>mi,Hsn:()=>am,Ikx:()=>Zy,JOm:()=>bu,JVY:()=>zn,KtG:()=>Vo,L6k:()=>Rn,LAX:()=>Ri,LFG:()=>ii,LMc:()=>CI,LSH:()=>bl,Lbi:()=>LD,Lck:()=>kw,MAs:()=>Jf,MMx:()=>iv,NdJ:()=>ep,O4$:()=>Jt,OlP:()=>Tr,Oqu:()=>Te,PXZ:()=>tI,Q6J:()=>dd,QGY:()=>Xf,QP$:()=>_t,QbO:()=>FD,Qsj:()=>jm,R0b:()=>Ou,RDi:()=>zl,Rgc:()=>mp,SBq:()=>Oc,Sil:()=>jD,Suo:()=>y0,TTD:()=>gr,TgZ:()=>Ul,Tol:()=>mm,Udp:()=>gm,VKq:()=>J_,W1O:()=>D0,WFA:()=>tp,WLB:()=>X_,X6Q:()=>oI,XFs:()=>Ut,Xpm:()=>j,Xts:()=>Th,Y36:()=>cc,YKP:()=>j_,YNc:()=>gl,Yjl:()=>ge,Yz7:()=>Nt,Z0I:()=>Mr,ZZ4:()=>Av,_Bn:()=>$_,_UZ:()=>ph,_Vd:()=>ol,_c5:()=>II,_uU:()=>ne,aQg:()=>Mv,c2e:()=>UD,cJS:()=>en,cg1:()=>Yy,d8E:()=>qy,dDg:()=>QD,dqk:()=>ln,eBb:()=>Hr,eFA:()=>tE,ekj:()=>up,eoX:()=>J0,evT:()=>jh,f3M:()=>Uu,g9A:()=>z0,h0i:()=>Ih,hGG:()=>bI,hij:()=>rt,iGM:()=>g0,ifc:()=>Yt,ip1:()=>$0,jDz:()=>z_,kL8:()=>f_,kYT:()=>_e,kcU:()=>hr,l5B:()=>e0,lG2:()=>xe,lcZ:()=>l0,lqb:()=>sl,lri:()=>Y0,mCW:()=>p,n5z:()=>ru,n_E:()=>bm,oAB:()=>Zt,oJD:()=>Il,oxw:()=>om,pB0:()=>xs,q3G:()=>Pi,q4F:()=>Rp,qLn:()=>cu,qOj:()=>Gf,qZA:()=>Bl,qbA:()=>t0,qzn:()=>Tn,rWj:()=>Q0,s9C:()=>ip,sBO:()=>uI,sIi:()=>ad,s_b:()=>Tm,soG:()=>xm,tb:()=>W0,tp0:()=>Qt,uIk:()=>Ru,vHH:()=>Ze,vpe:()=>_l,wAp:()=>jn,xp6:()=>hf,ynx:()=>gh,z2F:()=>Rm,z3N:()=>yn,zSh:()=>Rh,zs3:()=>Wu});var y=k(7579),E=k(727),B=k(9751),se=k(6451),ue=k(3099);function fe(t){for(let r in t)if(t[r]===fe)return r;throw Error("Could not find renamed property on target object.")}function we(t,r){for(const s in r)r.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=r[s])}function te(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(te).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function De(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const X=fe({__forward_ref__:fe});function ae(t){return t.__forward_ref__=ae,t.toString=function(){return te(this())},t}function be(t){return Je(t)?t():t}function Je(t){return"function"==typeof t&&t.hasOwnProperty(X)&&t.__forward_ref__===ae}class Ze extends Error{constructor(r,s){super(function Ct(t,r){return`NG0${Math.abs(t)}${r?": "+r.trim():""}`}(r,s)),this.code=r}}function $e(t){return"string"==typeof t?t:null==t?"":String(t)}function Ce(t,r){throw new Ze(-201,!1)}function Ft(t,r){null==t&&function mt(t,r,s,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,t,null,"!=")}function Nt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function en(t){return{providers:t.providers||[],imports:t.imports||[]}}function yr(t){return Qn(t,Jn)||Qn(t,Pn)}function Mr(t){return null!==yr(t)}function Qn(t,r){return t.hasOwnProperty(r)?t[r]:null}function fr(t){return t&&(t.hasOwnProperty(Mn)||t.hasOwnProperty(vn))?t[Mn]:null}const Jn=fe({\u0275prov:fe}),Mn=fe({\u0275inj:fe}),Pn=fe({ngInjectableDef:fe}),vn=fe({ngInjectorDef:fe});var Ut=(()=>((Ut=Ut||{})[Ut.Default=0]="Default",Ut[Ut.Host=1]="Host",Ut[Ut.Self=2]="Self",Ut[Ut.SkipSelf=4]="SkipSelf",Ut[Ut.Optional=8]="Optional",Ut))();let ur;function er(t){const r=ur;return ur=t,r}function _r(t,r,s){const a=yr(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&Ut.Optional?null:void 0!==r?r:void Ce(te(t))}function Xn(t){return{toString:t}.toString()}var rr=(()=>((rr=rr||{})[rr.OnPush=0]="OnPush",rr[rr.Default=1]="Default",rr))(),Yt=(()=>{return(t=Yt||(Yt={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",Yt;var t})();const ln=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Rr={},tn=[],Pr=fe({\u0275cmp:fe}),pn=fe({\u0275dir:fe}),tr=fe({\u0275pipe:fe}),gn=fe({\u0275mod:fe}),or=fe({\u0275fac:fe}),nr=fe({__NG_ELEMENT_ID__:fe});let We=0;function j(t){return Xn(()=>{const s=!0===t.standalone,a={},l={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===rr.OnPush,directiveDefs:null,pipeDefs:null,standalone:s,dependencies:s&&t.dependencies||null,getStandaloneInjector:null,selectors:t.selectors||tn,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Yt.Emulated,id:"c"+We++,styles:t.styles||tn,_:null,setInput:null,schemas:t.schemas||null,tView:null},h=t.dependencies,v=t.features;return l.inputs=ye(t.inputs,a),l.outputs=ye(t.outputs),v&&v.forEach(S=>S(l)),l.directiveDefs=h?()=>("function"==typeof h?h():h).map(ke).filter(st):null,l.pipeDefs=h?()=>("function"==typeof h?h():h).map(ze).filter(st):null,l})}function ke(t){return K(t)||le(t)}function st(t){return null!==t}function Zt(t){return Xn(()=>({type:t.type,bootstrap:t.bootstrap||tn,declarations:t.declarations||tn,imports:t.imports||tn,exports:t.exports||tn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function _e(t,r){return Xn(()=>{const s=zt(t,!0);s.declarations=r.declarations||tn,s.imports=r.imports||tn,s.exports=r.exports||tn})}function ye(t,r){if(null==t)return Rr;const s={};for(const a in t)if(t.hasOwnProperty(a)){let l=t[a],h=l;Array.isArray(l)&&(h=l[1],l=l[0]),s[l]=a,r&&(r[l]=h)}return s}const xe=j;function ge(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function K(t){return t[Pr]||null}function le(t){return t[pn]||null}function ze(t){return t[tr]||null}function _t(t){const r=K(t)||le(t)||ze(t);return null!==r&&r.standalone}function zt(t,r){const s=t[gn]||null;if(!s&&!0===r)throw new Error(`Type ${te(t)} does not have '\u0275mod' property.`);return s}function bt(t){return Array.isArray(t)&&"object"==typeof t[1]}function jt(t){return Array.isArray(t)&&!0===t[1]}function kn(t){return 0!=(8&t.flags)}function zr(t){return 2==(2&t.flags)}function ir(t){return 1==(1&t.flags)}function Or(t){return null!==t.template}function Js(t){return 0!=(256&t[2])}function ti(t,r){return t.hasOwnProperty(or)?t[or]:null}class so{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function gr(){return oo}function oo(t){return t.type.prototype.ngOnChanges&&(t.setInput=Uo),Do}function Do(){const t=Io(this),r=t?.current;if(r){const s=t.previous;if(s===Rr)t.previous=r;else for(let a in r)s[a]=r[a];t.current=null,this.ngOnChanges(r)}}function Uo(t,r,s,a){const l=Io(t)||function vu(t,r){return t[Aa]=r}(t,{previous:Rr,current:null}),h=l.current||(l.current={}),v=l.previous,S=this.declaredInputs[s],x=v[S];h[S]=new so(x&&x.currentValue,r,v===Rr),t[a]=r}gr.ngInherit=!0;const Aa="__ngSimpleChanges__";function Io(t){return t[Aa]||null}function Er(t){for(;Array.isArray(t);)t=t[0];return t}function Ds(t,r){return Er(r[t])}function Li(t,r){return Er(r[t.index])}function ao(t,r){return t.data[r]}function ps(t,r){return t[r]}function lr(t,r){const s=r[t];return bt(s)?s:s[0]}function Is(t){return 64==(64&t[2])}function zi(t,r){return null==r?null:t[r]}function Ns(t){t[18]=0}function Qr(t,r){t[5]+=r;let s=t,a=t[3];for(;null!==a&&(1===r&&1===s[5]||-1===r&&0===s[5]);)a[5]+=r,s=a,a=a[3]}const An={lFrame:gi(null),bindingsEnabled:!0};function Mi(){return An.bindingsEnabled}function Et(){return An.lFrame.lView}function Bn(){return An.lFrame.tView}function nu(t){return An.lFrame.contextLView=t,t[8]}function Vo(t){return An.lFrame.contextLView=null,t}function ni(){let t=To();for(;null!==t&&64===t.type;)t=t.parent;return t}function To(){return An.lFrame.currentTNode}function Ei(t,r){const s=An.lFrame;s.currentTNode=t,s.isParent=r}function ca(){return An.lFrame.isParent}function Ui(){An.lFrame.isParent=!1}function ri(){const t=An.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}function $o(){return An.lFrame.bindingIndex++}function rs(t){const r=An.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,s}function Jo(t,r){const s=An.lFrame;s.bindingIndex=s.bindingRootIndex=t,Ao(r)}function Ao(t){An.lFrame.currentDirectiveIndex=t}function Mo(t){const r=An.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}function Ss(){return An.lFrame.currentQueryIndex}function Wi(t){An.lFrame.currentQueryIndex=t}function is(t){const r=t[1];return 2===r.type?r.declTNode:1===r.type?t[6]:null}function Xo(t,r,s){if(s&Ut.SkipSelf){let l=r,h=t;for(;!(l=l.parent,null!==l||s&Ut.Host||(l=is(h),null===l||(h=h[15],10&l.type))););if(null===l)return!1;r=l,t=h}const a=An.lFrame=Fs();return a.currentTNode=r,a.lView=t,!0}function Ls(t){const r=Fs(),s=t[1];An.lFrame=r,r.currentTNode=s.firstChild,r.lView=t,r.tView=s,r.contextLView=t,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function Fs(){const t=An.lFrame,r=null===t?null:t.child;return null===r?gi(t):r}function gi(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function jo(){const t=An.lFrame;return An.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const M=jo;function H(){const t=jo();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ee(){return An.lFrame.selectedIndex}function ot(t){An.lFrame.selectedIndex=t}function ct(){const t=An.lFrame;return ao(t.tView,t.selectedIndex)}function Jt(){An.lFrame.currentNamespace="svg"}function hr(){!function mr(){An.lFrame.currentNamespace=null}()}function Ir(t,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const h=t.data[s].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:S,ngAfterViewInit:x,ngAfterViewChecked:$,ngOnDestroy:Q}=h;v&&(t.contentHooks||(t.contentHooks=[])).push(-s,v),S&&((t.contentHooks||(t.contentHooks=[])).push(s,S),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(s,S)),x&&(t.viewHooks||(t.viewHooks=[])).push(-s,x),$&&((t.viewHooks||(t.viewHooks=[])).push(s,$),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(s,$)),null!=Q&&(t.destroyHooks||(t.destroyHooks=[])).push(s,Q)}}function Nr(t,r,s){wr(t,r,3,s)}function Ts(t,r,s,a){(3&t[2])===s&&wr(t,r,s,a)}function ms(t,r){let s=t[2];(3&s)===r&&(s&=2047,s+=1,t[2]=s)}function wr(t,r,s,a){const h=a??-1,v=r.length-1;let S=0;for(let x=void 0!==a?65535&t[18]:0;x<v;x++)if("number"==typeof r[x+1]){if(S=r[x],null!=a&&S>=a)break}else r[x]<0&&(t[18]+=65536),(S<h||-1==h)&&(ss(t,s,r,x),t[18]=(4294901760&t[18])+x+2),x++}function ss(t,r,s,a){const l=s[a]<0,h=s[a+1],S=t[l?-s[a]:s[a]];if(l){if(t[2]>>11<t[18]>>16&&(3&t[2])===r){t[2]+=2048;try{h.call(S)}finally{}}}else try{h.call(S)}finally{}}class ai{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function Lt(t,r,s){let a=0;for(;a<s.length;){const l=s[a];if("number"==typeof l){if(0!==l)break;a++;const h=s[a++],v=s[a++],S=s[a++];t.setAttribute(r,v,S,h)}else{const h=l,v=s[++a];At(h)?t.setProperty(r,h,v):t.setAttribute(r,h,v),a++}}return a}function lt(t){return 3===t||4===t||6===t}function At(t){return 64===t.charCodeAt(0)}function Jr(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const l=r[a];"number"==typeof l?s=l:0===s||Us(t,s,l,null,-1===s||2===s?r[++a]:null)}}return t}function Us(t,r,s,a,l){let h=0,v=t.length;if(-1===r)v=-1;else for(;h<t.length;){const S=t[h++];if("number"==typeof S){if(S===r){v=-1;break}if(S>r){v=h-1;break}}}for(;h<t.length;){const S=t[h];if("number"==typeof S)break;if(S===s){if(null===a)return void(null!==l&&(t[h+1]=l));if(a===t[h+1])return void(t[h+2]=l)}h++,null!==a&&h++,null!==l&&h++}-1!==v&&(t.splice(v,0,r),h=v+1),t.splice(h++,0,s),null!==a&&t.splice(h++,0,a),null!==l&&t.splice(h++,0,l)}function Za(t){return-1!==t}function ui(t){return 32767&t}function vs(t,r){let s=function lo(t){return t>>16}(t),a=r;for(;s>0;)a=a[15],s--;return a}let ea=!0;function fa(t){const r=ea;return ea=t,r}let ga=0;const hn={};function co(t,r){const s=_n(t,r);if(-1!==s)return s;const a=r[1];a.firstCreatePass&&(t.injectorIndex=r.length,Vr(a.data,t),Vr(r,null),Vr(a.blueprint,null));const l=li(t,r),h=t.injectorIndex;if(Za(l)){const v=ui(l),S=vs(l,r),x=S[1].data;for(let $=0;$<8;$++)r[h+$]=S[v+$]|x[v+$]}return r[h+8]=l,h}function Vr(t,r){t.push(0,0,0,0,0,0,0,0,r)}function _n(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function li(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,a=null,l=r;for(;null!==l;){if(a=os(l),null===a)return-1;if(s++,l=l[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return-1}function Gn(t,r,s){!function Bs(t,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(nr)&&(a=s[nr]),null==a&&(a=s[nr]=ga++);const l=255&a;r.data[t+(l>>5)]|=1<<l}(t,r,s)}function Sr(t,r,s){if(s&Ut.Optional||void 0!==t)return t;Ce()}function Vt(t,r,s,a){if(s&Ut.Optional&&void 0===a&&(a=null),0==(s&(Ut.Self|Ut.Host))){const l=t[9],h=er(void 0);try{return l?l.get(r,a,s&Ut.Optional):_r(r,a,s&Ut.Optional)}finally{er(h)}}return Sr(a,0,s)}function Vs(t,r,s,a=Ut.Default,l){if(null!==t){if(1024&r[2]){const v=function Ya(t,r,s,a,l){let h=t,v=r;for(;null!==h&&null!==v&&1024&v[2]&&!(256&v[2]);){const S=ci(h,v,s,a|Ut.Self,hn);if(S!==hn)return S;let x=h.parent;if(!x){const $=v[21];if($){const Q=$.get(s,hn,a);if(Q!==hn)return Q}x=os(v),v=v[15]}h=x}return l}(t,r,s,a,hn);if(v!==hn)return v}const h=ci(t,r,s,a,hn);if(h!==hn)return h}return Vt(r,s,a,l)}function ci(t,r,s,a,l){const h=function qa(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(nr)?t[nr]:void 0;return"number"==typeof r?r>=0?255&r:Bi:r}(s);if("function"==typeof h){if(!Xo(r,t,a))return a&Ut.Host?Sr(l,0,a):Vt(r,s,a,l);try{const v=h(a);if(null!=v||a&Ut.Optional)return v;Ce()}finally{M()}}else if("number"==typeof h){let v=null,S=_n(t,r),x=-1,$=a&Ut.Host?r[16][6]:null;for((-1===S||a&Ut.SkipSelf)&&(x=-1===S?li(t,r):r[S+8],-1!==x&&ma(a,!1)?(v=r[1],S=ui(x),r=vs(x,r)):S=-1);-1!==S;){const Q=r[1];if(fo(h,S,Q.data)){const he=ho(S,r,s,v,a,$);if(he!==hn)return he}x=r[S+8],-1!==x&&ma(a,r[1].data[S+8]===$)&&fo(h,S,r)?(v=Q,S=ui(x),r=vs(x,r)):S=-1}}return l}function ho(t,r,s,a,l,h){const v=r[1],S=v.data[t+8],Q=Na(S,v,s,null==a?zr(S)&&ea:a!=v&&0!=(3&S.type),l&Ut.Host&&h===S);return null!==Q?Ii(r,v,Q,S):hn}function Na(t,r,s,a,l){const h=t.providerIndexes,v=r.data,S=1048575&h,x=t.directiveStart,Q=h>>20,Pe=l?S+Q:t.directiveEnd;for(let et=a?S:S+Q;et<Pe;et++){const Dt=v[et];if(et<x&&s===Dt||et>=x&&Dt.type===s)return et}if(l){const et=v[x];if(et&&Or(et)&&et.type===s)return x}return null}function Ii(t,r,s,a){let l=t[s];const h=r.data;if(function xo(t){return t instanceof ai}(l)){const v=l;v.resolving&&function Ae(t,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new Ze(-200,`Circular dependency in DI detected for ${t}${s}`)}(function it(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():$e(t)}(h[s]));const S=fa(v.canSeeViewProviders);v.resolving=!0;const x=v.injectImpl?er(v.injectImpl):null;Xo(t,a,Ut.Default);try{l=t[s]=v.factory(void 0,h,t,a),r.firstCreatePass&&s>=a.directiveStart&&function jr(t,r,s){const{ngOnChanges:a,ngOnInit:l,ngDoCheck:h}=r.type.prototype;if(a){const v=oo(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(t,v),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,v)}l&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-t,l),h&&((s.preOrderHooks||(s.preOrderHooks=[])).push(t,h),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,h))}(s,h[s],r)}finally{null!==x&&er(x),fa(S),v.resolving=!1,M()}}return l}function fo(t,r,s){return!!(s[r+(t>>5)]&1<<t)}function ma(t,r){return!(t&Ut.Self||t&Ut.Host&&r)}class As{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return Vs(this._tNode,this._lView,r,a,s)}}function Bi(){return new As(ni(),Et())}function ru(t){return Xn(()=>{const r=t.prototype.constructor,s=r[or]||Ho(r),a=Object.prototype;let l=Object.getPrototypeOf(t.prototype).constructor;for(;l&&l!==a;){const h=l[or]||Ho(l);if(h&&h!==s)return h;l=Object.getPrototypeOf(l)}return h=>new h})}function Ho(t){return Je(t)?()=>{const r=Ho(be(t));return r&&r()}:ti(t)}function os(t){const r=t[1],s=r.type;return 2===s?r.declTNode:1===s?t[6]:null}function Ro(t){return function ta(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const s=t.attrs;if(s){const a=s.length;let l=0;for(;l<a;){const h=s[l];if(lt(h))break;if(0===h)l+=2;else if("number"==typeof h)for(l++;l<a&&"string"==typeof s[l];)l++;else{if(h===r)return s[l+1];l+=2}}}return null}(ni(),t)}const $s="__parameters__";function Gi(t,r,s){return Xn(()=>{const a=function na(t){return function(...s){if(t){const a=t(...s);for(const l in a)this[l]=a[l]}}}(r);function l(...h){if(this instanceof l)return a.apply(this,h),this;const v=new l(...h);return S.annotation=v,S;function S(x,$,Q){const he=x.hasOwnProperty($s)?x[$s]:Object.defineProperty(x,$s,{value:[]})[$s];for(;he.length<=Q;)he.push(null);return(he[Q]=he[Q]||[]).push(v),x}}return s&&(l.prototype=Object.create(s.prototype)),l.prototype.ngMetadataName=t,l.annotationCls=l,l})}class Tr{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Nt({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function cr(t,r){void 0===r&&(r=t);for(let s=0;s<t.length;s++){let a=t[s];Array.isArray(a)?(r===t&&(r=t.slice(0,s)),cr(a,r)):r!==t&&r.push(a)}return r}function Po(t,r){t.forEach(s=>Array.isArray(s)?Po(s,r):r(s))}function Hs(t,r,s){r>=t.length?t.push(s):t.splice(r,0,s)}function Lr(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function D(t,r){const s=[];for(let a=0;a<t;a++)s.push(r);return s}function ve(t,r,s){let a=Ot(t,r);return a>=0?t[1|a]=s:(a=~a,function R(t,r,s,a){let l=t.length;if(l==r)t.push(s,a);else if(1===l)t.push(a,t[0]),t[0]=s;else{for(l--,t.push(t[l-1],t[l]);l>r;)t[l]=t[l-2],l--;t[r]=s,t[r+1]=a}}(t,a,r,s)),a}function dt(t,r){const s=Ot(t,r);if(s>=0)return t[1|s]}function Ot(t,r){return function qt(t,r,s){let a=0,l=t.length>>s;for(;l!==a;){const h=a+(l-a>>1),v=t[h<<s];if(r===v)return h<<s;v>r?l=h:a=h+1}return~(l<<s)}(t,r,1)}const Oo={},ls="__NG_DI_FLAG__",No="ngTempTokenPath",go=/\n/gm,ia="__source";let _a;function Ua(t){const r=_a;return _a=t,r}function Vi(t,r=Ut.Default){if(void 0===_a)throw new Ze(-203,!1);return null===_a?_r(t,void 0,r):_a.get(t,r&Ut.Optional?null:void 0,r)}function ii(t,r=Ut.Default){return(function vr(){return ur}()||Vi)(be(t),r)}function Uu(t,r=Ut.Default){return"number"!=typeof r&&(r=0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)),ii(t,r)}function O(t){const r=[];for(let s=0;s<t.length;s++){const a=be(t[s]);if(Array.isArray(a)){if(0===a.length)throw new Ze(900,!1);let l,h=Ut.Default;for(let v=0;v<a.length;v++){const S=a[v],x=G(S);"number"==typeof x?-1===x?l=S.token:h|=x:l=S}r.push(ii(l,h))}else r.push(ii(a))}return r}function F(t,r){return t[ls]=r,t.prototype[ls]=r,t}function G(t){return t[ls]}const St=F(Gi("Optional"),8),Qt=F(Gi("SkipSelf"),4);let el,tl,g;function zl(t){el=t}function Iu(t){return function nl(){if(void 0===tl&&(tl=null,ln.trustedTypes))try{tl=ln.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return tl}()?.createHTML(t)||t}function _(t){return function c(){if(void 0===g&&(g=null,ln.trustedTypes))try{g=ln.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return g}()?.createHTML(t)||t}class Y{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class J extends Y{getTypeName(){return"HTML"}}class Se extends Y{getTypeName(){return"Style"}}class tt extends Y{getTypeName(){return"Script"}}class xt extends Y{getTypeName(){return"URL"}}class kt extends Y{getTypeName(){return"ResourceURL"}}function yn(t){return t instanceof Y?t.changingThisBreaksApplicationSecurity:t}function Tn(t,r){const s=function On(t){return t instanceof Y&&t.getTypeName()||null}(t);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===r}function zn(t){return new J(t)}function Rn(t){return new Se(t)}function Hr(t){return new tt(t)}function Ri(t){return new xt(t)}function xs(t){return new kt(t)}class wa{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const s=(new window.DOMParser).parseFromString(Iu(r),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(r):(s.removeChild(s.firstChild),s)}catch{return null}}}class Da{constructor(r){if(this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const s=this.inertDocument.createElement("html");this.inertDocument.appendChild(s);const a=this.inertDocument.createElement("body");s.appendChild(a)}}getInertBodyElement(r){const s=this.inertDocument.createElement("template");if("content"in s)return s.innerHTML=Iu(r),s;const a=this.inertDocument.createElement("body");return a.innerHTML=Iu(r),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(a),a}stripCustomNsAttrs(r){const s=r.attributes;for(let l=s.length-1;0<l;l--){const v=s.item(l).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&r.removeAttribute(v)}let a=r.firstChild;for(;a;)a.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(a),a=a.nextSibling}}const f=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function p(t){return(t=String(t)).match(f)?t:"unsafe:"+t}function T(t){const r={};for(const s of t.split(","))r[s]=!0;return r}function W(...t){const r={};for(const s of t)for(const a in s)s.hasOwnProperty(a)&&(r[a]=!0);return r}const ee=T("area,br,col,hr,img,wbr"),je=T("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),wt=T("rp,rt"),Xt=W(ee,W(je,T("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),W(wt,T("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),W(wt,je)),Wn=T("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Gr=W(Wn,T("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),T("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),oa=T("script,style,template");class Kr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let s=r.firstChild,a=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?a=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,a&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let l=this.checkClobberedElement(s,s.nextSibling);if(l){s=l;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(r){const s=r.nodeName.toLowerCase();if(!Xt.hasOwnProperty(s))return this.sanitizedSomething=!0,!oa.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const a=r.attributes;for(let l=0;l<a.length;l++){const h=a.item(l),v=h.name,S=v.toLowerCase();if(!Gr.hasOwnProperty(S)){this.sanitizedSomething=!0;continue}let x=h.value;Wn[S]&&(x=p(x)),this.buf.push(" ",v,'="',Yi(x),'"')}return this.buf.push(">"),!0}endElement(r){const s=r.nodeName.toLowerCase();Xt.hasOwnProperty(s)&&!ee.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(r){this.buf.push(Yi(r))}checkClobberedElement(r,s){if(s&&(r.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return s}}const rl=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ko=/([^\#-~ |!])/g;function Yi(t){return t.replace(/&/g,"&amp;").replace(rl,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(Ko,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ws;function Gs(t,r){let s=null;try{Ws=Ws||function qi(t){const r=new Da(t);return function I(){try{return!!(new window.DOMParser).parseFromString(Iu(""),"text/html")}catch{return!1}}()?new wa(r):r}(t);let a=r?String(r):"";s=Ws.getInertBodyElement(a);let l=5,h=a;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,a=h,h=s.innerHTML,s=Ws.getInertBodyElement(a)}while(a!==h);return Iu((new Kr).sanitizeChildren(lu(s)||s))}finally{if(s){const a=lu(s)||s;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function lu(t){return"content"in t&&function qn(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Pi=(()=>((Pi=Pi||{})[Pi.NONE=0]="NONE",Pi[Pi.HTML=1]="HTML",Pi[Pi.STYLE=2]="STYLE",Pi[Pi.SCRIPT=3]="SCRIPT",Pi[Pi.URL=4]="URL",Pi[Pi.RESOURCE_URL=5]="RESOURCE_URL",Pi))();function Il(t){const r=xc();return r?_(r.sanitize(Pi.HTML,t)||""):Tn(t,"HTML")?_(yn(t)):Gs(function Vu(){return void 0!==el?el:typeof document<"u"?document:void 0}(),$e(t))}function bl(t){const r=xc();return r?r.sanitize(Pi.URL,t)||"":Tn(t,"URL")?yn(t):p($e(t))}function xc(){const t=Et();return t&&t[12]}const Th=new Tr("ENVIRONMENT_INITIALIZER"),Kl=new Tr("INJECTOR",-1),Ch=new Tr("INJECTOR_DEF_TYPES");class Dp{get(r,s=Oo){if(s===Oo){const a=new Error(`NullInjectorError: No provider for ${te(r)}!`);throw a.name="NullInjectorError",a}return s}}function vo(...t){return{\u0275providers:_d(0,t)}}function _d(t,...r){const s=[],a=new Set;let l;return Po(r,h=>{const v=h;Sl(v,s,[],a)&&(l||(l=[]),l.push(v))}),void 0!==l&&Ah(l,s),s}function Ah(t,r){for(let s=0;s<t.length;s++){const{providers:l}=t[s];Po(l,h=>{r.push(h)})}}function Sl(t,r,s,a){if(!(t=be(t)))return!1;let l=null,h=fr(t);const v=!h&&K(t);if(h||v){if(v&&!v.standalone)return!1;l=t}else{const x=t.ngModule;if(h=fr(x),!h)return!1;l=x}const S=a.has(l);if(v){if(S)return!1;if(a.add(l),v.dependencies){const x="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const $ of x)Sl($,r,s,a)}}else{if(!h)return!1;{if(null!=h.imports&&!S){let $;a.add(l);try{Po(h.imports,Q=>{Sl(Q,r,s,a)&&($||($=[]),$.push(Q))})}finally{}void 0!==$&&Ah($,r)}if(!S){const $=ti(l)||(()=>new l);r.push({provide:l,useFactory:$,deps:tn},{provide:Ch,useValue:l,multi:!0},{provide:Th,useValue:()=>ii(l),multi:!0})}const x=h.providers;null==x||S||Po(x,Q=>{r.push(Q)})}}return l!==t&&void 0!==t.providers}const Mh=fe({provide:String,useValue:fe});function Ed(t){return null!==t&&"object"==typeof t&&Mh in t}function il(t){return"function"==typeof t}const Rh=new Tr("Set Injector scope."),wd={},Rc={};let Pc;function Dd(){return void 0===Pc&&(Pc=new Dp),Pc}class sl{}class Id extends sl{constructor(r,s,a,l){super(),this.parent=s,this.source=a,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ph(r,v=>this.processProvider(v)),this.records.set(Kl,ql(void 0,this)),l.has("environment")&&this.records.set(sl,ql(void 0,this));const h=this.records.get(Rh);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(Ch.multi,tn,Ut.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const s=Ua(this),a=er(void 0);try{return r()}finally{Ua(s),er(a)}}get(r,s=Oo,a=Ut.Default){this.assertNotDestroyed();const l=Ua(this),h=er(void 0);try{if(!(a&Ut.SkipSelf)){let S=this.records.get(r);if(void 0===S){const x=function Um(t){return"function"==typeof t||"object"==typeof t&&t instanceof Tr}(r)&&yr(r);S=x&&this.injectableDefInScope(x)?ql(bd(r),wd):null,this.records.set(r,S)}if(null!=S)return this.hydrate(r,S)}return(a&Ut.Self?Dd():this.parent).get(r,s=a&Ut.Optional&&s===Oo?null:s)}catch(v){if("NullInjectorError"===v.name){if((v[No]=v[No]||[]).unshift(te(r)),l)throw v;return function me(t,r,s,a){const l=t[No];throw r[ia]&&l.unshift(r[ia]),t.message=function Ve(t,r,s,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let l=te(r);if(Array.isArray(r))l=r.map(te).join(" -> ");else if("object"==typeof r){let h=[];for(let v in r)if(r.hasOwnProperty(v)){let S=r[v];h.push(v+":"+("string"==typeof S?JSON.stringify(S):te(S)))}l=`{${h.join(", ")}}`}return`${s}${a?"("+a+")":""}[${l}]: ${t.replace(go,"\n  ")}`}("\n"+t.message,l,s,a),t.ngTokenPath=l,t[No]=null,t}(v,r,"R3InjectorError",this.source)}throw v}finally{er(h),Ua(l)}}resolveInjectorInitializers(){const r=Ua(this),s=er(void 0);try{const a=this.get(Th.multi,tn,Ut.Self);for(const l of a)l()}finally{Ua(r),er(s)}}toString(){const r=[],s=this.records;for(const a of s.keys())r.push(te(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ze(205,!1)}processProvider(r){let s=il(r=be(r))?r:be(r&&r.provide);const a=function bp(t){return Ed(t)?ql(void 0,t.useValue):ql(Sp(t),wd)}(r);if(il(r)||!0!==r.multi)this.records.get(s);else{let l=this.records.get(s);l||(l=ql(void 0,wd,!0),l.factory=()=>O(l.multi),this.records.set(s,l)),s=r,l.multi.push(r)}this.records.set(s,a)}hydrate(r,s){return s.value===wd&&(s.value=Rc,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Ql(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=be(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}}function bd(t){const r=yr(t),s=null!==r?r.factory:ti(t);if(null!==s)return s;if(t instanceof Tr)throw new Ze(204,!1);if(t instanceof Function)return function Fm(t){const r=t.length;if(r>0)throw D(r,"?"),new Ze(204,!1);const s=function mn(t){const r=t&&(t[Jn]||t[Pn]);if(r){const s=function xr(t){if(t.hasOwnProperty("name"))return t.name;const r=(""+t).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),r}return null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new Ze(204,!1)}function Sp(t,r,s){let a;if(il(t)){const l=be(t);return ti(l)||bd(l)}if(Ed(t))a=()=>be(t.useValue);else if(function xh(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...O(t.deps||[]));else if(function Zl(t){return!(!t||!t.useExisting)}(t))a=()=>ii(be(t.useExisting));else{const l=be(t&&(t.useClass||t.provide));if(!function Yl(t){return!!t.deps}(t))return ti(l)||bd(l);a=()=>new l(...O(t.deps))}return a}function ql(t,r,s=!1){return{factory:t,value:r,multi:s?[]:void 0}}function Bm(t){return!!t.\u0275providers}function Ph(t,r){for(const s of t)Array.isArray(s)?Ph(s,r):Bm(s)?Ph(s.\u0275providers,r):r(s)}class Zo{}class Cp{resolveComponentFactory(r){throw function Vm(t){const r=Error(`No component factory found for ${te(t)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=t,r}(r)}}let ol=(()=>{class t{}return t.NULL=new Cp,t})();function Ap(){return Jl(ni(),Et())}function Jl(t,r){return new Oc(Li(t,r))}let Oc=(()=>{class t{constructor(s){this.nativeElement=s}}return t.__NG_ELEMENT_ID__=Ap,t})();function $m(t){return t instanceof Oc?t.nativeElement:t}class Mp{}let jm=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function Hm(){const t=Et(),s=lr(ni().index,t);return(bt(s)?s:t)[11]}(),t})(),zm=(()=>{class t{}return t.\u0275prov=Nt({token:t,providedIn:"root",factory:()=>null}),t})();class xp{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Rp=new xp("14.2.7"),Nh={};function zu(t){return t.ngOriginalError}class cu{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&zu(r);for(;s&&zu(s);)s=zu(s);return s||null}}const Md=new Map;let Fp=0;const Cl="__ngContext__";function cs(t,r){bt(r)?(t[Cl]=r[20],function Lc(t){Md.set(t[20],t)}(r)):t[Cl]=r}function jh(t){return t.ownerDocument}function Ja(t){return t instanceof Function?t():t}var bu=(()=>((bu=bu||{})[bu.Important=1]="Important",bu[bu.DashCase=2]="DashCase",bu))();function kd(t,r){return undefined(t,r)}function Bc(t){const r=t[3];return jt(r)?r[3]:r}function tc(t){return zp(t[13])}function Ld(t){return zp(t[4])}function zp(t){for(;null!==t&&!jt(t);)t=t[4];return t}function nc(t,r,s,a,l){if(null!=a){let h,v=!1;jt(a)?h=a:bt(a)&&(v=!0,a=a[0]);const S=Er(a);0===t&&null!==s?null==l?Zh(r,s,S):xl(r,s,S,l||null,!0):1===t&&null!==s?xl(r,s,S,l||null,!0):2===t?function tf(t,r,s){const a=Rl(t,r);a&&function qh(t,r,s,a){t.removeChild(r,s,a)}(t,a,r,s)}(r,S,v):3===t&&r.destroyNode(S),null!=h&&function Wd(t,r,s,a,l){const h=s[7];h!==Er(s)&&nc(r,t,a,h,l);for(let S=10;S<s.length;S++){const x=s[S];Su(x[1],x,t,r,a,h)}}(r,t,h,s,l)}}function Ud(t,r,s){return t.createElement(r,s)}function Ks(t,r){const s=t[9],a=s.indexOf(r),l=r[3];512&r[2]&&(r[2]&=-513,Qr(l,-1)),s.splice(a,1)}function Gh(t,r){if(t.length<=10)return;const s=10+r,a=t[s];if(a){const l=a[17];null!==l&&l!==t&&Ks(l,a),r>0&&(t[s-1][4]=a[4]);const h=Lr(t,10+r);!function Wp(t,r){Su(t,r,r[11],2,null,null),r[0]=null,r[6]=null}(a[1],a);const v=h[19];null!==v&&v.detachView(h[1]),a[3]=null,a[4]=null,a[2]&=-65}return a}function Kp(t,r){if(!(128&r[2])){const s=r[11];s.destroyNode&&Su(t,r,s,3,null,null),function sy(t){let r=t[13];if(!r)return Kh(t[1],t);for(;r;){let s=null;if(bt(r))s=r[13];else{const a=r[10];a&&(s=a)}if(!s){for(;r&&!r[4]&&r!==t;)bt(r)&&Kh(r[1],r),r=r[3];null===r&&(r=t),bt(r)&&Kh(r[1],r),s=r&&r[4]}r=s}}(r)}}function Kh(t,r){if(!(128&r[2])){r[2]&=-65,r[2]|=128,function Zp(t,r){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let a=0;a<s.length;a+=2){const l=r[s[a]];if(!(l instanceof ai)){const h=s[a+1];if(Array.isArray(h))for(let v=0;v<h.length;v+=2){const S=l[h[v]],x=h[v+1];try{x.call(S)}finally{}}else try{h.call(l)}finally{}}}}(t,r),function ay(t,r){const s=t.cleanup,a=r[7];let l=-1;if(null!==s)for(let h=0;h<s.length-1;h+=2)if("string"==typeof s[h]){const v=s[h+1],S="function"==typeof v?v(r):Er(r[v]),x=a[l=s[h+2]],$=s[h+3];"boolean"==typeof $?S.removeEventListener(s[h],x,$):$>=0?a[l=$]():a[l=-$].unsubscribe(),h+=2}else{const v=a[l=s[h+1]];s[h].call(v)}if(null!==a){for(let h=l+1;h<a.length;h++)(0,a[h])();r[7]=null}}(t,r),1===r[1].type&&r[11].destroy();const s=r[17];if(null!==s&&jt(r[3])){s!==r[3]&&Ks(s,r);const a=r[19];null!==a&&a.detachView(t)}!function Qm(t){Md.delete(t[20])}(r)}}function qp(t,r,s){return function $c(t,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[0];if(2&a.flags){const l=t.data[a.directiveStart].encapsulation;if(l===Yt.None||l===Yt.Emulated)return null}return Li(a,s)}(t,r.parent,s)}function xl(t,r,s,a,l){t.insertBefore(r,s,a,l)}function Zh(t,r,s){t.appendChild(r,s)}function Bd(t,r,s,a,l){null!==a?xl(t,r,s,a,l):Zh(t,r,s)}function Rl(t,r){return t.parentNode(r)}function $d(t,r,s){return Yp(t,r,s)}let Yp=function Qh(t,r,s){return 40&t.type?Li(t,s):null};function rc(t,r,s,a){const l=qp(t,a,r),h=r[11],S=$d(a.parent||r[6],a,r);if(null!=l)if(Array.isArray(s))for(let x=0;x<s.length;x++)Bd(h,l,s[x],S,!1);else Bd(h,l,s,S,!1)}function Hd(t,r){if(null!==r){const s=r.type;if(3&s)return Li(r,t);if(4&s)return ef(-1,t[r.index]);if(8&s){const a=r.child;if(null!==a)return Hd(t,a);{const l=t[r.index];return jt(l)?ef(-1,l):Er(l)}}if(32&s)return kd(r,t)()||Er(t[r.index]);{const a=Xh(t,r);return null!==a?Array.isArray(a)?a[0]:Hd(Bc(t[16]),a):Hd(t,r.next)}}return null}function Xh(t,r){return null!==r?t[16][6].projection[r.projection]:null}function ef(t,r){const s=10+t+1;if(s<r.length){const a=r[s],l=a[1].firstChild;if(null!==l)return Hd(a,l)}return r[7]}function nf(t,r,s,a,l,h,v){for(;null!=s;){const S=a[s.index],x=s.type;if(v&&0===r&&(S&&cs(Er(S),a),s.flags|=4),64!=(64&s.flags))if(8&x)nf(t,r,s.child,a,l,h,!1),nc(r,t,l,S,h);else if(32&x){const $=kd(s,a);let Q;for(;Q=$();)nc(r,t,l,Q,h);nc(r,t,l,S,h)}else 16&x?zd(t,r,a,s,l,h):nc(r,t,l,S,h);s=v?s.projectionNext:s.next}}function Su(t,r,s,a,l,h){nf(s,a,t.firstChild,r,l,h,!1)}function zd(t,r,s,a,l,h){const v=s[16],x=v[6].projection[a.projection];if(Array.isArray(x))for(let $=0;$<x.length;$++)nc(r,t,l,x[$],h);else nf(t,r,x,v[3],l,h,!0)}function rf(t,r,s){t.setAttribute(r,"style",s)}function Gd(t,r,s){""===s?t.removeAttribute(r,"class"):t.setAttribute(r,"class",s)}function Jp(t,r,s){let a=t.length;for(;;){const l=t.indexOf(r,s);if(-1===l)return l;if(0===l||t.charCodeAt(l-1)<=32){const h=r.length;if(l+h===a||t.charCodeAt(l+h)<=32)return l}s=l+1}}const eg="ng-template";function sf(t,r,s){let a=0;for(;a<t.length;){let l=t[a++];if(s&&"class"===l){if(l=t[a],-1!==Jp(l.toLowerCase(),r,0))return!0}else if(1===l){for(;a<t.length&&"string"==typeof(l=t[a++]);)if(l.toLowerCase()===r)return!0;return!1}}return!1}function af(t){return 4===t.type&&t.value!==eg}function tg(t,r,s){return r===(4!==t.type||s?t.value:eg)}function uf(t,r,s){let a=4;const l=t.attrs||[],h=function cf(t){for(let r=0;r<t.length;r++)if(lt(t[r]))return r;return t.length}(l);let v=!1;for(let S=0;S<r.length;S++){const x=r[S];if("number"!=typeof x){if(!v)if(4&a){if(a=2|1&a,""!==x&&!tg(t,x,s)||""===x&&1===r.length){if(ba(a))return!1;v=!0}}else{const $=8&a?x:r[++S];if(8&a&&null!==t.attrs){if(!sf(t.attrs,$,s)){if(ba(a))return!1;v=!0}continue}const he=jc(8&a?"class":x,l,af(t),s);if(-1===he){if(ba(a))return!1;v=!0;continue}if(""!==$){let Pe;Pe=he>h?"":l[he+1].toLowerCase();const et=8&a?Pe:null;if(et&&-1!==Jp(et,$,0)||2&a&&$!==Pe){if(ba(a))return!1;v=!0}}}}else{if(!v&&!ba(a)&&!ba(x))return!1;if(v&&ba(x))continue;v=!1,a=x|1&a}}return ba(a)||v}function ba(t){return 0==(1&t)}function jc(t,r,s,a){if(null===r)return-1;let l=0;if(a||!s){let h=!1;for(;l<r.length;){const v=r[l];if(v===t)return l;if(3===v||6===v)h=!0;else{if(1===v||2===v){let S=r[++l];for(;"string"==typeof S;)S=r[++l];continue}if(4===v)break;if(0===v){l+=4;continue}}l+=h?1:2}return-1}return function df(t,r){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const a=t[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,t)}function Hc(t,r,s=!1){for(let a=0;a<r.length;a++)if(uf(t,r[a],s))return!0;return!1}function ng(t,r){e:for(let s=0;s<r.length;s++){const a=r[s];if(t.length===a.length){for(let l=0;l<t.length;l++)if(t[l]!==a[l])continue e;return!0}}return!1}function rg(t,r){return t?":not("+r.trim()+")":r}function ig(t){let r=t[0],s=1,a=2,l="",h=!1;for(;s<t.length;){let v=t[s];if("string"==typeof v)if(2&a){const S=t[++s];l+="["+v+(S.length>0?'="'+S+'"':"")+"]"}else 8&a?l+="."+v:4&a&&(l+=" "+v);else""!==l&&!ba(v)&&(r+=rg(h,l),l=""),a=v,h=h||!ba(a);s++}return""!==l&&(r+=rg(h,l)),r}const ar={};function hf(t){zc(Bn(),Et(),Ee()+t,!1)}function zc(t,r,s,a){if(!a)if(3==(3&r[2])){const h=t.preOrderCheckHooks;null!==h&&Nr(r,h,s)}else{const h=t.preOrderHooks;null!==h&&Ts(r,h,0,s)}ot(s)}function ug(t,r=null,s=null,a){const l=oc(t,r,s,a);return l.resolveInjectorInitializers(),l}function oc(t,r=null,s=null,a,l=new Set){const h=[s||tn,vo(t)];return a=a||("object"==typeof t?void 0:te(t)),new Id(h,r||Dd(),a||null,l)}let Wu=(()=>{class t{static create(s,a){if(Array.isArray(s))return ug({name:""},a,s,"");{const l=s.name??"";return ug({name:l},s.parent,s.providers,l)}}}return t.THROW_IF_NOT_FOUND=Oo,t.NULL=new Dp,t.\u0275prov=Nt({token:t,providedIn:"any",factory:()=>ii(Kl)}),t.__NG_ELEMENT_ID__=-1,t})();function cc(t,r=Ut.Default){const s=Et();return null===s?ii(t,r):Vs(ni(),s,be(t),r)}function qd(){throw new Error("invalid")}function dc(t,r){return t<<17|r<<2}function Va(t){return t>>17&32767}function Cu(t){return 2|t}function hu(t){return(131068&t)>>2}function hl(t,r){return-131069&t|r<<2}function Qd(t){return 1|t}function Mf(t,r){const s=t.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const l=s[a],h=s[a+1];if(-1!==h){const v=t.data[h];Wi(l),v.contentQueries(2,r[h],h)}}}function mc(t,r,s,a,l,h,v,S,x,$,Q){const he=r.blueprint.slice();return he[0]=l,he[2]=76|a,(null!==Q||t&&1024&t[2])&&(he[2]|=1024),Ns(he),he[3]=he[15]=t,he[8]=s,he[10]=v||t&&t[10],he[11]=S||t&&t[11],he[12]=x||t&&t[12]||null,he[9]=$||t&&t[9]||null,he[6]=h,he[20]=function xd(){return Fp++}(),he[21]=Q,he[16]=2==r.type?t[16]:he,he}function Sa(t,r,s,a,l){let h=t.data[r];if(null===h)h=function td(t,r,s,a,l){const h=To(),v=ca(),x=t.data[r]=function Og(t,r,s,a,l,h){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?h:h&&h.parent,s,r,a,l);return null===t.firstChild&&(t.firstChild=x),null!==h&&(v?null==h.child&&null!==x.parent&&(h.child=x):null===h.next&&(h.next=x)),x}(t,r,s,a,l),function Ka(){return An.lFrame.inI18n}()&&(h.flags|=64);else if(64&h.type){h.type=s,h.value=a,h.attrs=l;const v=function Qo(){const t=An.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();h.injectorIndex=null===v?-1:v.injectorIndex}return Ei(h,!0),h}function yc(t,r,s,a){if(0===s)return-1;const l=r.length;for(let h=0;h<s;h++)r.push(a),t.blueprint.push(a),t.data.push(null);return l}function nd(t,r,s){Ls(r);try{const a=t.viewQuery;null!==a&&$f(1,a,s);const l=t.template;null!==l&&Mg(t,r,l,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Mf(t,r),t.staticViewQueries&&$f(2,t.viewQuery,s);const h=t.components;null!==h&&function by(t,r){for(let s=0;s<r.length;s++)$g(t,r[s])}(r,h)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{r[2]&=-5,H()}}function Xd(t,r,s,a){const l=r[2];if(128!=(128&l)){Ls(r);try{Ns(r),function uo(t){return An.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&Mg(t,r,s,2,a);const v=3==(3&l);if(v){const $=t.preOrderCheckHooks;null!==$&&Nr(r,$,null)}else{const $=t.preOrderHooks;null!==$&&Ts(r,$,0,null),ms(r,0)}if(function Vg(t){for(let r=tc(t);null!==r;r=Ld(r)){if(!r[2])continue;const s=r[9];for(let a=0;a<s.length;a++){const l=s[a],h=l[3];0==(512&l[2])&&Qr(h,1),l[2]|=512}}}(r),function Ay(t){for(let r=tc(t);null!==r;r=Ld(r))for(let s=10;s<r.length;s++){const a=r[s],l=a[1];Is(a)&&Xd(l,a,l.template,a[8])}}(r),null!==t.contentQueries&&Mf(t,r),v){const $=t.contentCheckHooks;null!==$&&Nr(r,$)}else{const $=t.contentHooks;null!==$&&Ts(r,$,1),ms(r,1)}!function gc(t,r){const s=t.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const l=s[a];if(l<0)ot(~l);else{const h=l,v=s[++a],S=s[++a];Jo(v,h),S(2,r[h])}}}finally{ot(-1)}}(t,r);const S=t.components;null!==S&&function xf(t,r){for(let s=0;s<r.length;s++)My(t,r[s])}(r,S);const x=t.viewQuery;if(null!==x&&$f(2,x,a),v){const $=t.viewCheckHooks;null!==$&&Nr(r,$)}else{const $=t.viewHooks;null!==$&&Ts(r,$,2),ms(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[2]&=-41,512&r[2]&&(r[2]&=-513,Qr(r[3],-1))}finally{H()}}}function Mg(t,r,s,a,l){const h=Ee(),v=2&a;try{ot(-1),v&&r.length>22&&zc(t,r,22,!1),s(a,l)}finally{ot(h)}}function eh(t,r,s){if(kn(r)){const l=r.directiveEnd;for(let h=r.directiveStart;h<l;h++){const v=t.data[h];v.contentQueries&&v.contentQueries(1,s[h],h)}}}function Rf(t,r,s){!Mi()||(function kf(t,r,s,a){const l=s.directiveStart,h=s.directiveEnd;t.firstCreatePass||co(s,r),cs(a,r);const v=s.initialInputs;for(let S=l;S<h;S++){const x=t.data[S],$=Or(x);$&&Ug(r,s,x);const Q=Ii(r,t,S,s);cs(Q,r),null!==v&&ds(0,S-l,Q,x,0,v),$&&(lr(s.index,r)[8]=Q)}}(t,r,s,Li(s,r)),128==(128&s.flags)&&function Lf(t,r,s){const a=s.directiveStart,l=s.directiveEnd,h=s.index,v=function Oa(){return An.lFrame.currentDirectiveIndex}();try{ot(h);for(let S=a;S<l;S++){const x=t.data[S],$=r[S];Ao(S),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&Ff(x,$)}}finally{ot(-1),Ao(v)}}(t,r,s))}function rd(t,r,s=Li){const a=r.localNames;if(null!==a){let l=r.index+1;for(let h=0;h<a.length;h+=2){const v=a[h+1],S=-1===v?s(r,t):t[v];t[l++]=S}}}function xg(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=id(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):r}function id(t,r,s,a,l,h,v,S,x,$){const Q=22+a,he=Q+l,Pe=function Sy(t,r){const s=[];for(let a=0;a<r;a++)s.push(a<t?null:ar);return s}(Q,he),et="function"==typeof $?$():$;return Pe[1]={type:t,blueprint:Pe,template:s,queries:null,viewQuery:S,declTNode:r,data:Pe.slice().fill(null,Q),bindingStartIndex:Q,expandoStartIndex:he,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:x,consts:et,incompleteFirstPass:!1}}function th(t,r,s,a){const l=Hg(r);null===s?l.push(a):(l.push(s),t.firstCreatePass&&jf(t).push(a,l.length-1))}function Ng(t,r,s){for(let a in t)if(t.hasOwnProperty(a)){const l=t[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(r,l):s[a]=[r,l]}return s}function kg(t,r){const a=r.directiveEnd,l=t.data,h=r.attrs,v=[];let S=null,x=null;for(let $=r.directiveStart;$<a;$++){const Q=l[$],he=Q.inputs,Pe=null===h||af(r)?null:qo(he,h);v.push(Pe),S=Ng(he,$,S),x=Ng(Q.outputs,$,x)}null!==S&&(S.hasOwnProperty("class")&&(r.flags|=16),S.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=v,r.inputs=S,r.outputs=x}function $a(t,r,s,a,l,h,v,S){const x=Li(r,s);let Q,$=r.inputs;!S&&null!=$&&(Q=$[a])?(od(t,s,Q,a,l),zr(r)&&nh(s,r.index)):3&r.type&&(a=function Pf(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),l=null!=v?v(l,r.value||"",a):l,h.setProperty(x,a,l))}function nh(t,r){const s=lr(r,t);16&s[2]||(s[2]|=32)}function rh(t,r,s,a){let l=!1;if(Mi()){const h=function Fg(t,r,s){const a=t.directiveRegistry;let l=null;if(a)for(let h=0;h<a.length;h++){const v=a[h];Hc(s,v.selectors,!1)&&(l||(l=[]),Gn(co(s,r),t,v.type),Or(v)?(Uf(t,s),l.unshift(v)):l.push(v))}return l}(t,r,s),v=null===a?null:{"":-1};if(null!==h){l=!0,Bf(s,t.data.length,h.length);for(let Q=0;Q<h.length;Q++){const he=h[Q];he.providersResolver&&he.providersResolver(he)}let S=!1,x=!1,$=yc(t,r,h.length,null);for(let Q=0;Q<h.length;Q++){const he=h[Q];s.mergedAttrs=Jr(s.mergedAttrs,he.hostAttrs),Vf(t,s,r,$,he),Ar($,he,v),null!==he.contentQueries&&(s.flags|=8),(null!==he.hostBindings||null!==he.hostAttrs||0!==he.hostVars)&&(s.flags|=128);const Pe=he.type.prototype;!S&&(Pe.ngOnChanges||Pe.ngOnInit||Pe.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(s.index),S=!0),!x&&(Pe.ngOnChanges||Pe.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(s.index),x=!0),$++}kg(t,s)}v&&function ih(t,r,s){if(r){const a=t.localNames=[];for(let l=0;l<r.length;l+=2){const h=s[r[l+1]];if(null==h)throw new Ze(-301,!1);a.push(r[l],h)}}}(s,a,v)}return s.mergedAttrs=Jr(s.mergedAttrs,s.attrs),l}function Nf(t,r,s,a,l,h){const v=h.hostBindings;if(v){let S=t.hostBindingOpCodes;null===S&&(S=t.hostBindingOpCodes=[]);const x=~r.index;(function Cy(t){let r=t.length;for(;r>0;){const s=t[--r];if("number"==typeof s&&s<0)return s}return 0})(S)!=x&&S.push(x),S.push(a,l,v)}}function Ff(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function Uf(t,r){r.flags|=2,(t.components||(t.components=[])).push(r.index)}function Ar(t,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=t;Or(r)&&(s[""]=t)}}function Bf(t,r,s){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+s,t.providerIndexes=r}function Vf(t,r,s,a,l){t.data[a]=l;const h=l.factory||(l.factory=ti(l.type)),v=new ai(h,Or(l),cc);t.blueprint[a]=v,s[a]=v,Nf(t,r,0,a,yc(t,s,l.hostVars,ar),l)}function Ug(t,r,s){const a=Li(r,t),l=xg(s),h=t[10],v=ah(t,mc(t,l,null,s.onPush?32:16,a,r,h,h.createRenderer(a,s),null,null,null));t[r.index]=v}function Ta(t,r,s,a,l,h){const v=Li(t,r);!function sh(t,r,s,a,l,h,v){if(null==h)t.removeAttribute(r,l,s);else{const S=null==v?$e(h):v(h,a||"",l);t.setAttribute(r,l,S,s)}}(r[11],v,h,t.value,s,a,l)}function ds(t,r,s,a,l,h){const v=h[r];if(null!==v){const S=a.setInput;for(let x=0;x<v.length;){const $=v[x++],Q=v[x++],he=v[x++];null!==S?a.setInput(s,he,$,Q):s[Q]=he}}}function qo(t,r){let s=null,a=0;for(;a<r.length;){const l=r[a];if(0!==l)if(5!==l){if("number"==typeof l)break;t.hasOwnProperty(l)&&(null===s&&(s=[]),s.push(l,t[l],r[a+1])),a+=2}else a+=2;else a+=4}return s}function Bg(t,r,s,a){return new Array(t,!0,!1,r,null,0,a,s,null,null)}function My(t,r){const s=lr(r,t);if(Is(s)){const a=s[1];48&s[2]?Xd(a,s,a.template,s[8]):s[5]>0&&sd(s)}}function sd(t){for(let a=tc(t);null!==a;a=Ld(a))for(let l=10;l<a.length;l++){const h=a[l];if(Is(h))if(512&h[2]){const v=h[1];Xd(v,h,v.template,h[8])}else h[5]>0&&sd(h)}const s=t[1].components;if(null!==s)for(let a=0;a<s.length;a++){const l=lr(s[a],t);Is(l)&&l[5]>0&&sd(l)}}function $g(t,r){const s=lr(r,t),a=s[1];(function oh(t,r){for(let s=r.length;s<t.blueprint.length;s++)r.push(t.blueprint[s])})(a,s),nd(a,s,s[8])}function ah(t,r){return t[13]?t[14][4]=r:t[13]=r,t[14]=r,r}function jg(t){for(;t;){t[2]|=32;const r=Bc(t);if(Js(t)&&!r)return t;t=r}return null}function uh(t,r,s,a=!0){const l=r[10];l.begin&&l.begin();try{Xd(t,r,t.template,s)}catch(v){throw a&&Hf(r,v),v}finally{l.end&&l.end()}}function $f(t,r,s){Wi(0),r(t,s)}function Hg(t){return t[7]||(t[7]=[])}function jf(t){return t.cleanup||(t.cleanup=[])}function lh(t,r,s){return(null===t||Or(t))&&(s=function Ga(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(s[r.index])),s[11]}function Hf(t,r){const s=t[9],a=s?s.get(cu,null):null;a&&a.handleError(r)}function od(t,r,s,a,l){for(let h=0;h<s.length;){const v=s[h++],S=s[h++],x=r[v],$=t.data[v];null!==$.setInput?$.setInput(x,l,a,S):x[S]=l}}function vc(t,r,s){let a=s?t.styles:null,l=s?t.classes:null,h=0;if(null!==r)for(let v=0;v<r.length;v++){const S=r[v];"number"==typeof S?h=S:1==h?l=De(l,S):2==h&&(a=De(a,S+": "+r[++v]+";"))}s?t.styles=a:t.stylesWithoutHost=a,s?t.classes=l:t.classesWithoutHost=l}function Ol(t,r,s,a,l=!1){for(;null!==s;){const h=r[s.index];if(null!==h&&a.push(Er(h)),jt(h))for(let S=10;S<h.length;S++){const x=h[S],$=x[1].firstChild;null!==$&&Ol(x[1],x,$,a)}const v=s.type;if(8&v)Ol(t,r,s.child,a);else if(32&v){const S=kd(s,r);let x;for(;x=S();)a.push(x)}else if(16&v){const S=Xh(r,s);if(Array.isArray(S))a.push(...S);else{const x=Bc(r[16]);Ol(x[1],x,S,a,!0)}}s=l?s.projectionNext:s.next}return a}class Nl{constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,s=r[1];return Ol(s,r,s.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(jt(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(Gh(r,a),Lr(s,a))}this._attachedToViewContainer=!1}Kp(this._lView[1],this._lView)}onDestroy(r){th(this._lView[1],this._lView,null,r)}markForCheck(){jg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){uh(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ze(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Gp(t,r){Su(t,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Ze(902,!1);this._appRef=r}}class zg extends Nl{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;uh(r[1],r,r[8],!1)}checkNoChanges(){}get context(){return null}}class _c extends ol{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=K(r);return new Mu(s,this.ngModule)}}function ch(t){const r=[];for(let s in t)t.hasOwnProperty(s)&&r.push({propName:t[s],templateName:s});return r}class Wg{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,a){const l=this.injector.get(r,Nh,a);return l!==Nh||s===Nh?l:this.parentInjector.get(r,s,a)}}class Mu extends Zo{constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function uy(t){return t.map(ig).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return ch(this.componentDef.inputs)}get outputs(){return ch(this.componentDef.outputs)}create(r,s,a,l){let h=(l=l||this.ngModule)instanceof sl?l:l?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const v=h?new Wg(r,h):r,S=v.get(Mp,null);if(null===S)throw new Ze(407,!1);const x=v.get(zm,null),$=S.createRenderer(null,this.componentDef),Q=this.componentDef.selectors[0][0]||"div",he=a?function Pg(t,r,s){return t.selectRootElement(r,s===Yt.ShadowDom)}($,a,this.componentDef.encapsulation):Ud(S.createRenderer(null,this.componentDef),Q,function zf(t){const r=t.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(Q)),Pe=this.componentDef.onPush?288:272,et=id(0,null,null,1,0,null,null,null,null,null),Dt=mc(null,et,null,Pe,null,null,S,$,x,v,null);let $t,rn;Ls(Dt);try{const Dn=function Gg(t,r,s,a,l,h){const v=s[1];s[22]=t;const x=Sa(v,22,2,"#host",null),$=x.mergedAttrs=r.hostAttrs;null!==$&&(vc(x,$,!0),null!==t&&(Lt(l,t,$),null!==x.classes&&Gd(l,t,x.classes),null!==x.styles&&rf(l,t,x.styles)));const Q=a.createRenderer(t,r),he=mc(s,xg(r),null,r.onPush?32:16,s[22],x,a,Q,h||null,null,null);return v.firstCreatePass&&(Gn(co(x,s),v,r.type),Uf(v,x),Bf(x,s.length,1)),ah(s,he),s[22]=he}(he,this.componentDef,Dt,S,$);if(he)if(a)Lt($,he,["ng-version",Rp.full]);else{const{attrs:Fn,classes:Rt}=function ly(t){const r=[],s=[];let a=1,l=2;for(;a<t.length;){let h=t[a];if("string"==typeof h)2===l?""!==h&&r.push(h,t[++a]):8===l&&s.push(h);else{if(!ba(l))break;l=h}a++}return{attrs:r,classes:s}}(this.componentDef.selectors[0]);Fn&&Lt($,he,Fn),Rt&&Rt.length>0&&Gd($,he,Rt.join(" "))}if(rn=ao(et,22),void 0!==s){const Fn=rn.projection=[];for(let Rt=0;Rt<this.ngContentSelectors.length;Rt++){const Yn=s[Rt];Fn.push(null!=Yn?Array.from(Yn):null)}}$t=function Ry(t,r,s,a){const l=s[1],h=function Ty(t,r,s){const a=ni();t.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),Vf(t,a,r,yc(t,r,1,null),s),kg(t,a));const l=Ii(r,t,a.directiveStart,a);cs(l,r);const h=Li(a,r);return h&&cs(h,r),l}(l,s,r);if(t[8]=s[8]=h,null!==a)for(const S of a)S(h,r);if(r.contentQueries){const S=ni();r.contentQueries(1,h,S.directiveStart)}const v=ni();return!l.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(ot(v.index),Nf(s[1],v,0,v.directiveStart,v.directiveEnd,r),Ff(r,h)),h}(Dn,this.componentDef,Dt,[Kg]),nd(et,Dt,null)}finally{H()}return new xy(this.componentType,$t,Jl(rn,Dt),Dt,rn)}}class xy extends class Tp{}{constructor(r,s,a,l,h){super(),this.location=a,this._rootLView=l,this._tNode=h,this.instance=s,this.hostView=this.changeDetectorRef=new zg(l),this.componentType=r}setInput(r,s){const a=this._tNode.inputs;let l;if(null!==a&&(l=a[r])){const h=this._rootLView;od(h[1],h,l,r,s),nh(h,this._tNode.index)}}get injector(){return new As(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function Kg(){const t=ni();Ir(Et()[1],t)}function Gf(t){let r=function Zg(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const a=[t];for(;r;){let l;if(Or(t))l=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Ze(903,!1);l=r.\u0275dir}if(l){if(s){a.push(l);const v=t;v.inputs=Kf(t.inputs),v.declaredInputs=Kf(t.declaredInputs),v.outputs=Kf(t.outputs);const S=l.hostBindings;S&&Ny(t,S);const x=l.viewQuery,$=l.contentQueries;if(x&&Zf(t,x),$&&Oy(t,$),we(t.inputs,l.inputs),we(t.declaredInputs,l.declaredInputs),we(t.outputs,l.outputs),Or(l)&&l.data.animation){const Q=t.data;Q.animation=(Q.animation||[]).concat(l.data.animation)}}const h=l.features;if(h)for(let v=0;v<h.length;v++){const S=h[v];S&&S.ngInherit&&S(t),S===Gf&&(s=!1)}}r=Object.getPrototypeOf(r)}!function Py(t){let r=0,s=null;for(let a=t.length-1;a>=0;a--){const l=t[a];l.hostVars=r+=l.hostVars,l.hostAttrs=Jr(l.hostAttrs,s=Jr(s,l.hostAttrs))}}(a)}function Kf(t){return t===Rr?{}:t===tn?[]:t}function Zf(t,r){const s=t.viewQuery;t.viewQuery=s?(a,l)=>{r(a,l),s(a,l)}:r}function Oy(t,r){const s=t.contentQueries;t.contentQueries=s?(a,l,h)=>{r(a,l,h),s(a,l,h)}:r}function Ny(t,r){const s=t.hostBindings;t.hostBindings=s?(a,l)=>{r(a,l),s(a,l)}:r}let $i=null;function fl(){if(!$i){const t=ln.Symbol;if(t&&t.iterator)$i=t.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<r.length;++s){const a=r[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&($i=a)}}}return $i}function ad(t){return!!qf(t)&&(Array.isArray(t)||!(t instanceof Map)&&fl()in t)}function qf(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function xu(t,r,s){return t[r]=s}function dh(t,r){return t[r]}function Yo(t,r,s){return!Object.is(t[r],s)&&(t[r]=s,!0)}function kl(t,r,s,a){const l=Yo(t,r,s);return Yo(t,r+1,a)||l}function Zs(t,r,s,a,l,h){const v=kl(t,r,s,a);return kl(t,r+2,l,h)||v}function Ru(t,r,s,a){const l=Et();return Yo(l,$o(),r)&&(Bn(),Ta(ct(),l,t,r,s,a)),Ru}function Xa(t,r,s,a){return Yo(t,$o(),s)?r+$e(s)+a:ar}function gl(t,r,s,a,l,h,v,S){const x=Et(),$=Bn(),Q=t+22,he=$.firstCreatePass?function Xg(t,r,s,a,l,h,v,S,x){const $=r.consts,Q=Sa(r,t,4,v||null,zi($,S));rh(r,s,Q,zi($,x)),Ir(r,Q);const he=Q.tViews=id(2,Q,a,l,h,r.directiveRegistry,r.pipeRegistry,null,r.schemas,$);return null!==r.queries&&(r.queries.template(r,Q),he.queries=r.queries.embeddedTView(Q)),Q}(Q,$,x,r,s,a,l,h,v):$.data[Q];Ei(he,!1);const Pe=x[11].createComment("");rc($,x,Pe,he),cs(Pe,x),ah(x,x[Q]=Bg(Pe,x,Pe,he)),ir(he)&&Rf($,x,he),null!=v&&rd(x,he,S)}function Jf(t){return ps(function ks(){return An.lFrame.contextLView}(),22+t)}function dd(t,r,s){const a=Et();return Yo(a,$o(),r)&&$a(Bn(),ct(),a,t,r,a[11],s,!1),dd}function hd(t,r,s,a,l){const v=l?"class":"style";od(t,s,r.inputs[v],v,a)}function Ul(t,r,s,a){const l=Et(),h=Bn(),v=22+t,S=l[11],x=l[v]=Ud(S,r,function sr(){return An.lFrame.currentNamespace}()),$=h.firstCreatePass?function Uy(t,r,s,a,l,h,v){const S=r.consts,$=Sa(r,t,2,l,zi(S,h));return rh(r,s,$,zi(S,v)),null!==$.attrs&&vc($,$.attrs,!1),null!==$.mergedAttrs&&vc($,$.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,$),$}(v,h,l,0,r,s,a):h.data[v];Ei($,!0);const Q=$.mergedAttrs;null!==Q&&Lt(S,x,Q);const he=$.classes;null!==he&&Gd(S,x,he);const Pe=$.styles;return null!==Pe&&rf(S,x,Pe),64!=(64&$.flags)&&rc(h,l,x,$),0===function So(){return An.lFrame.elementDepthCount}()&&cs(x,l),function Pa(){An.lFrame.elementDepthCount++}(),ir($)&&(Rf(h,l,$),eh(h,$,l)),null!==a&&rd(l,$),Ul}function Bl(){let t=ni();ca()?Ui():(t=t.parent,Ei(t,!1));const r=t;!function Fi(){An.lFrame.elementDepthCount--}();const s=Bn();return s.firstCreatePass&&(Ir(s,t),kn(t)&&s.queries.elementEnd(t)),null!=r.classesWithoutHost&&function Cs(t){return 0!=(16&t.flags)}(r)&&hd(s,r,Et(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function nn(t){return 0!=(32&t.flags)}(r)&&hd(s,r,Et(),r.stylesWithoutHost,!1),Bl}function ph(t,r,s,a){return Ul(t,r,s,a),Bl(),ph}function gh(t,r,s){const a=Et(),l=Bn(),h=t+22,v=l.firstCreatePass?function fd(t,r,s,a,l){const h=r.consts,v=zi(h,a),S=Sa(r,t,8,"ng-container",v);return null!==v&&vc(S,v,!0),rh(r,s,S,zi(h,l)),null!==r.queries&&r.queries.elementStart(r,S),S}(h,l,a,r,s):l.data[h];Ei(v,!0);const S=a[h]=a[11].createComment("");return rc(l,a,S,v),cs(S,a),ir(v)&&(Rf(l,a,v),eh(l,v,a)),null!=s&&rd(a,v),gh}function Vl(){let t=ni();const r=Bn();return ca()?Ui():(t=t.parent,Ei(t,!1)),r.firstCreatePass&&(Ir(r,t),kn(t)&&r.queries.elementEnd(t)),Vl}function mh(t,r,s){return gh(t,r,s),Vl(),mh}function bc(){return Et()}function Xf(t){return!!t&&"function"==typeof t.then}function tm(t){return!!t&&"function"==typeof t.subscribe}const nm=tm;function ep(t,r,s,a){const l=Et(),h=Bn(),v=ni();return im(h,l,l[11],v,t,r,0,a),ep}function tp(t,r){const s=ni(),a=Et(),l=Bn();return im(l,a,lh(Mo(l.data),s,a),s,t,r),tp}function im(t,r,s,a,l,h,v,S){const x=ir(a),Q=t.firstCreatePass&&jf(t),he=r[8],Pe=Hg(r);let et=!0;if(3&a.type||S){const rn=Li(a,r),Dn=S?S(rn):rn,Fn=Pe.length,Rt=S?hi=>S(Er(hi[a.index])):a.index;let Yn=null;if(!S&&x&&(Yn=function rm(t,r,s,a){const l=t.cleanup;if(null!=l)for(let h=0;h<l.length-1;h+=2){const v=l[h];if(v===s&&l[h+1]===a){const S=r[7],x=l[h+2];return S.length>x?S[x]:null}"string"==typeof v&&(h+=2)}return null}(t,r,l,a.index)),null!==Yn)(Yn.__ngLastListenerFn__||Yn).__ngNextListenerFn__=h,Yn.__ngLastListenerFn__=h,et=!1;else{h=np(a,r,he,h,!1);const hi=s.listen(Dn,l,h);Pe.push(h,hi),Q&&Q.push(l,Rt,Fn,Fn+1)}}else h=np(a,r,he,h,!1);const Dt=a.outputs;let $t;if(et&&null!==Dt&&($t=Dt[l])){const rn=$t.length;if(rn)for(let Dn=0;Dn<rn;Dn+=2){const hs=r[$t[Dn]][$t[Dn+1]].subscribe(h),vd=Pe.length;Pe.push(h,hs),Q&&Q.push(l,a.index,vd,-(vd+1))}}}function sm(t,r,s,a){try{return!1!==s(a)}catch(l){return Hf(t,l),!1}}function np(t,r,s,a,l){return function h(v){if(v===Function)return a;jg(2&t.flags?lr(t.index,r):r);let x=sm(r,0,a,v),$=h.__ngNextListenerFn__;for(;$;)x=sm(r,0,$,v)&&x,$=$.__ngNextListenerFn__;return l&&!1===x&&(v.preventDefault(),v.returnValue=!1),x}}function om(t=1){return function N(t){return(An.lFrame.contextLView=function Z(t,r){for(;t>0;)r=r[15],t--;return r}(t,An.lFrame.contextLView))[8]}(t)}function By(t,r){let s=null;const a=function lf(t){const r=t.attrs;if(null!=r){const s=r.indexOf(5);if(0==(1&s))return r[s+1]}return null}(t);for(let l=0;l<r.length;l++){const h=r[l];if("*"!==h){if(null===a?Hc(t,h,!0):ng(a,h))return l}else s=l}return s}function rp(t){const r=Et()[16][6];if(!r.projection){const a=r.projection=D(t?t.length:1,null),l=a.slice();let h=r.child;for(;null!==h;){const v=t?By(h,t):0;null!==v&&(l[v]?l[v].projectionNext=h:a[v]=h,l[v]=h),h=h.next}}}function am(t,r=0,s){const a=Et(),l=Bn(),h=Sa(l,22+t,16,null,s||null);null===h.projection&&(h.projection=r),Ui(),64!=(64&h.flags)&&function ic(t,r,s){zd(r[11],0,r,s,qp(t,s,r),$d(s.parent||r[6],s,r))}(l,a,h)}function ip(t,r,s){return yh(t,"",r,"",s),ip}function yh(t,r,s,a,l){const h=Et(),v=Xa(h,r,s,a);return v!==ar&&$a(Bn(),ct(),h,t,v,h[11],l,!1),yh}function lm(t,r,s,a,l){const h=t[s+1],v=null===r;let S=a?Va(h):hu(h),x=!1;for(;0!==S&&(!1===x||v);){const Q=t[S+1];$y(t[S],r)&&(x=!0,t[S+1]=a?Qd(Q):Cu(Q)),S=a?Va(Q):hu(Q)}x&&(t[s+1]=a?Cu(h):Qd(h))}function $y(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&Ot(t,r)>=0}const Ti={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function cm(t){return t.substring(Ti.key,Ti.keyEnd)}function dm(t,r){const s=Ti.textEnd;return s===r?-1:(r=Ti.keyEnd=function Wy(t,r,s){for(;r<s&&t.charCodeAt(r)>32;)r++;return r}(t,Ti.key=r,s),Sc(t,r,s))}function Sc(t,r,s){for(;r<s&&t.charCodeAt(r)<=32;)r++;return r}function gm(t,r,s){return gu(t,r,s,!1),gm}function up(t,r){return gu(t,r,null,!0),up}function mm(t){mu(ve,Pu,t,!0)}function Pu(t,r){for(let s=function Hy(t){return function fm(t){Ti.key=0,Ti.keyEnd=0,Ti.value=0,Ti.valueEnd=0,Ti.textEnd=t.length}(t),dm(t,Sc(t,0,Ti.textEnd))}(r);s>=0;s=dm(r,s))ve(t,cm(r),!0)}function gu(t,r,s,a){const l=Et(),h=Bn(),v=rs(2);h.firstUpdatePass&&vm(h,t,v,a),r!==ar&&Yo(l,v,r)&&d(h,h.data[Ee()],l,l[11],t,l[v+1]=function U(t,r){return null==t||("string"==typeof r?t+=r:"object"==typeof t&&(t=te(yn(t)))),t}(r,s),a,v)}function mu(t,r,s,a){const l=Bn(),h=rs(2);l.firstUpdatePass&&vm(l,null,h,a);const v=Et();if(s!==ar&&Yo(v,h,s)){const S=l.data[Ee()];if(z(S,a)&&!ym(l,h)){let x=a?S.classesWithoutHost:S.stylesWithoutHost;null!==x&&(s=De(x,s||"")),hd(l,S,v,s,a)}else!function u(t,r,s,a,l,h,v,S){l===ar&&(l=tn);let x=0,$=0,Q=0<l.length?l[0]:null,he=0<h.length?h[0]:null;for(;null!==Q||null!==he;){const Pe=x<l.length?l[x+1]:void 0,et=$<h.length?h[$+1]:void 0;let $t,Dt=null;Q===he?(x+=2,$+=2,Pe!==et&&(Dt=he,$t=et)):null===he||null!==Q&&Q<he?(x+=2,Dt=Q):($+=2,Dt=he,$t=et),null!==Dt&&d(t,r,s,a,Dt,$t,v,S),Q=x<l.length?l[x]:null,he=$<h.length?h[$]:null}}(l,S,v,v[11],v[h+1],v[h+1]=function n(t,r,s){if(null==s||""===s)return tn;const a=[],l=yn(s);if(Array.isArray(l))for(let h=0;h<l.length;h++)t(a,l[h],!0);else if("object"==typeof l)for(const h in l)l.hasOwnProperty(h)&&t(a,h,l[h]);else"string"==typeof l&&r(a,l);return a}(t,r,s),a,h)}}function ym(t,r){return r>=t.expandoStartIndex}function vm(t,r,s,a){const l=t.data;if(null===l[s+1]){const h=l[Ee()],v=ym(t,s);z(h,a)&&null===r&&!v&&(r=!1),r=function Ky(t,r,s,a){const l=Mo(t);let h=a?r.residualClasses:r.residualStyles;if(null===l)0===(a?r.classBindings:r.styleBindings)&&(s=e(s=i(null,t,r,s,a),r.attrs,a),h=null);else{const v=r.directiveStylingLast;if(-1===v||t[v]!==l)if(s=i(l,t,r,s,a),null===h){let x=function n_(t,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==hu(a))return t[Va(a)]}(t,r,a);void 0!==x&&Array.isArray(x)&&(x=i(null,t,r,x[1],a),x=e(x,r.attrs,a),function r_(t,r,s,a){t[Va(s?r.classBindings:r.styleBindings)]=a}(t,r,a,x))}else h=function _m(t,r,s){let a;const l=r.directiveEnd;for(let h=1+r.directiveStylingLast;h<l;h++)a=e(a,t[h].hostAttrs,s);return e(a,r.attrs,s)}(t,r,a)}return void 0!==h&&(a?r.residualClasses=h:r.residualStyles=h),s}(l,h,r,a),function $l(t,r,s,a,l,h){let v=h?r.classBindings:r.styleBindings,S=Va(v),x=hu(v);t[a]=s;let Q,$=!1;if(Array.isArray(s)){const he=s;Q=he[1],(null===Q||Ot(he,Q)>0)&&($=!0)}else Q=s;if(l)if(0!==x){const Pe=Va(t[S+1]);t[a+1]=dc(Pe,S),0!==Pe&&(t[Pe+1]=hl(t[Pe+1],a)),t[S+1]=function hc(t,r){return 131071&t|r<<17}(t[S+1],a)}else t[a+1]=dc(S,0),0!==S&&(t[S+1]=hl(t[S+1],a)),S=a;else t[a+1]=dc(x,0),0===S?S=a:t[x+1]=hl(t[x+1],a),x=a;$&&(t[a+1]=Cu(t[a+1])),lm(t,Q,a,!0),lm(t,Q,a,!1),function Vy(t,r,s,a,l){const h=l?t.residualClasses:t.residualStyles;null!=h&&"string"==typeof r&&Ot(h,r)>=0&&(s[a+1]=Qd(s[a+1]))}(r,Q,t,a,h),v=dc(S,x),h?r.classBindings=v:r.styleBindings=v}(l,h,r,s,v,a)}}function i(t,r,s,a,l){let h=null;const v=s.directiveEnd;let S=s.directiveStylingLast;for(-1===S?S=s.directiveStart:S++;S<v&&(h=r[S],a=e(a,h.hostAttrs,l),h!==t);)S++;return null!==t&&(s.directiveStylingLast=S),a}function e(t,r,s){const a=s?1:2;let l=-1;if(null!==r)for(let h=0;h<r.length;h++){const v=r[h];"number"==typeof v?l=v:l===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ve(t,v,!!s||r[++h]))}return void 0===t?null:t}function d(t,r,s,a,l,h,v,S){if(!(3&r.type))return;const x=t.data,$=x[S+1];C(function Pl(t){return 1==(1&t)}($)?m(x,r,s,l,hu($),v):void 0)||(C(h)||function Yd(t){return 2==(2&t)}($)&&(h=m(x,null,s,l,S,v)),function Qp(t,r,s,a,l){if(r)l?t.addClass(s,a):t.removeClass(s,a);else{let h=-1===a.indexOf("-")?void 0:bu.DashCase;null==l?t.removeStyle(s,a,h):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),h|=bu.Important),t.setStyle(s,a,l,h))}}(a,v,Ds(Ee(),s),l,h))}function m(t,r,s,a,l,h){const v=null===r;let S;for(;l>0;){const x=t[l],$=Array.isArray(x),Q=$?x[1]:x,he=null===Q;let Pe=s[l+1];Pe===ar&&(Pe=he?tn:void 0);let et=he?dt(Pe,a):Q===a?Pe:void 0;if($&&!C(et)&&(et=dt(x,a)),C(et)&&(S=et,v))return S;const Dt=t[l+1];l=v?Va(Dt):hu(Dt)}if(null!==r){let x=h?r.residualClasses:r.residualStyles;null!=x&&(S=dt(x,a))}return S}function C(t){return void 0!==t}function z(t,r){return 0!=(t.flags&(r?16:32))}function ne(t,r=""){const s=Et(),a=Bn(),l=t+22,h=a.firstCreatePass?Sa(a,l,1,r,null):a.data[l],v=s[l]=function Fd(t,r){return t.createText(r)}(s[11],r);rc(a,s,v,h),Ei(h,!1)}function Te(t){return rt("",t,""),Te}function rt(t,r,s){const a=Et(),l=Xa(a,t,r,s);return l!==ar&&function fu(t,r,s){const a=Ds(r,t);!function cl(t,r,s){t.setValue(r,s)}(t[11],a,s)}(a,Ee(),l),rt}function mi(t,r,s){mu(ve,Pu,Xa(Et(),t,r,s),!0)}function Zy(t,r,s){const a=Et();return Yo(a,$o(),r)&&$a(Bn(),ct(),a,t,r,a[11],s,!0),Zy}function qy(t,r,s){const a=Et();if(Yo(a,$o(),r)){const h=Bn(),v=ct();$a(h,v,a,t,r,lh(Mo(h.data),v,a),s,!0)}return qy}const md=void 0;var LE=["en",[["a","p"],["AM","PM"],md],[["AM","PM"],md,md],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],md,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],md,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",md,"{1} 'at' {0}",md],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function kE(t){const s=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let wh={};function Yy(t){const r=function FE(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=p_(r);if(s)return s;const a=r.split("-")[0];if(s=p_(a),s)return s;if("en"===a)return LE;throw new Ze(701,!1)}function f_(t){return Yy(t)[jn.PluralCase]}function p_(t){return t in wh||(wh[t]=ln.ng&&ln.ng.common&&ln.ng.common.locales&&ln.ng.common.locales[t]),wh[t]}var jn=(()=>((jn=jn||{})[jn.LocaleId=0]="LocaleId",jn[jn.DayPeriodsFormat=1]="DayPeriodsFormat",jn[jn.DayPeriodsStandalone=2]="DayPeriodsStandalone",jn[jn.DaysFormat=3]="DaysFormat",jn[jn.DaysStandalone=4]="DaysStandalone",jn[jn.MonthsFormat=5]="MonthsFormat",jn[jn.MonthsStandalone=6]="MonthsStandalone",jn[jn.Eras=7]="Eras",jn[jn.FirstDayOfWeek=8]="FirstDayOfWeek",jn[jn.WeekendRange=9]="WeekendRange",jn[jn.DateFormat=10]="DateFormat",jn[jn.TimeFormat=11]="TimeFormat",jn[jn.DateTimeFormat=12]="DateTimeFormat",jn[jn.NumberSymbols=13]="NumberSymbols",jn[jn.NumberFormats=14]="NumberFormats",jn[jn.CurrencyCode=15]="CurrencyCode",jn[jn.CurrencySymbol=16]="CurrencySymbol",jn[jn.CurrencyName=17]="CurrencyName",jn[jn.Currencies=18]="Currencies",jn[jn.Directionality=19]="Directionality",jn[jn.PluralCase=20]="PluralCase",jn[jn.ExtraData=21]="ExtraData",jn))();const Dh="en-US";let g_=Dh;function Xy(t,r,s,a,l){if(t=be(t),Array.isArray(t))for(let h=0;h<t.length;h++)Xy(t[h],r,s,a,l);else{const h=Bn(),v=Et();let S=il(t)?t:be(t.provide),x=Sp(t);const $=ni(),Q=1048575&$.providerIndexes,he=$.directiveStart,Pe=$.providerIndexes>>20;if(il(t)||!t.multi){const et=new ai(x,l,cc),Dt=tv(S,r,l?Q:Q+Pe,he);-1===Dt?(Gn(co($,v),h,S),ev(h,t,r.length),r.push(S),$.directiveStart++,$.directiveEnd++,l&&($.providerIndexes+=1048576),s.push(et),v.push(et)):(s[Dt]=et,v[Dt]=et)}else{const et=tv(S,r,Q+Pe,he),Dt=tv(S,r,Q,Q+Pe),$t=et>=0&&s[et],rn=Dt>=0&&s[Dt];if(l&&!rn||!l&&!$t){Gn(co($,v),h,S);const Dn=function Nw(t,r,s,a,l){const h=new ai(t,s,cc);return h.multi=[],h.index=r,h.componentProviders=0,V_(h,l,a&&!s),h}(l?Ow:Pw,s.length,l,a,x);!l&&rn&&(s[Dt].providerFactory=Dn),ev(h,t,r.length,0),r.push(S),$.directiveStart++,$.directiveEnd++,l&&($.providerIndexes+=1048576),s.push(Dn),v.push(Dn)}else ev(h,t,et>-1?et:Dt,V_(s[l?Dt:et],x,!l&&a));!l&&a&&rn&&s[Dt].componentProviders++}}}function ev(t,r,s,a){const l=il(r),h=function Ip(t){return!!t.useClass}(r);if(l||h){const x=(h?be(r.useClass):r).prototype.ngOnDestroy;if(x){const $=t.destroyHooks||(t.destroyHooks=[]);if(!l&&r.multi){const Q=$.indexOf(s);-1===Q?$.push(s,[a,x]):$[Q+1].push(a,x)}else $.push(s,x)}}}function V_(t,r,s){return s&&t.componentProviders++,t.multi.push(r)-1}function tv(t,r,s,a){for(let l=s;l<a;l++)if(r[l]===t)return l;return-1}function Pw(t,r,s,a){return nv(this.multi,[])}function Ow(t,r,s,a){const l=this.multi;let h;if(this.providerFactory){const v=this.providerFactory.componentProviders,S=Ii(s,s[1],this.providerFactory.index,a);h=S.slice(0,v),nv(l,h);for(let x=v;x<S.length;x++)h.push(S[x])}else h=[],nv(l,h);return h}function nv(t,r){for(let s=0;s<t.length;s++)r.push((0,t[s])());return r}function $_(t,r=[]){return s=>{s.providersResolver=(a,l)=>function Rw(t,r,s){const a=Bn();if(a.firstCreatePass){const l=Or(t);Xy(s,a.data,a.blueprint,l,!0),Xy(r,a.data,a.blueprint,l,!1)}}(a,l?l(t):t,r)}}class Ih{}class j_{}function kw(t,r){return new H_(t,r??null)}class H_ extends Ih{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new _c(this);const a=zt(r);this._bootstrapComponents=Ja(a.bootstrap),this._r3Injector=oc(r,s,[{provide:Ih,useValue:this},{provide:ol,useValue:this.componentFactoryResolver}],te(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class rv extends j_{constructor(r){super(),this.moduleType=r}create(r){return new H_(this.moduleType,r)}}class Lw extends Ih{constructor(r,s,a){super(),this.componentFactoryResolver=new _c(this),this.instance=null;const l=new Id([...r,{provide:Ih,useValue:this},{provide:ol,useValue:this.componentFactoryResolver}],s||Dd(),a,new Set(["environment"]));this.injector=l,l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function iv(t,r,s=null){return new Lw(t,r,s).injector}let Fw=(()=>{class t{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s.id)){const a=_d(0,s.type),l=a.length>0?iv([a],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s.id,l)}return this.cachedInjectors.get(s.id)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=Nt({token:t,providedIn:"environment",factory:()=>new t(ii(sl))}),t})();function z_(t){t.getStandaloneInjector=r=>r.get(Fw).getOrCreateStandaloneInjector(t)}function Q_(t,r,s){const a=ri()+t,l=Et();return l[a]===ar?xu(l,a,s?r.call(s):r()):dh(l,a)}function J_(t,r,s,a){return n0(Et(),ri(),t,r,s,a)}function X_(t,r,s,a,l){return function r0(t,r,s,a,l,h,v){const S=r+s;return kl(t,S,l,h)?xu(t,S+2,v?a.call(v,l,h):a(l,h)):pp(t,S+2)}(Et(),ri(),t,r,s,a,l)}function e0(t,r,s,a,l,h,v){return function o0(t,r,s,a,l,h,v,S,x){const $=r+s;return Zs(t,$,l,h,v,S)?xu(t,$+4,x?a.call(x,l,h,v,S):a(l,h,v,S)):pp(t,$+4)}(Et(),ri(),t,r,s,a,l,h,v)}function t0(t,r,s,a,l,h,v,S){const x=ri()+t,$=Et(),Q=Zs($,x,s,a,l,h);return Yo($,x+4,v)||Q?xu($,x+5,S?r.call(S,s,a,l,h,v):r(s,a,l,h,v)):dh($,x+5)}function pp(t,r){const s=t[r];return s===ar?void 0:s}function n0(t,r,s,a,l,h){const v=r+s;return Yo(t,v,l)?xu(t,v+1,h?a.call(h,l):a(l)):pp(t,v+1)}function u0(t,r){const s=Bn();let a;const l=t+22;s.firstCreatePass?(a=function Qw(t,r){if(r)for(let s=r.length-1;s>=0;s--){const a=r[s];if(t===a.name)return a}}(r,s.pipeRegistry),s.data[l]=a,a.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(l,a.onDestroy)):a=s.data[l];const h=a.factory||(a.factory=ti(a.type)),v=er(cc);try{const S=fa(!1),x=h();return fa(S),function em(t,r,s,a){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),r[s]=a}(s,Et(),l,x),x}finally{er(v)}}function l0(t,r,s){const a=t+22,l=Et(),h=ps(l,a);return function gp(t,r){return t[1].data[r].pure}(l,a)?n0(l,ri(),r,h.transform,s,h):h.transform(s)}function ov(t){return r=>{setTimeout(t,void 0,r)}}const _l=class nD extends y.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){let l=r,h=s||(()=>null),v=a;if(r&&"object"==typeof r){const x=r;l=x.next?.bind(x),h=x.error?.bind(x),v=x.complete?.bind(x)}this.__isAsync&&(h=ov(h),l&&(l=ov(l)),v&&(v=ov(v)));const S=super.subscribe({next:l,error:h,complete:v});return r instanceof E.w0&&r.add(S),S}};function rD(){return this._results[fl()]()}class bm{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=fl(),a=bm.prototype;a[s]||(a[s]=rD)}get changes(){return this._changes||(this._changes=new _l)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const l=cr(r);(this._changesDetected=!function Fu(t,r,s){if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++){let l=t[a],h=r[a];if(s&&(l=s(l),h=s(h)),h!==l)return!1}return!0}(a._results,l,s))&&(a._results=l,a.length=l.length,a.last=l[this.length-1],a.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let mp=(()=>{class t{}return t.__NG_ELEMENT_ID__=oD,t})();const iD=mp,sD=class extends iD{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(r,s){const a=this._declarationTContainer.tViews,l=mc(this._declarationLView,a,r,16,null,a.declTNode,null,null,null,null,s||null);l[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(l[19]=v.createEmbeddedView(a)),nd(a,l,r),new Nl(l)}};function oD(){return Sm(ni(),Et())}function Sm(t,r){return 4&t.type?new sD(r,t,Jl(t,r)):null}let Tm=(()=>{class t{}return t.__NG_ELEMENT_ID__=aD,t})();function aD(){return h0(ni(),Et())}const uD=Tm,c0=class extends uD{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return Jl(this._hostTNode,this._hostLView)}get injector(){return new As(this._hostTNode,this._hostLView)}get parentInjector(){const r=li(this._hostTNode,this._hostLView);if(Za(r)){const s=vs(r,this._hostLView),a=ui(r);return new As(s[1].data[a+8],s)}return new As(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=d0(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,s,a){let l,h;"number"==typeof a?l=a:null!=a&&(l=a.index,h=a.injector);const v=r.createEmbeddedView(s||{},h);return this.insert(v,l),v}createComponent(r,s,a,l,h){const v=r&&!function po(t){return"function"==typeof t}(r);let S;if(v)S=s;else{const he=s||{};S=he.index,a=he.injector,l=he.projectableNodes,h=he.environmentInjector||he.ngModuleRef}const x=v?r:new Mu(K(r)),$=a||this.parentInjector;if(!h&&null==x.ngModule){const Pe=(v?$:this.parentInjector).get(sl,null);Pe&&(h=Pe)}const Q=x.create($,l,void 0,h);return this.insert(Q.hostView,S),Q}insert(r,s){const a=r._lView,l=a[1];if(function _i(t){return jt(t[3])}(a)){const Q=this.indexOf(r);if(-1!==Q)this.detach(Q);else{const he=a[3],Pe=new c0(he,he[6],he[3]);Pe.detach(Pe.indexOf(r))}}const h=this._adjustIndex(s),v=this._lContainer;!function oy(t,r,s,a){const l=10+a,h=s.length;a>0&&(s[l-1][4]=r),a<h-10?(r[4]=s[l],Hs(s,10+a,r)):(s.push(r),r[4]=null),r[3]=s;const v=r[17];null!==v&&s!==v&&function Wh(t,r){const s=t[9];r[16]!==r[3][3][16]&&(t[2]=!0),null===s?t[9]=[r]:s.push(r)}(v,r);const S=r[19];null!==S&&S.insertView(t),r[2]|=64}(l,a,v,h);const S=ef(h,v),x=a[11],$=Rl(x,v[7]);return null!==$&&function iy(t,r,s,a,l,h){a[0]=l,a[6]=r,Su(t,a,s,1,l,h)}(l,v[6],x,a,$,S),r.attachToViewContainerRef(),Hs(av(v),h,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=d0(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=Gh(this._lContainer,s);a&&(Lr(av(this._lContainer),s),Kp(a[1],a))}detach(r){const s=this._adjustIndex(r,-1),a=Gh(this._lContainer,s);return a&&null!=Lr(av(this._lContainer),s)?new Nl(a):null}_adjustIndex(r,s=0){return r??this.length+s}};function d0(t){return t[8]}function av(t){return t[8]||(t[8]=[])}function h0(t,r){let s;const a=r[t.index];if(jt(a))s=a;else{let l;if(8&t.type)l=Er(a);else{const h=r[11];l=h.createComment("");const v=Li(t,r);xl(h,Rl(h,v),l,function Yh(t,r){return t.nextSibling(r)}(h,v),!1)}r[t.index]=s=Bg(a,r,l,t),ah(r,s)}return new c0(s,t,r)}class uv{constructor(r){this.queryList=r,this.matches=null}clone(){return new uv(this.queryList)}setDirty(){this.queryList.setDirty()}}class lv{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,l=[];for(let h=0;h<a;h++){const v=s.getByIndex(h);l.push(this.queries[v.indexInDeclarationView].clone())}return new lv(l)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==w0(r,s).matches&&this.queries[s].setDirty()}}class f0{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class cv{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const l=null!==s?s.length:0,h=this.getByIndex(a).embeddedTView(r,l);h&&(h.indexInDeclarationView=a,null!==s?s.push(h):s=[h])}return null!==s?new cv(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class dv{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new dv(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let l=0;l<a.length;l++){const h=a[l];this.matchTNodeWithReadOption(r,s,dD(s,h)),this.matchTNodeWithReadOption(r,s,Na(s,r,h,!1,!1))}else a===mp?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,Na(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const l=this.metadata.read;if(null!==l)if(l===Oc||l===Tm||l===mp&&4&s.type)this.addMatch(s.index,-2);else{const h=Na(s,r,l,!1,!1);null!==h&&this.addMatch(s.index,h)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function dD(t,r){const s=t.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function fD(t,r,s,a){return-1===s?function hD(t,r){return 11&t.type?Jl(t,r):4&t.type?Sm(t,r):null}(r,t):-2===s?function pD(t,r,s){return s===Oc?Jl(r,t):s===mp?Sm(r,t):s===Tm?h0(r,t):void 0}(t,r,a):Ii(t,t[1],s,r)}function p0(t,r,s,a){const l=r[19].queries[a];if(null===l.matches){const h=t.data,v=s.matches,S=[];for(let x=0;x<v.length;x+=2){const $=v[x];S.push($<0?null:fD(r,h[$],v[x+1],s.metadata.read))}l.matches=S}return l.matches}function hv(t,r,s,a){const l=t.queries.getByIndex(s),h=l.matches;if(null!==h){const v=p0(t,r,l,s);for(let S=0;S<h.length;S+=2){const x=h[S];if(x>0)a.push(v[S/2]);else{const $=h[S+1],Q=r[-x];for(let he=10;he<Q.length;he++){const Pe=Q[he];Pe[17]===Pe[3]&&hv(Pe[1],Pe,$,a)}if(null!==Q[9]){const he=Q[9];for(let Pe=0;Pe<he.length;Pe++){const et=he[Pe];hv(et[1],et,$,a)}}}}}return a}function g0(t){const r=Et(),s=Bn(),a=Ss();Wi(a+1);const l=w0(s,a);if(t.dirty&&function Ra(t){return 4==(4&t[2])}(r)===(2==(2&l.metadata.flags))){if(null===l.matches)t.reset([]);else{const h=l.crossesNgTemplate?hv(s,r,a,[]):p0(s,r,l,a);t.reset(h,$m),t.notifyOnChanges()}return!0}return!1}function m0(t,r,s){const a=Bn();a.firstCreatePass&&(E0(a,new f0(t,r,s),-1),2==(2&r)&&(a.staticViewQueries=!0)),_0(a,Et(),r)}function y0(t,r,s,a){const l=Bn();if(l.firstCreatePass){const h=ni();E0(l,new f0(r,s,a),h.index),function mD(t,r){const s=t.contentQueries||(t.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,r)}(l,t),2==(2&s)&&(l.staticContentQueries=!0)}_0(l,Et(),s)}function v0(){return function gD(t,r){return t[19].queries[r].queryList}(Et(),Ss())}function _0(t,r,s){const a=new bm(4==(4&s));th(t,r,a,a.destroy),null===r[19]&&(r[19]=new lv),r[19].queries.push(new uv(a))}function E0(t,r,s){null===t.queries&&(t.queries=new cv),t.queries.track(new dv(r,s))}function w0(t,r){return t.queries.getByIndex(r)}function D0(t,r){return Sm(t,r)}function Am(...t){}const $0=new Tr("Application Initializer");let Mm=(()=>{class t{constructor(s){this.appInits=s,this.resolve=Am,this.reject=Am,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,l)=>{this.resolve=a,this.reject=l})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const h=this.appInits[l]();if(Xf(h))s.push(h);else if(nm(h)){const v=new Promise((S,x)=>{h.subscribe({complete:S,error:x})});s.push(v)}}Promise.all(s).then(()=>{a()}).catch(l=>{this.reject(l)}),0===s.length&&a(),this.initialized=!0}}return t.\u0275fac=function(s){return new(s||t)(ii($0,8))},t.\u0275prov=Nt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const j0=new Tr("AppId",{providedIn:"root",factory:function H0(){return`${yv()}${yv()}${yv()}`}});function yv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const z0=new Tr("Platform Initializer"),LD=new Tr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),W0=new Tr("appBootstrapListener"),FD=new Tr("AnimationModuleType");let UD=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=Nt({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const xm=new Tr("LocaleId",{providedIn:"root",factory:()=>Uu(xm,Ut.Optional|Ut.SkipSelf)||function BD(){return typeof $localize<"u"&&$localize.locale||Dh}()}),VD=new Tr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class $D{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let jD=(()=>{class t{compileModuleSync(s){return new rv(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),h=Ja(zt(s).declarations).reduce((v,S)=>{const x=K(S);return x&&v.push(new Mu(x)),v},[]);return new $D(a,h)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=Nt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const WD=(()=>Promise.resolve(0))();function vv(t){typeof Zone>"u"?WD.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Ou{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new _l(!1),this.onMicrotaskEmpty=new _l(!1),this.onStable=new _l(!1),this.onError=new _l(!1),typeof Zone>"u")throw new Ze(908,!1);Zone.assertZonePatched();const l=this;if(l._nesting=0,l._outer=l._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const h=Zone.AsyncStackTaggingZoneSpec;l._inner=l._inner.fork(new h("Angular"))}Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!a&&s,l.shouldCoalesceRunChangeDetection=a,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function GD(){let t=ln.requestAnimationFrame,r=ln.cancelAnimationFrame;if(typeof Zone<"u"&&t&&r){const s=t[Zone.__symbol__("OriginalDelegate")];s&&(t=s);const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function qD(t){const r=()=>{!function ZD(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(ln,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Ev(t),t.isCheckStableRunning=!0,_v(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Ev(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,l,h,v,S)=>{try{return Z0(t),s.invokeTask(l,h,v,S)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||t.shouldCoalesceRunChangeDetection)&&r(),q0(t)}},onInvoke:(s,a,l,h,v,S,x)=>{try{return Z0(t),s.invoke(l,h,v,S,x)}finally{t.shouldCoalesceRunChangeDetection&&r(),q0(t)}},onHasTask:(s,a,l,h)=>{s.hasTask(l,h),a===l&&("microTask"==h.change?(t._hasPendingMicrotasks=h.microTask,Ev(t),_v(t)):"macroTask"==h.change&&(t.hasPendingMacrotasks=h.macroTask))},onHandleError:(s,a,l,h)=>(s.handleError(l,h),t.runOutsideAngular(()=>t.onError.emit(h)),!1)})}(l)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ou.isInAngularZone())throw new Ze(909,!1)}static assertNotInAngularZone(){if(Ou.isInAngularZone())throw new Ze(909,!1)}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,l){const h=this._inner,v=h.scheduleEventTask("NgZoneEvent: "+l,r,KD,Am,Am);try{return h.runTask(v,s,a)}finally{h.cancelTask(v)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const KD={};function _v(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ev(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Z0(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function q0(t){t._nesting--,_v(t)}class YD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new _l,this.onMicrotaskEmpty=new _l,this.onStable=new _l,this.onError=new _l}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,l){return r.apply(s,a)}}const Y0=new Tr(""),Q0=new Tr("");let wv,QD=(()=>{class t{constructor(s,a,l){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,wv||(function JD(t){wv=t}(l),l.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ou.assertNotInAngularZone(),vv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())vv(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,l){let h=-1;a&&a>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==h),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:h,updateCb:l})}whenStable(s,a,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,l){return[]}}return t.\u0275fac=function(s){return new(s||t)(ii(Ou),ii(J0),ii(Q0))},t.\u0275prov=Nt({token:t,factory:t.\u0275fac}),t})(),J0=(()=>{class t{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return wv?.findTestabilityInTree(this,s,a)??null}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=Nt({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),Cc=null;const X0=new Tr("AllowMultipleToken"),Dv=new Tr("PlatformDestroyListeners");class tI{constructor(r,s){this.name=r,this.token=s}}function tE(t,r,s=[]){const a=`Platform: ${r}`,l=new Tr(a);return(h=[])=>{let v=Iv();if(!v||v.injector.get(X0,!1)){const S=[...s,...h,{provide:l,useValue:!0}];t?t(S):function nI(t){if(Cc&&!Cc.get(X0,!1))throw new Ze(400,!1);Cc=t;const r=t.get(rE);(function eE(t){const r=t.get(z0,null);r&&r.forEach(s=>s())})(t)}(function nE(t=[],r){return Wu.create({name:r,providers:[{provide:Rh,useValue:"platform"},{provide:Dv,useValue:new Set([()=>Cc=null])},...t]})}(S,a))}return function iI(t){const r=Iv();if(!r)throw new Ze(401,!1);return r}()}}function Iv(){return Cc?.get(rE)??null}let rE=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const l=function sE(t,r){let s;return s="noop"===t?new YD:("zone.js"===t?void 0:t)||new Ou(r),s}(a?.ngZone,function iE(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(a)),h=[{provide:Ou,useValue:l}];return l.run(()=>{const v=Wu.create({providers:h,parent:this.injector,name:s.moduleType.name}),S=s.create(v),x=S.injector.get(cu,null);if(!x)throw new Ze(402,!1);return l.runOutsideAngular(()=>{const $=l.onError.subscribe({next:Q=>{x.handleError(Q)}});S.onDestroy(()=>{Pm(this._modules,S),$.unsubscribe()})}),function oE(t,r,s){try{const a=s();return Xf(a)?a.catch(l=>{throw r.runOutsideAngular(()=>t.handleError(l)),l}):a}catch(a){throw r.runOutsideAngular(()=>t.handleError(a)),a}}(x,l,()=>{const $=S.injector.get(Mm);return $.runInitializers(),$.donePromise.then(()=>(function m_(t){Ft(t,"Expected localeId to be defined"),"string"==typeof t&&(g_=t.toLowerCase().replace(/_/g,"-"))}(S.injector.get(xm,Dh)||Dh),this._moduleDoBootstrap(S),S))})})}bootstrapModule(s,a=[]){const l=aE({},a);return function XD(t,r,s){const a=new rv(s);return Promise.resolve(a)}(0,0,s).then(h=>this.bootstrapModuleFactory(h,l))}_moduleDoBootstrap(s){const a=s.injector.get(Rm);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(l=>a.bootstrap(l));else{if(!s.instance.ngDoBootstrap)throw new Ze(403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ze(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(Dv,null);s&&(s.forEach(a=>a()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(s){return new(s||t)(ii(Wu))},t.\u0275prov=Nt({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function aE(t,r){return Array.isArray(r)?r.reduce(aE,t):{...t,...r}}let Rm=(()=>{class t{constructor(s,a,l){this._zone=s,this._injector=a,this._exceptionHandler=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new B.y(S=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{S.next(this._stable),S.complete()})}),v=new B.y(S=>{let x;this._zone.runOutsideAngular(()=>{x=this._zone.onStable.subscribe(()=>{Ou.assertNotInAngularZone(),vv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,S.next(!0))})})});const $=this._zone.onUnstable.subscribe(()=>{Ou.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{S.next(!1)}))});return()=>{x.unsubscribe(),$.unsubscribe()}});this.isStable=(0,se.T)(h,v.pipe((0,ue.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,a){const l=s instanceof Zo;if(!this._injector.get(Mm).done)throw!l&&_t(s),new Ze(405,false);let v;v=l?s:this._injector.get(ol).resolveComponentFactory(s),this.componentTypes.push(v.componentType);const S=function eI(t){return t.isBoundToModule}(v)?void 0:this._injector.get(Ih),$=v.create(Wu.NULL,[],a||v.selector,S),Q=$.location.nativeElement,he=$.injector.get(Y0,null);return he?.registerApplication(Q),$.onDestroy(()=>{this.detachView($.hostView),Pm(this.components,$),he?.unregisterApplication(Q)}),this._loadComponent($),$}tick(){if(this._runningTick)throw new Ze(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;Pm(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(W0,[]).concat(this._bootstrapListeners).forEach(l=>l(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>Pm(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new Ze(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(s){return new(s||t)(ii(Ou),ii(sl),ii(cu))},t.\u0275prov=Nt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Pm(t,r){const s=t.indexOf(r);s>-1&&t.splice(s,1)}let lE=!0,cE=!1;function oI(){return cE=!0,lE}function aI(){if(cE)throw new Error("Cannot enable prod mode after platform setup.");lE=!1}let uI=(()=>{class t{}return t.__NG_ELEMENT_ID__=lI,t})();function lI(t){return function cI(t,r,s){if(zr(t)&&!s){const a=lr(t.index,r);return new Nl(a,a)}return 47&t.type?new Nl(r[16],r):null}(ni(),Et(),16==(16&t))}class pE{constructor(){}supports(r){return ad(r)}create(r){return new mI(r)}}const gI=(t,r)=>r;class mI{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||gI}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,l=0,h=null;for(;s||a;){const v=!a||s&&s.currentIndex<mE(a,l,h)?s:a,S=mE(v,l,h),x=v.currentIndex;if(v===a)l--,a=a._nextRemoved;else if(s=s._next,null==v.previousIndex)l++;else{h||(h=[]);const $=S-l,Q=x-l;if($!=Q){for(let Pe=0;Pe<$;Pe++){const et=Pe<h.length?h[Pe]:h[Pe]=0,Dt=et+Pe;Q<=Dt&&Dt<$&&(h[Pe]=et+1)}h[v.previousIndex]=Q-$}}S!==x&&r(v,S,x)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!ad(r))throw new Ze(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let l,h,v,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let S=0;S<this.length;S++)h=r[S],v=this._trackByFn(S,h),null!==s&&Object.is(s.trackById,v)?(a&&(s=this._verifyReinsertion(s,h,v,S)),Object.is(s.item,h)||this._addIdentityChange(s,h)):(s=this._mismatch(s,h,v,S),a=!0),s=s._next}else l=0,function Ly(t,r){if(Array.isArray(t))for(let s=0;s<t.length;s++)r(t[s]);else{const s=t[fl()]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,S=>{v=this._trackByFn(l,S),null!==s&&Object.is(s.trackById,v)?(a&&(s=this._verifyReinsertion(s,S,v,l)),Object.is(s.item,S)||this._addIdentityChange(s,S)):(s=this._mismatch(s,S,v,l),a=!0),s=s._next,l++}),this.length=l;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,l){let h;return null===r?h=this._itTail:(h=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,h,l)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,l))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,h,l)):r=this._addAfter(new yI(s,a),h,l),r}_verifyReinsertion(r,s,a,l){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==h?r=this._reinsertAfter(h,r._prev,l):r.currentIndex!=l&&(r.currentIndex=l,this._addToMoves(r,l)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const l=r._prevRemoved,h=r._nextRemoved;return null===l?this._removalsHead=h:l._nextRemoved=h,null===h?this._removalsTail=l:h._prevRemoved=l,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const l=null===s?this._itHead:s._next;return r._next=l,r._prev=s,null===l?this._itTail=r:l._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new gE),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new gE),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class yI{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class vI{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class gE{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new vI,this.map.set(s,a)),a.add(r)}get(r,s){const l=this.map.get(r);return l?l.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function mE(t,r,s){const a=t.previousIndex;if(null===a)return a;let l=0;return s&&a<s.length&&(l=s[a]),a+r+l}class yE{constructor(){}supports(r){return r instanceof Map||qf(r)}create(){return new _I}}class _I{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||qf(r)))throw new Ze(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,l)=>{if(s&&s.key===l)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const h=this._getOrCreateRecordForKey(l,a);s=this._insertBeforeOrAppend(s,h)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const l=this._records.get(r);this._maybeAddToChanges(l,s);const h=l._prev,v=l._next;return h&&(h._next=v),v&&(v._prev=h),l._next=null,l._prev=null,l}const a=new EI(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class EI{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function vE(){return new Av([new pE])}let Av=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(null!=a){const l=a.factories.slice();s=s.concat(l)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||vE()),deps:[[t,new Qt,new St]]}}find(s){const a=this.factories.find(l=>l.supports(s));if(null!=a)return a;throw new Ze(901,!1)}}return t.\u0275prov=Nt({token:t,providedIn:"root",factory:vE}),t})();function _E(){return new Mv([new yE])}let Mv=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(a){const l=a.factories.slice();s=s.concat(l)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||_E()),deps:[[t,new Qt,new St]]}}find(s){const a=this.factories.find(l=>l.supports(s));if(a)return a;throw new Ze(901,!1)}}return t.\u0275prov=Nt({token:t,providedIn:"root",factory:_E}),t})();const II=tE(null,"core",[]);let bI=(()=>{class t{constructor(s){}}return t.\u0275fac=function(s){return new(s||t)(ii(Rm))},t.\u0275mod=Zt({type:t}),t.\u0275inj=en({}),t})();function SI(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function CI(t,r){const s=K(t),a=r.elementInjector||Dd();return new Mu(s).create(a,r.projectableNodes,r.hostElement,r.environmentInjector)}},1481:(Pt,Le,k)=>{k.d(Le,{Dx:()=>rr,H7:()=>ze,Qz:()=>Ze,b2:()=>vr,q6:()=>Pn,se:()=>ce});var y=k(6895),E=k(4650);class B extends y.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class se extends B{static makeCurrent(){(0,y.HT)(new se)}onAndCancel(oe,ie,Me){return oe.addEventListener(ie,Me,!1),()=>{oe.removeEventListener(ie,Me,!1)}}dispatchEvent(oe,ie){oe.dispatchEvent(ie)}remove(oe){oe.parentNode&&oe.parentNode.removeChild(oe)}createElement(oe,ie){return(ie=ie||this.getDefaultDocument()).createElement(oe)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(oe){return oe.nodeType===Node.ELEMENT_NODE}isShadowRoot(oe){return oe instanceof DocumentFragment}getGlobalEventTarget(oe,ie){return"window"===ie?window:"document"===ie?oe:"body"===ie?oe.body:null}getBaseHref(oe){const ie=function fe(){return ue=ue||document.querySelector("base"),ue?ue.getAttribute("href"):null}();return null==ie?null:function te(de){we=we||document.createElement("a"),we.setAttribute("href",de);const oe=we.pathname;return"/"===oe.charAt(0)?oe:`/${oe}`}(ie)}resetBaseElement(){ue=null}getUserAgent(){return window.navigator.userAgent}getCookie(oe){return(0,y.Mx)(document.cookie,oe)}}let we,ue=null;const De=new E.OlP("TRANSITION_ID"),ae=[{provide:E.ip1,useFactory:function X(de,oe,ie){return()=>{ie.get(E.CZH).donePromise.then(()=>{const Me=(0,y.q)(),Qe=oe.querySelectorAll(`style[ng-transition="${de}"]`);for(let Bt=0;Bt<Qe.length;Bt++)Me.remove(Qe[Bt])})}},deps:[De,y.K0,E.zs3],multi:!0}];let Je=(()=>{class de{build(){return new XMLHttpRequest}}return de.\u0275fac=function(ie){return new(ie||de)},de.\u0275prov=E.Yz7({token:de,factory:de.\u0275fac}),de})();const Ke=new E.OlP("EventManagerPlugins");let Ze=(()=>{class de{constructor(ie,Me){this._zone=Me,this._eventNameToPlugin=new Map,ie.forEach(Qe=>Qe.manager=this),this._plugins=ie.slice().reverse()}addEventListener(ie,Me,Qe){return this._findPluginFor(Me).addEventListener(ie,Me,Qe)}addGlobalEventListener(ie,Me,Qe){return this._findPluginFor(Me).addGlobalEventListener(ie,Me,Qe)}getZone(){return this._zone}_findPluginFor(ie){const Me=this._eventNameToPlugin.get(ie);if(Me)return Me;const Qe=this._plugins;for(let Bt=0;Bt<Qe.length;Bt++){const Cn=Qe[Bt];if(Cn.supports(ie))return this._eventNameToPlugin.set(ie,Cn),Cn}throw new Error(`No event manager plugin found for event ${ie}`)}}return de.\u0275fac=function(ie){return new(ie||de)(E.LFG(Ke),E.LFG(E.R0b))},de.\u0275prov=E.Yz7({token:de,factory:de.\u0275fac}),de})();class Ct{constructor(oe){this._doc=oe}addGlobalEventListener(oe,ie,Me){const Qe=(0,y.q)().getGlobalEventTarget(this._doc,oe);if(!Qe)throw new Error(`Unsupported event target ${Qe} for event ${ie}`);return this.addEventListener(Qe,ie,Me)}}let $e=(()=>{class de{constructor(){this._stylesSet=new Set}addStyles(ie){const Me=new Set;ie.forEach(Qe=>{this._stylesSet.has(Qe)||(this._stylesSet.add(Qe),Me.add(Qe))}),this.onStylesAdded(Me)}onStylesAdded(ie){}getAllStyles(){return Array.from(this._stylesSet)}}return de.\u0275fac=function(ie){return new(ie||de)},de.\u0275prov=E.Yz7({token:de,factory:de.\u0275fac}),de})(),it=(()=>{class de extends $e{constructor(ie){super(),this._doc=ie,this._hostNodes=new Map,this._hostNodes.set(ie.head,[])}_addStylesToHost(ie,Me,Qe){ie.forEach(Bt=>{const Cn=this._doc.createElement("style");Cn.textContent=Bt,Qe.push(Me.appendChild(Cn))})}addHost(ie){const Me=[];this._addStylesToHost(this._stylesSet,ie,Me),this._hostNodes.set(ie,Me)}removeHost(ie){const Me=this._hostNodes.get(ie);Me&&Me.forEach(Ae),this._hostNodes.delete(ie)}onStylesAdded(ie){this._hostNodes.forEach((Me,Qe)=>{this._addStylesToHost(ie,Qe,Me)})}ngOnDestroy(){this._hostNodes.forEach(ie=>ie.forEach(Ae))}}return de.\u0275fac=function(ie){return new(ie||de)(E.LFG(y.K0))},de.\u0275prov=E.Yz7({token:de,factory:de.\u0275fac}),de})();function Ae(de){(0,y.q)().remove(de)}const ft={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ue=/%COMP%/g;function Ie(de,oe,ie){for(let Me=0;Me<oe.length;Me++){let Qe=oe[Me];Array.isArray(Qe)?Ie(de,Qe,ie):(Qe=Qe.replace(Ue,de),ie.push(Qe))}return ie}function Re(de){return oe=>{if("__ngUnwrap__"===oe)return de;!1===de(oe)&&(oe.preventDefault(),oe.returnValue=!1)}}let ce=(()=>{class de{constructor(ie,Me,Qe){this.eventManager=ie,this.sharedStylesHost=Me,this.appId=Qe,this.rendererByCompId=new Map,this.defaultRenderer=new at(ie)}createRenderer(ie,Me){if(!ie||!Me)return this.defaultRenderer;switch(Me.encapsulation){case E.ifc.Emulated:{let Qe=this.rendererByCompId.get(Me.id);return Qe||(Qe=new Ft(this.eventManager,this.sharedStylesHost,Me,this.appId),this.rendererByCompId.set(Me.id,Qe)),Qe.applyToHost(ie),Qe}case 1:case E.ifc.ShadowDom:return new mt(this.eventManager,this.sharedStylesHost,ie,Me);default:if(!this.rendererByCompId.has(Me.id)){const Qe=Ie(Me.id,Me.styles,[]);this.sharedStylesHost.addStyles(Qe),this.rendererByCompId.set(Me.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return de.\u0275fac=function(ie){return new(ie||de)(E.LFG(Ze),E.LFG(it),E.LFG(E.AFp))},de.\u0275prov=E.Yz7({token:de,factory:de.\u0275fac}),de})();class at{constructor(oe){this.eventManager=oe,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(oe,ie){return ie?document.createElementNS(ft[ie]||ie,oe):document.createElement(oe)}createComment(oe){return document.createComment(oe)}createText(oe){return document.createTextNode(oe)}appendChild(oe,ie){(Wt(oe)?oe.content:oe).appendChild(ie)}insertBefore(oe,ie,Me){oe&&(Wt(oe)?oe.content:oe).insertBefore(ie,Me)}removeChild(oe,ie){oe&&oe.removeChild(ie)}selectRootElement(oe,ie){let Me="string"==typeof oe?document.querySelector(oe):oe;if(!Me)throw new Error(`The selector "${oe}" did not match any elements`);return ie||(Me.textContent=""),Me}parentNode(oe){return oe.parentNode}nextSibling(oe){return oe.nextSibling}setAttribute(oe,ie,Me,Qe){if(Qe){ie=Qe+":"+ie;const Bt=ft[Qe];Bt?oe.setAttributeNS(Bt,ie,Me):oe.setAttribute(ie,Me)}else oe.setAttribute(ie,Me)}removeAttribute(oe,ie,Me){if(Me){const Qe=ft[Me];Qe?oe.removeAttributeNS(Qe,ie):oe.removeAttribute(`${Me}:${ie}`)}else oe.removeAttribute(ie)}addClass(oe,ie){oe.classList.add(ie)}removeClass(oe,ie){oe.classList.remove(ie)}setStyle(oe,ie,Me,Qe){Qe&(E.JOm.DashCase|E.JOm.Important)?oe.style.setProperty(ie,Me,Qe&E.JOm.Important?"important":""):oe.style[ie]=Me}removeStyle(oe,ie,Me){Me&E.JOm.DashCase?oe.style.removeProperty(ie):oe.style[ie]=""}setProperty(oe,ie,Me){oe[ie]=Me}setValue(oe,ie){oe.nodeValue=ie}listen(oe,ie,Me){return"string"==typeof oe?this.eventManager.addGlobalEventListener(oe,ie,Re(Me)):this.eventManager.addEventListener(oe,ie,Re(Me))}}function Wt(de){return"TEMPLATE"===de.tagName&&void 0!==de.content}class Ft extends at{constructor(oe,ie,Me,Qe){super(oe),this.component=Me;const Bt=Ie(Qe+"-"+Me.id,Me.styles,[]);ie.addStyles(Bt),this.contentAttr=function He(de){return"_ngcontent-%COMP%".replace(Ue,de)}(Qe+"-"+Me.id),this.hostAttr=function nt(de){return"_nghost-%COMP%".replace(Ue,de)}(Qe+"-"+Me.id)}applyToHost(oe){super.setAttribute(oe,this.hostAttr,"")}createElement(oe,ie){const Me=super.createElement(oe,ie);return super.setAttribute(Me,this.contentAttr,""),Me}}class mt extends at{constructor(oe,ie,Me,Qe){super(oe),this.sharedStylesHost=ie,this.hostEl=Me,this.shadowRoot=Me.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Bt=Ie(Qe.id,Qe.styles,[]);for(let Cn=0;Cn<Bt.length;Cn++){const Sn=document.createElement("style");Sn.textContent=Bt[Cn],this.shadowRoot.appendChild(Sn)}}nodeOrShadowRoot(oe){return oe===this.hostEl?this.shadowRoot:oe}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(oe,ie){return super.appendChild(this.nodeOrShadowRoot(oe),ie)}insertBefore(oe,ie,Me){return super.insertBefore(this.nodeOrShadowRoot(oe),ie,Me)}removeChild(oe,ie){return super.removeChild(this.nodeOrShadowRoot(oe),ie)}parentNode(oe){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(oe)))}}let un=(()=>{class de extends Ct{constructor(ie){super(ie)}supports(ie){return!0}addEventListener(ie,Me,Qe){return ie.addEventListener(Me,Qe,!1),()=>this.removeEventListener(ie,Me,Qe)}removeEventListener(ie,Me,Qe){return ie.removeEventListener(Me,Qe)}}return de.\u0275fac=function(ie){return new(ie||de)(E.LFG(y.K0))},de.\u0275prov=E.Yz7({token:de,factory:de.\u0275fac}),de})();const En=["alt","control","meta","shift"],bn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Nt={alt:de=>de.altKey,control:de=>de.ctrlKey,meta:de=>de.metaKey,shift:de=>de.shiftKey};let dn=(()=>{class de extends Ct{constructor(ie){super(ie)}supports(ie){return null!=de.parseEventName(ie)}addEventListener(ie,Me,Qe){const Bt=de.parseEventName(Me),Cn=de.eventCallback(Bt.fullKey,Qe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,y.q)().onAndCancel(ie,Bt.domEventName,Cn))}static parseEventName(ie){const Me=ie.toLowerCase().split("."),Qe=Me.shift();if(0===Me.length||"keydown"!==Qe&&"keyup"!==Qe)return null;const Bt=de._normalizeKey(Me.pop());let Cn="",Sn=Me.indexOf("code");if(Sn>-1&&(Me.splice(Sn,1),Cn="code."),En.forEach(vi=>{const sn=Me.indexOf(vi);sn>-1&&(Me.splice(sn,1),Cn+=vi+".")}),Cn+=Bt,0!=Me.length||0===Bt.length)return null;const $r={};return $r.domEventName=Qe,$r.fullKey=Cn,$r}static matchEventFullKeyCode(ie,Me){let Qe=bn[ie.key]||ie.key,Bt="";return Me.indexOf("code.")>-1&&(Qe=ie.code,Bt="code."),!(null==Qe||!Qe)&&(Qe=Qe.toLowerCase()," "===Qe?Qe="space":"."===Qe&&(Qe="dot"),En.forEach(Cn=>{Cn!==Qe&&(0,Nt[Cn])(ie)&&(Bt+=Cn+".")}),Bt+=Qe,Bt===Me)}static eventCallback(ie,Me,Qe){return Bt=>{de.matchEventFullKeyCode(Bt,ie)&&Qe.runGuarded(()=>Me(Bt))}}static _normalizeKey(ie){return"esc"===ie?"escape":ie}}return de.\u0275fac=function(ie){return new(ie||de)(E.LFG(y.K0))},de.\u0275prov=E.Yz7({token:de,factory:de.\u0275fac}),de})();const Pn=(0,E.eFA)(E._c5,"browser",[{provide:E.Lbi,useValue:y.bD},{provide:E.g9A,useValue:function xr(){se.makeCurrent()},multi:!0},{provide:y.K0,useFactory:function Jn(){return(0,E.RDi)(document),document},deps:[]}]),vn=new E.OlP(""),Ut=[{provide:E.rWj,useClass:class be{addToWindow(oe){E.dqk.getAngularTestability=(Me,Qe=!0)=>{const Bt=oe.findTestabilityInTree(Me,Qe);if(null==Bt)throw new Error("Could not find testability for element.");return Bt},E.dqk.getAllAngularTestabilities=()=>oe.getAllTestabilities(),E.dqk.getAllAngularRootElements=()=>oe.getAllRootElements(),E.dqk.frameworkStabilizers||(E.dqk.frameworkStabilizers=[]),E.dqk.frameworkStabilizers.push(Me=>{const Qe=E.dqk.getAllAngularTestabilities();let Bt=Qe.length,Cn=!1;const Sn=function($r){Cn=Cn||$r,Bt--,0==Bt&&Me(Cn)};Qe.forEach(function($r){$r.whenStable(Sn)})})}findTestabilityInTree(oe,ie,Me){return null==ie?null:oe.getTestability(ie)??(Me?(0,y.q)().isShadowRoot(ie)?this.findTestabilityInTree(oe,ie.host,!0):this.findTestabilityInTree(oe,ie.parentElement,!0):null)}},deps:[]},{provide:E.lri,useClass:E.dDg,deps:[E.R0b,E.eoX,E.rWj]},{provide:E.dDg,useClass:E.dDg,deps:[E.R0b,E.eoX,E.rWj]}],ur=[{provide:E.zSh,useValue:"root"},{provide:E.qLn,useFactory:function fr(){return new E.qLn},deps:[]},{provide:Ke,useClass:un,multi:!0,deps:[y.K0,E.R0b,E.Lbi]},{provide:Ke,useClass:dn,multi:!0,deps:[y.K0]},{provide:ce,useClass:ce,deps:[Ze,it,E.AFp]},{provide:E.FYo,useExisting:ce},{provide:$e,useExisting:it},{provide:it,useClass:it,deps:[y.K0]},{provide:Ze,useClass:Ze,deps:[Ke,E.R0b]},{provide:y.JF,useClass:Je,deps:[]},[]];let vr=(()=>{class de{constructor(ie){}static withServerTransition(ie){return{ngModule:de,providers:[{provide:E.AFp,useValue:ie.appId},{provide:De,useExisting:E.AFp},ae]}}}return de.\u0275fac=function(ie){return new(ie||de)(E.LFG(vn,12))},de.\u0275mod=E.oAB({type:de}),de.\u0275inj=E.cJS({providers:[...ur,...Ut],imports:[y.ez,E.hGG]}),de})(),rr=(()=>{class de{constructor(ie){this._doc=ie}getTitle(){return this._doc.title}setTitle(ie){this._doc.title=ie||""}}return de.\u0275fac=function(ie){return new(ie||de)(E.LFG(y.K0))},de.\u0275prov=E.Yz7({token:de,factory:function(ie){let Me=null;return Me=ie?new ie:function Xn(){return new rr((0,E.LFG)(y.K0))}(),Me},providedIn:"root"}),de})();typeof window<"u"&&window;let ze=(()=>{class de{}return de.\u0275fac=function(ie){return new(ie||de)},de.\u0275prov=E.Yz7({token:de,factory:function(ie){let Me=null;return Me=ie?new(ie||de):E.LFG(zt),Me},providedIn:"root"}),de})(),zt=(()=>{class de extends ze{constructor(ie){super(),this._doc=ie}sanitize(ie,Me){if(null==Me)return null;switch(ie){case E.q3G.NONE:return Me;case E.q3G.HTML:return(0,E.qzn)(Me,"HTML")?(0,E.z3N)(Me):(0,E.EiD)(this._doc,String(Me)).toString();case E.q3G.STYLE:return(0,E.qzn)(Me,"Style")?(0,E.z3N)(Me):Me;case E.q3G.SCRIPT:if((0,E.qzn)(Me,"Script"))return(0,E.z3N)(Me);throw new Error("unsafe value used in a script context");case E.q3G.URL:return(0,E.qzn)(Me,"URL")?(0,E.z3N)(Me):(0,E.mCW)(String(Me));case E.q3G.RESOURCE_URL:if((0,E.qzn)(Me,"ResourceURL"))return(0,E.z3N)(Me);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${ie} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(ie){return(0,E.JVY)(ie)}bypassSecurityTrustStyle(ie){return(0,E.L6k)(ie)}bypassSecurityTrustScript(ie){return(0,E.eBb)(ie)}bypassSecurityTrustUrl(ie){return(0,E.LAX)(ie)}bypassSecurityTrustResourceUrl(ie){return(0,E.pB0)(ie)}}return de.\u0275fac=function(ie){return new(ie||de)(E.LFG(y.K0))},de.\u0275prov=E.Yz7({token:de,factory:function(ie){let Me=null;return Me=ie?new ie:function _t(de){return new zt(de.get(y.K0))}(E.LFG(E.zs3)),Me},providedIn:"root"}),de})()},7799:(Pt,Le,k)=>{k.d(Le,{gz:()=>no,F0:()=>ci,rH:()=>Ii,yS:()=>qa,Bz:()=>xn,lC:()=>bo});var y=k(4650),E=k(8996),B=k(9646),se=k(1135),ue=k(6805),fe=k(9841),we=k(7272),te=k(9770),De=k(9635),X=k(2843),ae=k(9751),be=k(515),Je=k(727),Ke=k(4482),Ze=k(5403);function Ct(){return(0,Ke.e)((D,b)=>{let w=null;D._refCount++;const R=(0,Ze.x)(b,void 0,void 0,void 0,()=>{if(!D||D._refCount<=0||0<--D._refCount)return void(w=null);const L=D._connection,q=w;w=null,L&&(!q||L===q)&&L.unsubscribe(),b.unsubscribe()});D.subscribe(R),R.closed||(w=D.connect())})}class $e extends ae.y{constructor(b,w){super(),this.source=b,this.subjectFactory=w,this._subject=null,this._refCount=0,this._connection=null,(0,Ke.A)(b)&&(this.lift=b.lift)}_subscribe(b){return this.getSubject().subscribe(b)}getSubject(){const b=this._subject;return(!b||b.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:b}=this;this._subject=this._connection=null,b?.unsubscribe()}connect(){let b=this._connection;if(!b){b=this._connection=new Je.w0;const w=this.getSubject();b.add(this.source.subscribe((0,Ze.x)(w,void 0,()=>{this._teardown(),w.complete()},R=>{this._teardown(),w.error(R)},()=>this._teardown()))),b.closed&&(this._connection=null,b=Je.w0.EMPTY)}return b}refCount(){return Ct()(this)}}var it=k(7579),Ae=k(6895),ft=k(4004),Ue=k(3900),Ce=k(5698),Ye=k(8675),yt=k(9300),Oe=k(6099),He=k(590),nt=k(4351),Ie=k(8505),Re=k(262),Xe=k(2940);function ce(D){return D<=0?()=>be.E:(0,Ke.e)((b,w)=>{let R=[];b.subscribe((0,Ze.x)(w,L=>{R.push(L),D<R.length&&R.shift()},()=>{for(const L of R)w.next(L);w.complete()},void 0,()=>{R=null}))})}var at=k(8068),Be=k(6590),It=k(4671);function Wt(D,b){const w=arguments.length>=2;return R=>R.pipe(D?(0,yt.h)((L,q)=>D(L,q,R)):It.y,ce(1),w?(0,Be.d)(b):(0,at.T)(()=>new ue.K))}var mt=k(9718),un=k(8746),En=k(8189),bn=k(1481);const Nt="primary",dn=Symbol("RouteTitle");class en{constructor(b){this.params=b||{}}has(b){return Object.prototype.hasOwnProperty.call(this.params,b)}get(b){if(this.has(b)){const w=this.params[b];return Array.isArray(w)?w[0]:w}return null}getAll(b){if(this.has(b)){const w=this.params[b];return Array.isArray(w)?w:[w]}return[]}get keys(){return Object.keys(this.params)}}function yr(D){return new en(D)}function Mr(D,b,w){const R=w.path.split("/");if(R.length>D.length||"full"===w.pathMatch&&(b.hasChildren()||R.length<D.length))return null;const L={};for(let q=0;q<R.length;q++){const pe=R[q],ve=D[q];if(pe.startsWith(":"))L[pe.substring(1)]=ve;else if(pe!==ve.path)return null}return{consumed:D.slice(0,R.length),posParams:L}}function mn(D,b){const w=D?Object.keys(D):void 0,R=b?Object.keys(b):void 0;if(!w||!R||w.length!=R.length)return!1;let L;for(let q=0;q<w.length;q++)if(L=w[q],!xr(D[L],b[L]))return!1;return!0}function xr(D,b){if(Array.isArray(D)&&Array.isArray(b)){if(D.length!==b.length)return!1;const w=[...D].sort(),R=[...b].sort();return w.every((L,q)=>R[q]===L)}return D===b}function fr(D){return Array.prototype.concat.apply([],D)}function Jn(D){return D.length>0?D[D.length-1]:null}function Pn(D,b){for(const w in D)D.hasOwnProperty(w)&&b(D[w],w)}function vn(D){return(0,y.CqO)(D)?D:(0,y.QGY)(D)?(0,E.D)(Promise.resolve(D)):(0,B.of)(D)}const vr={exact:function Xn(D,b,w){if(!tn(D.segments,b.segments)||!Yt(D.segments,b.segments,w)||D.numberOfChildren!==b.numberOfChildren)return!1;for(const R in b.children)if(!D.children[R]||!Xn(D.children[R],b.children[R],w))return!1;return!0},subset:Un},er={exact:function yi(D,b){return mn(D,b)},subset:function rr(D,b){return Object.keys(b).length<=Object.keys(D).length&&Object.keys(b).every(w=>xr(D[w],b[w]))},ignored:()=>!0};function _r(D,b,w){return vr[w.paths](D.root,b.root,w.matrixParams)&&er[w.queryParams](D.queryParams,b.queryParams)&&!("exact"===w.fragment&&D.fragment!==b.fragment)}function Un(D,b,w){return Gt(D,b,b.segments,w)}function Gt(D,b,w,R){if(D.segments.length>w.length){const L=D.segments.slice(0,w.length);return!(!tn(L,w)||b.hasChildren()||!Yt(L,w,R))}if(D.segments.length===w.length){if(!tn(D.segments,w)||!Yt(D.segments,w,R))return!1;for(const L in b.children)if(!D.children[L]||!Un(D.children[L],b.children[L],R))return!1;return!0}{const L=w.slice(0,D.segments.length),q=w.slice(D.segments.length);return!!(tn(D.segments,L)&&Yt(D.segments,L,R)&&D.children[Nt])&&Gt(D.children[Nt],b,q,R)}}function Yt(D,b,w){return b.every((R,L)=>er[w](D[L].parameters,R.parameters))}class ln{constructor(b,w,R){this.root=b,this.queryParams=w,this.fragment=R}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yr(this.queryParams)),this._queryParamMap}toString(){return gn.serialize(this)}}class cn{constructor(b,w){this.segments=b,this.children=w,this.parent=null,Pn(w,(R,L)=>R.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return or(this)}}class $n{constructor(b,w){this.path=b,this.parameters=w}get parameterMap(){return this._parameterMap||(this._parameterMap=yr(this.parameters)),this._parameterMap}toString(){return _e(this)}}function tn(D,b){return D.length===b.length&&D.every((w,R)=>w.path===b[R].path)}let pn=(()=>{class D{}return D.\u0275fac=function(w){return new(w||D)},D.\u0275prov=y.Yz7({token:D,factory:function(){return new tr},providedIn:"root"}),D})();class tr{parse(b){const w=new Kt(b);return new ln(w.parseRootSegment(),w.parseQueryParams(),w.parseFragment())}serialize(b){const w=`/${nr(b.root,!0)}`,R=function xe(D){const b=Object.keys(D).map(w=>{const R=D[w];return Array.isArray(R)?R.map(L=>`${j(w)}=${j(L)}`).join("&"):`${j(w)}=${j(R)}`}).filter(w=>!!w);return b.length?`?${b.join("&")}`:""}(b.queryParams);return`${w}${R}${"string"==typeof b.fragment?`#${function re(D){return encodeURI(D)}(b.fragment)}`:""}`}}const gn=new tr;function or(D){return D.segments.map(b=>_e(b)).join("/")}function nr(D,b){if(!D.hasChildren())return or(D);if(b){const w=D.children[Nt]?nr(D.children[Nt],!1):"",R=[];return Pn(D.children,(L,q)=>{q!==Nt&&R.push(`${q}:${nr(L,!1)}`)}),R.length>0?`${w}(${R.join("//")})`:w}{const w=function Pr(D,b){let w=[];return Pn(D.children,(R,L)=>{L===Nt&&(w=w.concat(b(R,L)))}),Pn(D.children,(R,L)=>{L!==Nt&&(w=w.concat(b(R,L)))}),w}(D,(R,L)=>L===Nt?[nr(D.children[Nt],!1)]:[`${L}:${nr(R,!1)}`]);return 1===Object.keys(D.children).length&&null!=D.children[Nt]?`${or(D)}/${w[0]}`:`${or(D)}/(${w.join("//")})`}}function We(D){return encodeURIComponent(D).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function j(D){return We(D).replace(/%3B/gi,";")}function ke(D){return We(D).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function st(D){return decodeURIComponent(D)}function Zt(D){return st(D.replace(/\+/g,"%20"))}function _e(D){return`${ke(D.path)}${function ye(D){return Object.keys(D).map(b=>`;${ke(b)}=${ke(D[b])}`).join("")}(D.parameters)}`}const ge=/^[^\/()?;=#]+/;function K(D){const b=D.match(ge);return b?b[0]:""}const le=/^[^=?&#]+/,_t=/^[^&#]+/;class Kt{constructor(b){this.url=b,this.remaining=b}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new cn([],{}):new cn([],this.parseChildren())}parseQueryParams(){const b={};if(this.consumeOptional("?"))do{this.parseQueryParam(b)}while(this.consumeOptional("&"));return b}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const b=[];for(this.peekStartsWith("(")||b.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),b.push(this.parseSegment());let w={};this.peekStartsWith("/(")&&(this.capture("/"),w=this.parseParens(!0));let R={};return this.peekStartsWith("(")&&(R=this.parseParens(!1)),(b.length>0||Object.keys(w).length>0)&&(R[Nt]=new cn(b,w)),R}parseSegment(){const b=K(this.remaining);if(""===b&&this.peekStartsWith(";"))throw new y.vHH(4009,!1);return this.capture(b),new $n(st(b),this.parseMatrixParams())}parseMatrixParams(){const b={};for(;this.consumeOptional(";");)this.parseParam(b);return b}parseParam(b){const w=K(this.remaining);if(!w)return;this.capture(w);let R="";if(this.consumeOptional("=")){const L=K(this.remaining);L&&(R=L,this.capture(R))}b[st(w)]=st(R)}parseQueryParam(b){const w=function ze(D){const b=D.match(le);return b?b[0]:""}(this.remaining);if(!w)return;this.capture(w);let R="";if(this.consumeOptional("=")){const pe=function zt(D){const b=D.match(_t);return b?b[0]:""}(this.remaining);pe&&(R=pe,this.capture(R))}const L=Zt(w),q=Zt(R);if(b.hasOwnProperty(L)){let pe=b[L];Array.isArray(pe)||(pe=[pe],b[L]=pe),pe.push(q)}else b[L]=q}parseParens(b){const w={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const R=K(this.remaining),L=this.remaining[R.length];if("/"!==L&&")"!==L&&";"!==L)throw new y.vHH(4010,!1);let q;R.indexOf(":")>-1?(q=R.slice(0,R.indexOf(":")),this.capture(q),this.capture(":")):b&&(q=Nt);const pe=this.parseChildren();w[q]=1===Object.keys(pe).length?pe[Nt]:new cn([],pe),this.consumeOptional("//")}return w}peekStartsWith(b){return this.remaining.startsWith(b)}consumeOptional(b){return!!this.peekStartsWith(b)&&(this.remaining=this.remaining.substring(b.length),!0)}capture(b){if(!this.consumeOptional(b))throw new y.vHH(4011,!1)}}function de(D){return D.segments.length>0?new cn([],{[Nt]:D}):D}function oe(D){const b={};for(const R of Object.keys(D.children)){const q=oe(D.children[R]);(q.segments.length>0||q.hasChildren())&&(b[R]=q)}return function ie(D){if(1===D.numberOfChildren&&D.children[Nt]){const b=D.children[Nt];return new cn(D.segments.concat(b.segments),b.children)}return D}(new cn(D.segments,b))}function Me(D){return D instanceof ln}function $r(D,b,w,R,L){if(0===w.length)return fi(b.root,b.root,b.root,R,L);const q=function pi(D){if("string"==typeof D[0]&&1===D.length&&"/"===D[0])return new Qi(!0,0,D);let b=0,w=!1;const R=D.reduce((L,q,pe)=>{if("object"==typeof q&&null!=q){if(q.outlets){const ve={};return Pn(q.outlets,(dt,Ot)=>{ve[Ot]="string"==typeof dt?dt.split("/"):dt}),[...L,{outlets:ve}]}if(q.segmentPath)return[...L,q.segmentPath]}return"string"!=typeof q?[...L,q]:0===pe?(q.split("/").forEach((ve,dt)=>{0==dt&&"."===ve||(0==dt&&""===ve?w=!0:".."===ve?b++:""!=ve&&L.push(ve))}),L):[...L,q]},[]);return new Qi(w,b,R)}(w);return q.toRoot()?fi(b.root,b.root,new cn([],{}),R,L):function pe(dt){const Ot=function qr(D,b,w,R){if(D.isAbsolute)return new pr(b.root,!0,0);if(-1===R)return new pr(w,w===b.root,0);return function Di(D,b,w){let R=D,L=b,q=w;for(;q>L;){if(q-=L,R=R.parent,!R)throw new y.vHH(4005,!1);L=R.segments.length}return new pr(R,!1,L-q)}(w,R+(vi(D.commands[0])?0:1),D.numberOfDoubleDots)}(q,b,D.snapshot?._urlSegment,dt),Nn=Ot.processChildren?Hn(Ot.segmentGroup,Ot.index,q.commands):Qs(Ot.segmentGroup,Ot.index,q.commands);return fi(b.root,Ot.segmentGroup,Nn,R,L)}(D.snapshot?._lastPathIndex)}function vi(D){return"object"==typeof D&&null!=D&&!D.outlets&&!D.segmentPath}function sn(D){return"object"==typeof D&&null!=D&&D.outlets}function fi(D,b,w,R,L){let pe,q={};R&&Pn(R,(dt,Ot)=>{q[Ot]=Array.isArray(dt)?dt.map(Nn=>`${Nn}`):`${dt}`}),pe=D===b?w:fs(D,b,w);const ve=de(oe(pe));return new ln(ve,q,L)}function fs(D,b,w){const R={};return Pn(D.children,(L,q)=>{R[q]=L===b?w:fs(L,b,w)}),new cn(D.segments,R)}class Qi{constructor(b,w,R){if(this.isAbsolute=b,this.numberOfDoubleDots=w,this.commands=R,b&&R.length>0&&vi(R[0]))throw new y.vHH(4003,!1);const L=R.find(sn);if(L&&L!==Jn(R))throw new y.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class pr{constructor(b,w,R){this.segmentGroup=b,this.processChildren=w,this.index=R}}function Qs(D,b,w){if(D||(D=new cn([],{})),0===D.segments.length&&D.hasChildren())return Hn(D,b,w);const R=function Ha(D,b,w){let R=0,L=b;const q={match:!1,pathIndex:0,commandIndex:0};for(;L<D.segments.length;){if(R>=w.length)return q;const pe=D.segments[L],ve=w[R];if(sn(ve))break;const dt=`${ve}`,Ot=R<w.length-1?w[R+1]:null;if(L>0&&void 0===dt)break;if(dt&&Ot&&"object"==typeof Ot&&void 0===Ot.outlets){if(!Hi(dt,Ot,pe))return q;R+=2}else{if(!Hi(dt,{},pe))return q;R++}L++}return{match:!0,pathIndex:L,commandIndex:R}}(D,b,w),L=w.slice(R.commandIndex);if(R.match&&R.pathIndex<D.segments.length){const q=new cn(D.segments.slice(0,R.pathIndex),{});return q.children[Nt]=new cn(D.segments.slice(R.pathIndex),D.children),Hn(q,0,L)}return R.match&&0===L.length?new cn(D.segments,{}):R.match&&!D.hasChildren()?Br(D,b,w):R.match?Hn(D,0,L):Br(D,b,w)}function Hn(D,b,w){if(0===w.length)return new cn(D.segments,{});{const R=function Cr(D){return sn(D[0])?D[0].outlets:{[Nt]:D}}(w),L={};return Pn(R,(q,pe)=>{"string"==typeof q&&(q=[q]),null!==q&&(L[pe]=Qs(D.children[pe],b,q))}),Pn(D.children,(q,pe)=>{void 0===R[pe]&&(L[pe]=q)}),new cn(D.segments,L)}}function Br(D,b,w){const R=D.segments.slice(0,b);let L=0;for(;L<w.length;){const q=w[L];if(sn(q)){const dt=_o(q.outlets);return new cn(R,dt)}if(0===L&&vi(w[0])){R.push(new $n(D.segments[b].path,ji(w[0]))),L++;continue}const pe=sn(q)?q.outlets[Nt]:`${q}`,ve=L<w.length-1?w[L+1]:null;pe&&ve&&vi(ve)?(R.push(new $n(pe,ji(ve))),L+=2):(R.push(new $n(pe,{})),L++)}return new cn(R,{})}function _o(D){const b={};return Pn(D,(w,R)=>{"string"==typeof w&&(w=[w]),null!==w&&(b[R]=Br(new cn([],{}),0,w))}),b}function ji(D){const b={};return Pn(D,(w,R)=>b[R]=`${w}`),b}function Hi(D,b,w){return D==w.path&&mn(b,w.parameters)}class Fe{constructor(b,w){this.id=b,this.url=w}}class Ne extends Fe{constructor(b,w,R="imperative",L=null){super(b,w),this.type=0,this.navigationTrigger=R,this.restoredState=L}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ge extends Fe{constructor(b,w,R){super(b,w),this.urlAfterRedirects=R,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class pt extends Fe{constructor(b,w,R,L){super(b,w),this.reason=R,this.code=L,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class bt extends Fe{constructor(b,w,R,L){super(b,w),this.error=R,this.target=L,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class jt extends Fe{constructor(b,w,R,L){super(b,w),this.urlAfterRedirects=R,this.state=L,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kn extends Fe{constructor(b,w,R,L){super(b,w),this.urlAfterRedirects=R,this.state=L,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zr extends Fe{constructor(b,w,R,L,q){super(b,w),this.urlAfterRedirects=R,this.state=L,this.shouldActivate=q,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ir extends Fe{constructor(b,w,R,L){super(b,w),this.urlAfterRedirects=R,this.state=L,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Or extends Fe{constructor(b,w,R,L){super(b,w),this.urlAfterRedirects=R,this.state=L,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Js{constructor(b){this.route=b,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class eu{constructor(b){this.route=b,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Xs{constructor(b){this.snapshot=b,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ci{constructor(b){this.snapshot=b,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eo{constructor(b){this.snapshot=b,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ji{constructor(b){this.snapshot=b,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tu{constructor(b,w,R){this.routerEvent=b,this.position=w,this.anchor=R,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class yu{constructor(b){this._root=b}get root(){return this._root.value}parent(b){const w=this.pathFromRoot(b);return w.length>1?w[w.length-2]:null}children(b){const w=Eo(b,this._root);return w?w.children.map(R=>R.value):[]}firstChild(b){const w=Eo(b,this._root);return w&&w.children.length>0?w.children[0].value:null}siblings(b){const w=Ca(b,this._root);return w.length<2?[]:w[w.length-2].children.map(L=>L.value).filter(L=>L!==b)}pathFromRoot(b){return Ca(b,this._root).map(w=>w.value)}}function Eo(D,b){if(D===b.value)return b;for(const w of b.children){const R=Eo(D,w);if(R)return R}return null}function Ca(D,b){if(D===b.value)return[b];for(const w of b.children){const R=Ca(D,w);if(R.length)return R.unshift(b),R}return[]}class Ai{constructor(b,w){this.value=b,this.children=w}toString(){return`TreeNode(${this.value})`}}function Ni(D){const b={};return D&&D.children.forEach(w=>b[w.value.outlet]=w),b}class to extends yu{constructor(b,w){super(b),this.snapshot=w,ro(this,b)}toString(){return this.snapshot.toString()}}function za(D,b){const w=function Nu(D,b){const pe=new ua([],{},{},"",{},Nt,b,null,D.root,-1,{});return new Xi("",new Ai(pe,[]))}(D,b),R=new se.X([new $n("",{})]),L=new se.X({}),q=new se.X({}),pe=new se.X({}),ve=new se.X(""),dt=new no(R,L,pe,ve,q,Nt,b,w.root);return dt.snapshot=w.root,new to(new Ai(dt,[]),w)}class no{constructor(b,w,R,L,q,pe,ve,dt){this.url=b,this.params=w,this.queryParams=R,this.fragment=L,this.data=q,this.outlet=pe,this.component=ve,this.title=this.data?.pipe((0,ft.U)(Ot=>Ot[dn]))??(0,B.of)(void 0),this._futureSnapshot=dt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ft.U)(b=>yr(b)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ft.U)(b=>yr(b)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function wo(D,b="emptyOnly"){const w=D.pathFromRoot;let R=0;if("always"!==b)for(R=w.length-1;R>=1;){const L=w[R],q=w[R-1];if(L.routeConfig&&""===L.routeConfig.path)R--;else{if(q.component)break;R--}}return function Wa(D){return D.reduce((b,w)=>({params:{...b.params,...w.params},data:{...b.data,...w.data},resolve:{...w.data,...b.resolve,...w.routeConfig?.data,...w._resolvedData}}),{params:{},data:{},resolve:{}})}(w.slice(R))}class ua{constructor(b,w,R,L,q,pe,ve,dt,Ot,Nn,qt,Kn){this.url=b,this.params=w,this.queryParams=R,this.fragment=L,this.data=q,this.outlet=pe,this.component=ve,this.title=this.data?.[dn],this.routeConfig=dt,this._urlSegment=Ot,this._lastPathIndex=Nn,this._correctedLastPathIndex=Kn??Nn,this._resolve=qt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=yr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(R=>R.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Xi extends yu{constructor(b,w){super(w),this.url=b,ro(this,w)}toString(){return io(this._root)}}function ro(D,b){b.value._routerState=D,b.children.forEach(w=>ro(D,w))}function io(D){const b=D.children.length>0?` { ${D.children.map(io).join(", ")} } `:"";return`${D.value}${b}`}function ti(D){if(D.snapshot){const b=D.snapshot,w=D._futureSnapshot;D.snapshot=w,mn(b.queryParams,w.queryParams)||D.queryParams.next(w.queryParams),b.fragment!==w.fragment&&D.fragment.next(w.fragment),mn(b.params,w.params)||D.params.next(w.params),function Qn(D,b){if(D.length!==b.length)return!1;for(let w=0;w<D.length;++w)if(!mn(D[w],b[w]))return!1;return!0}(b.url,w.url)||D.url.next(w.url),mn(b.data,w.data)||D.data.next(w.data)}else D.snapshot=D._futureSnapshot,D.data.next(D._futureSnapshot.data)}function so(D,b){const w=mn(D.params,b.params)&&function Rr(D,b){return tn(D,b)&&D.every((w,R)=>mn(w.parameters,b[R].parameters))}(D.url,b.url);return w&&!(!D.parent!=!b.parent)&&(!D.parent||so(D.parent,b.parent))}function oo(D,b,w){if(w&&D.shouldReuseRoute(b.value,w.value.snapshot)){const R=w.value;R._futureSnapshot=b.value;const L=function Do(D,b,w){return b.children.map(R=>{for(const L of w.children)if(D.shouldReuseRoute(R.value,L.value.snapshot))return oo(D,R,L);return oo(D,R)})}(D,b,w);return new Ai(R,L)}{if(D.shouldAttach(b.value)){const q=D.retrieve(b.value);if(null!==q){const pe=q.route;return pe.value._futureSnapshot=b.value,pe.children=b.children.map(ve=>oo(D,ve)),pe}}const R=function Uo(D){return new no(new se.X(D.url),new se.X(D.params),new se.X(D.queryParams),new se.X(D.fragment),new se.X(D.data),D.outlet,D.component,D)}(b.value),L=b.children.map(q=>oo(D,q));return new Ai(R,L)}}const Aa="ngNavigationCancelingError";function Io(D,b){const{redirectTo:w,navigationBehaviorOptions:R}=Me(b)?{redirectTo:b,navigationBehaviorOptions:void 0}:b,L=vu(!1,0,b);return L.url=w,L.navigationBehaviorOptions=R,L}function vu(D,b,w){const R=new Error("NavigationCancelingError: "+(D||""));return R[Aa]=!0,R.cancellationCode=b,w&&(R.url=w),R}function es(D){return Os(D)&&Me(D.url)}function Os(D){return D&&D[Aa]}class ts{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new ki,this.attachRef=null}}let ki=(()=>{class D{constructor(){this.contexts=new Map}onChildOutletCreated(w,R){const L=this.getOrCreateContext(w);L.outlet=R,this.contexts.set(w,L)}onChildOutletDestroyed(w){const R=this.getContext(w);R&&(R.outlet=null,R.attachRef=null)}onOutletDeactivated(){const w=this.contexts;return this.contexts=new Map,w}onOutletReAttached(w){this.contexts=w}getOrCreateContext(w){let R=this.getContext(w);return R||(R=new ts,this.contexts.set(w,R)),R}getContext(w){return this.contexts.get(w)||null}}return D.\u0275fac=function(w){return new(w||D)},D.\u0275prov=y.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();const Yr=!1;let bo=(()=>{class D{constructor(w,R,L,q,pe){this.parentContexts=w,this.location=R,this.changeDetector=q,this.environmentInjector=pe,this.activated=null,this._activatedRoute=null,this.activateEvents=new y.vpe,this.deactivateEvents=new y.vpe,this.attachEvents=new y.vpe,this.detachEvents=new y.vpe,this.name=L||Nt,w.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const w=this.parentContexts.getContext(this.name);w&&w.route&&(w.attachRef?this.attach(w.attachRef,w.route):this.activateWith(w.route,w.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new y.vHH(4012,Yr);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new y.vHH(4012,Yr);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new y.vHH(4012,Yr);this.location.detach();const w=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(w.instance),w}attach(w,R){this.activated=w,this._activatedRoute=R,this.location.insert(w.hostView),this.attachEvents.emit(w.instance)}deactivate(){if(this.activated){const w=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(w)}}activateWith(w,R){if(this.isActivated)throw new y.vHH(4013,Yr);this._activatedRoute=w;const L=this.location,pe=w._futureSnapshot.component,ve=this.parentContexts.getOrCreateContext(this.name).children,dt=new _u(w,ve,L.injector);if(R&&function Ma(D){return!!D.resolveComponentFactory}(R)){const Ot=R.resolveComponentFactory(pe);this.activated=L.createComponent(Ot,L.length,dt)}else this.activated=L.createComponent(pe,{index:L.length,injector:dt,environmentInjector:R??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return D.\u0275fac=function(w){return new(w||D)(y.Y36(ki),y.Y36(y.s_b),y.$8M("name"),y.Y36(y.sBO),y.Y36(y.lqb))},D.\u0275dir=y.lG2({type:D,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),D})();class _u{constructor(b,w,R){this.route=b,this.childContexts=w,this.parent=R}get(b,w){return b===no?this.route:b===ki?this.childContexts:this.parent.get(b,w)}}let Er=(()=>{class D{}return D.\u0275fac=function(w){return new(w||D)},D.\u0275cmp=y.Xpm({type:D,selectors:[["ng-component"]],standalone:!0,features:[y.jDz],decls:1,vars:0,template:function(w,R){1&w&&y._UZ(0,"router-outlet")},dependencies:[bo],encapsulation:2}),D})();function Ga(D,b){return D.providers&&!D._injector&&(D._injector=(0,y.MMx)(D.providers,b,`Route: ${D.path}`)),D._injector??b}function Is(D){const b=D.children&&D.children.map(Is),w=b?{...D,children:b}:{...D};return!w.component&&!w.loadComponent&&(b||w.loadChildren)&&w.outlet&&w.outlet!==Nt&&(w.component=Er),w}function _i(D){return D.outlet||Nt}function zi(D,b){const w=D.filter(R=>_i(R)===b);return w.push(...D.filter(R=>_i(R)!==b)),w}function Ns(D){if(!D)return null;if(D.routeConfig?._injector)return D.routeConfig._injector;for(let b=D.parent;b;b=b.parent){const w=b.routeConfig;if(w?._loadedInjector)return w._loadedInjector;if(w?._injector)return w._injector}return null}class An{constructor(b,w,R,L){this.routeReuseStrategy=b,this.futureState=w,this.currState=R,this.forwardEvent=L}activate(b){const w=this.futureState._root,R=this.currState?this.currState._root:null;this.deactivateChildRoutes(w,R,b),ti(this.futureState.root),this.activateChildRoutes(w,R,b)}deactivateChildRoutes(b,w,R){const L=Ni(w);b.children.forEach(q=>{const pe=q.value.outlet;this.deactivateRoutes(q,L[pe],R),delete L[pe]}),Pn(L,(q,pe)=>{this.deactivateRouteAndItsChildren(q,R)})}deactivateRoutes(b,w,R){const L=b.value,q=w?w.value:null;if(L===q)if(L.component){const pe=R.getContext(L.outlet);pe&&this.deactivateChildRoutes(b,w,pe.children)}else this.deactivateChildRoutes(b,w,R);else q&&this.deactivateRouteAndItsChildren(w,R)}deactivateRouteAndItsChildren(b,w){b.value.component&&this.routeReuseStrategy.shouldDetach(b.value.snapshot)?this.detachAndStoreRouteSubtree(b,w):this.deactivateRouteAndOutlet(b,w)}detachAndStoreRouteSubtree(b,w){const R=w.getContext(b.value.outlet),L=R&&b.value.component?R.children:w,q=Ni(b);for(const pe of Object.keys(q))this.deactivateRouteAndItsChildren(q[pe],L);if(R&&R.outlet){const pe=R.outlet.detach(),ve=R.children.onOutletDeactivated();this.routeReuseStrategy.store(b.value.snapshot,{componentRef:pe,route:b,contexts:ve})}}deactivateRouteAndOutlet(b,w){const R=w.getContext(b.value.outlet),L=R&&b.value.component?R.children:w,q=Ni(b);for(const pe of Object.keys(q))this.deactivateRouteAndItsChildren(q[pe],L);R&&R.outlet&&(R.outlet.deactivate(),R.children.onOutletDeactivated(),R.attachRef=null,R.resolver=null,R.route=null)}activateChildRoutes(b,w,R){const L=Ni(w);b.children.forEach(q=>{this.activateRoutes(q,L[q.value.outlet],R),this.forwardEvent(new Ji(q.value.snapshot))}),b.children.length&&this.forwardEvent(new Ci(b.value.snapshot))}activateRoutes(b,w,R){const L=b.value,q=w?w.value:null;if(ti(L),L===q)if(L.component){const pe=R.getOrCreateContext(L.outlet);this.activateChildRoutes(b,w,pe.children)}else this.activateChildRoutes(b,w,R);else if(L.component){const pe=R.getOrCreateContext(L.outlet);if(this.routeReuseStrategy.shouldAttach(L.snapshot)){const ve=this.routeReuseStrategy.retrieve(L.snapshot);this.routeReuseStrategy.store(L.snapshot,null),pe.children.onOutletReAttached(ve.contexts),pe.attachRef=ve.componentRef,pe.route=ve.route.value,pe.outlet&&pe.outlet.attach(ve.componentRef,ve.route.value),ti(ve.route.value),this.activateChildRoutes(b,null,pe.children)}else{const ve=Ns(L.snapshot),dt=ve?.get(y._Vd)??null;pe.attachRef=null,pe.route=L,pe.resolver=dt,pe.injector=ve,pe.outlet&&pe.outlet.activateWith(L,pe.injector),this.activateChildRoutes(b,null,pe.children)}}else this.activateChildRoutes(b,null,R)}}class bs{constructor(b){this.path=b,this.route=this.path[this.path.length-1]}}class Bo{constructor(b,w){this.component=b,this.route=w}}function So(D,b,w){const R=D._root;return Mi(R,b?b._root:null,w,[R.value])}function Fi(D,b){const w=Symbol(),R=b.get(D,w);return R===w?"function"!=typeof D||(0,y.Z0I)(D)?b.get(D):D:R}function Mi(D,b,w,R,L={canDeactivateChecks:[],canActivateChecks:[]}){const q=Ni(b);return D.children.forEach(pe=>{(function la(D,b,w,R,L={canDeactivateChecks:[],canActivateChecks:[]}){const q=D.value,pe=b?b.value:null,ve=w?w.getContext(D.value.outlet):null;if(pe&&q.routeConfig===pe.routeConfig){const dt=function Dr(D,b,w){if("function"==typeof w)return w(D,b);switch(w){case"pathParamsChange":return!tn(D.url,b.url);case"pathParamsOrQueryParamsChange":return!tn(D.url,b.url)||!mn(D.queryParams,b.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!so(D,b)||!mn(D.queryParams,b.queryParams);default:return!so(D,b)}}(pe,q,q.routeConfig.runGuardsAndResolvers);dt?L.canActivateChecks.push(new bs(R)):(q.data=pe.data,q._resolvedData=pe._resolvedData),Mi(D,b,q.component?ve?ve.children:null:w,R,L),dt&&ve&&ve.outlet&&ve.outlet.isActivated&&L.canDeactivateChecks.push(new Bo(ve.outlet.component,pe))}else pe&&Et(b,ve,L),L.canActivateChecks.push(new bs(R)),Mi(D,null,q.component?ve?ve.children:null:w,R,L)})(pe,q[pe.value.outlet],w,R.concat([pe.value]),L),delete q[pe.value.outlet]}),Pn(q,(pe,ve)=>Et(pe,w.getContext(ve),L)),L}function Et(D,b,w){const R=Ni(D),L=D.value;Pn(R,(q,pe)=>{Et(q,L.component?b?b.children.getContext(pe):null:b,w)}),w.canDeactivateChecks.push(new Bo(L.component&&b&&b.outlet&&b.outlet.isActivated?b.outlet.component:null,L))}function Bn(D){return"function"==typeof D}function da(D){return D instanceof ue.K||"EmptyError"===D?.name}const ks=Symbol("INITIAL_VALUE");function Co(){return(0,Ue.w)(D=>(0,fe.a)(D.map(b=>b.pipe((0,Ce.q)(1),(0,Ye.O)(ks)))).pipe((0,ft.U)(b=>{for(const w of b)if(!0!==w){if(w===ks)return ks;if(!1===w||w instanceof ln)return w}return!0}),(0,yt.h)(b=>b!==ks),(0,Ce.q)(1)))}function Oa(D){return(0,De.z)((0,Ie.b)(b=>{if(Me(b))throw Io(0,b)}),(0,ft.U)(b=>!0===b))}const Mo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ss(D,b,w,R,L){const q=Wi(D,b,w);return q.matched?function Ao(D,b,w,R){const L=b.canMatch;if(!L||0===L.length)return(0,B.of)(!0);const q=L.map(pe=>{const ve=Fi(pe,D);return vn(function Ei(D){return D&&Bn(D.canMatch)}(ve)?ve.canMatch(b,w):D.runInContext(()=>ve(b,w)))});return(0,B.of)(q).pipe(Co(),Oa())}(R=Ga(b,R),b,w).pipe((0,ft.U)(pe=>!0===pe?q:{...Mo})):(0,B.of)(q)}function Wi(D,b,w){if(""===b.path)return"full"===b.pathMatch&&(D.hasChildren()||w.length>0)?{...Mo}:{matched:!0,consumedSegments:[],remainingSegments:w,parameters:{},positionalParamSegments:{}};const L=(b.matcher||Mr)(w,D,b);if(!L)return{...Mo};const q={};Pn(L.posParams,(ve,dt)=>{q[dt]=ve.path});const pe=L.consumed.length>0?{...q,...L.consumed[L.consumed.length-1].parameters}:q;return{matched:!0,consumedSegments:L.consumed,remainingSegments:w.slice(L.consumed.length),parameters:pe,positionalParamSegments:L.posParams??{}}}function is(D,b,w,R,L="corrected"){if(w.length>0&&function Fs(D,b,w){return w.some(R=>jo(D,b,R)&&_i(R)!==Nt)}(D,w,R)){const pe=new cn(b,function Ls(D,b,w,R){const L={};L[Nt]=R,R._sourceSegment=D,R._segmentIndexShift=b.length;for(const q of w)if(""===q.path&&_i(q)!==Nt){const pe=new cn([],{});pe._sourceSegment=D,pe._segmentIndexShift=b.length,L[_i(q)]=pe}return L}(D,b,R,new cn(w,D.children)));return pe._sourceSegment=D,pe._segmentIndexShift=b.length,{segmentGroup:pe,slicedSegments:[]}}if(0===w.length&&function gi(D,b,w){return w.some(R=>jo(D,b,R))}(D,w,R)){const pe=new cn(D.segments,function Xo(D,b,w,R,L,q){const pe={};for(const ve of R)if(jo(D,w,ve)&&!L[_i(ve)]){const dt=new cn([],{});dt._sourceSegment=D,dt._segmentIndexShift="legacy"===q?D.segments.length:b.length,pe[_i(ve)]=dt}return{...L,...pe}}(D,b,w,R,D.children,L));return pe._sourceSegment=D,pe._segmentIndexShift=b.length,{segmentGroup:pe,slicedSegments:w}}const q=new cn(D.segments,D.children);return q._sourceSegment=D,q._segmentIndexShift=b.length,{segmentGroup:q,slicedSegments:w}}function jo(D,b,w){return(!(D.hasChildren()||b.length>0)||"full"!==w.pathMatch)&&""===w.path}function M(D,b,w,R){return!!(_i(D)===R||R!==Nt&&jo(b,w,D))&&("**"===D.path||Wi(b,D,w).matched)}function H(D,b,w){return 0===b.length&&!D.children[w]}const N=!1;class Z{constructor(b){this.segmentGroup=b||null}}class Ee{constructor(b){this.urlTree=b}}function ot(D){return(0,X._)(new Z(D))}function ct(D){return(0,X._)(new Ee(D))}class mr{constructor(b,w,R,L,q){this.injector=b,this.configLoader=w,this.urlSerializer=R,this.urlTree=L,this.config=q,this.allowRedirects=!0}apply(){const b=is(this.urlTree.root,[],[],this.config).segmentGroup,w=new cn(b.segments,b.children);return this.expandSegmentGroup(this.injector,this.config,w,Nt).pipe((0,ft.U)(q=>this.createUrlTree(oe(q),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Re.K)(q=>{if(q instanceof Ee)return this.allowRedirects=!1,this.match(q.urlTree);throw q instanceof Z?this.noMatchError(q):q}))}match(b){return this.expandSegmentGroup(this.injector,this.config,b.root,Nt).pipe((0,ft.U)(L=>this.createUrlTree(oe(L),b.queryParams,b.fragment))).pipe((0,Re.K)(L=>{throw L instanceof Z?this.noMatchError(L):L}))}noMatchError(b){return new y.vHH(4002,N)}createUrlTree(b,w,R){const L=de(b);return new ln(L,w,R)}expandSegmentGroup(b,w,R,L){return 0===R.segments.length&&R.hasChildren()?this.expandChildren(b,w,R).pipe((0,ft.U)(q=>new cn([],q))):this.expandSegment(b,R,w,R.segments,L,!0)}expandChildren(b,w,R){const L=[];for(const q of Object.keys(R.children))"primary"===q?L.unshift(q):L.push(q);return(0,E.D)(L).pipe((0,nt.b)(q=>{const pe=R.children[q],ve=zi(w,q);return this.expandSegmentGroup(b,ve,pe,q).pipe((0,ft.U)(dt=>({segment:dt,outlet:q})))}),(0,Xe.R)((q,pe)=>(q[pe.outlet]=pe.segment,q),{}),Wt())}expandSegment(b,w,R,L,q,pe){return(0,E.D)(R).pipe((0,nt.b)(ve=>this.expandSegmentAgainstRoute(b,w,R,ve,L,q,pe).pipe((0,Re.K)(Ot=>{if(Ot instanceof Z)return(0,B.of)(null);throw Ot}))),(0,He.P)(ve=>!!ve),(0,Re.K)((ve,dt)=>{if(da(ve))return H(w,L,q)?(0,B.of)(new cn([],{})):ot(w);throw ve}))}expandSegmentAgainstRoute(b,w,R,L,q,pe,ve){return M(L,w,q,pe)?void 0===L.redirectTo?this.matchSegmentAgainstRoute(b,w,L,q,pe):ve&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(b,w,R,L,q,pe):ot(w):ot(w)}expandSegmentAgainstRouteUsingRedirect(b,w,R,L,q,pe){return"**"===L.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(b,R,L,pe):this.expandRegularSegmentAgainstRouteUsingRedirect(b,w,R,L,q,pe)}expandWildCardWithParamsAgainstRouteUsingRedirect(b,w,R,L){const q=this.applyRedirectCommands([],R.redirectTo,{});return R.redirectTo.startsWith("/")?ct(q):this.lineralizeSegments(R,q).pipe((0,Oe.z)(pe=>{const ve=new cn(pe,{});return this.expandSegment(b,ve,w,pe,L,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(b,w,R,L,q,pe){const{matched:ve,consumedSegments:dt,remainingSegments:Ot,positionalParamSegments:Nn}=Wi(w,L,q);if(!ve)return ot(w);const qt=this.applyRedirectCommands(dt,L.redirectTo,Nn);return L.redirectTo.startsWith("/")?ct(qt):this.lineralizeSegments(L,qt).pipe((0,Oe.z)(Kn=>this.expandSegment(b,w,R,Kn.concat(Ot),pe,!1)))}matchSegmentAgainstRoute(b,w,R,L,q){return"**"===R.path?(b=Ga(R,b),R.loadChildren?(R._loadedRoutes?(0,B.of)({routes:R._loadedRoutes,injector:R._loadedInjector}):this.configLoader.loadChildren(b,R)).pipe((0,ft.U)(ve=>(R._loadedRoutes=ve.routes,R._loadedInjector=ve.injector,new cn(L,{})))):(0,B.of)(new cn(L,{}))):Ss(w,R,L,b).pipe((0,Ue.w)(({matched:pe,consumedSegments:ve,remainingSegments:dt})=>pe?this.getChildConfig(b=R._injector??b,R,L).pipe((0,Oe.z)(Nn=>{const qt=Nn.injector??b,Kn=Nn.routes,{segmentGroup:ei,slicedSegments:Si}=is(w,ve,dt,Kn),as=new cn(ei.segments,ei.children);if(0===Si.length&&as.hasChildren())return this.expandChildren(qt,Kn,as).pipe((0,ft.U)(va=>new cn(ve,va)));if(0===Kn.length&&0===Si.length)return(0,B.of)(new cn(ve,{}));const Zi=_i(R)===q;return this.expandSegment(qt,as,Kn,Si,Zi?Nt:q,!0).pipe((0,ft.U)(us=>new cn(ve.concat(us.segments),us.children)))})):ot(w)))}getChildConfig(b,w,R){return w.children?(0,B.of)({routes:w.children,injector:b}):w.loadChildren?void 0!==w._loadedRoutes?(0,B.of)({routes:w._loadedRoutes,injector:w._loadedInjector}):function Jo(D,b,w,R){const L=b.canLoad;if(void 0===L||0===L.length)return(0,B.of)(!0);const q=L.map(pe=>{const ve=Fi(pe,D);return vn(function Vo(D){return D&&Bn(D.canLoad)}(ve)?ve.canLoad(b,w):D.runInContext(()=>ve(b,w)))});return(0,B.of)(q).pipe(Co(),Oa())}(b,w,R).pipe((0,Oe.z)(L=>L?this.configLoader.loadChildren(b,w).pipe((0,Ie.b)(q=>{w._loadedRoutes=q.routes,w._loadedInjector=q.injector})):function dr(D){return(0,X._)(vu(N,3))}())):(0,B.of)({routes:[],injector:b})}lineralizeSegments(b,w){let R=[],L=w.root;for(;;){if(R=R.concat(L.segments),0===L.numberOfChildren)return(0,B.of)(R);if(L.numberOfChildren>1||!L.children[Nt])return(0,X._)(new y.vHH(4e3,N));L=L.children[Nt]}}applyRedirectCommands(b,w,R){return this.applyRedirectCreateUrlTree(w,this.urlSerializer.parse(w),b,R)}applyRedirectCreateUrlTree(b,w,R,L){const q=this.createSegmentGroup(b,w.root,R,L);return new ln(q,this.createQueryParams(w.queryParams,this.urlTree.queryParams),w.fragment)}createQueryParams(b,w){const R={};return Pn(b,(L,q)=>{if("string"==typeof L&&L.startsWith(":")){const ve=L.substring(1);R[q]=w[ve]}else R[q]=L}),R}createSegmentGroup(b,w,R,L){const q=this.createSegments(b,w.segments,R,L);let pe={};return Pn(w.children,(ve,dt)=>{pe[dt]=this.createSegmentGroup(b,ve,R,L)}),new cn(q,pe)}createSegments(b,w,R,L){return w.map(q=>q.path.startsWith(":")?this.findPosParam(b,q,L):this.findOrReturn(q,R))}findPosParam(b,w,R){const L=R[w.path.substring(1)];if(!L)throw new y.vHH(4001,N);return L}findOrReturn(b,w){let R=0;for(const L of w){if(L.path===b.path)return w.splice(R),L;R++}return b}}class Ir{}class ms{constructor(b,w,R,L,q,pe,ve,dt){this.injector=b,this.rootComponentType=w,this.config=R,this.urlTree=L,this.url=q,this.paramsInheritanceStrategy=pe,this.relativeLinkResolution=ve,this.urlSerializer=dt}recognize(){const b=is(this.urlTree.root,[],[],this.config.filter(w=>void 0===w.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,b,Nt).pipe((0,ft.U)(w=>{if(null===w)return null;const R=new ua([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Nt,this.rootComponentType,null,this.urlTree.root,-1,{}),L=new Ai(R,w),q=new Xi(this.url,L);return this.inheritParamsAndData(q._root),q}))}inheritParamsAndData(b){const w=b.value,R=wo(w,this.paramsInheritanceStrategy);w.params=Object.freeze(R.params),w.data=Object.freeze(R.data),b.children.forEach(L=>this.inheritParamsAndData(L))}processSegmentGroup(b,w,R,L){return 0===R.segments.length&&R.hasChildren()?this.processChildren(b,w,R):this.processSegment(b,w,R,R.segments,L)}processChildren(b,w,R){return(0,E.D)(Object.keys(R.children)).pipe((0,nt.b)(L=>{const q=R.children[L],pe=zi(w,L);return this.processSegmentGroup(b,pe,q,L)}),(0,Xe.R)((L,q)=>L&&q?(L.push(...q),L):null),function Ft(D,b=!1){return(0,Ke.e)((w,R)=>{let L=0;w.subscribe((0,Ze.x)(R,q=>{const pe=D(q,L++);(pe||b)&&R.next(q),!pe&&R.complete()}))})}(L=>null!==L),(0,Be.d)(null),Wt(),(0,ft.U)(L=>{if(null===L)return null;const q=ai(L);return function wr(D){D.sort((b,w)=>b.value.outlet===Nt?-1:w.value.outlet===Nt?1:b.value.outlet.localeCompare(w.value.outlet))}(q),q}))}processSegment(b,w,R,L,q){return(0,E.D)(w).pipe((0,nt.b)(pe=>this.processSegmentAgainstRoute(pe._injector??b,pe,R,L,q)),(0,He.P)(pe=>!!pe),(0,Re.K)(pe=>{if(da(pe))return H(R,L,q)?(0,B.of)([]):(0,B.of)(null);throw pe}))}processSegmentAgainstRoute(b,w,R,L,q){if(w.redirectTo||!M(w,R,L,q))return(0,B.of)(null);let pe;if("**"===w.path){const ve=L.length>0?Jn(L).parameters:{},dt=Vn(R)+L.length,Ot=new ua(L,ve,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Cs(w),_i(w),w.component??w._loadedComponent??null,w,Mt(R),dt,nn(w),dt);pe=(0,B.of)({snapshot:Ot,consumedSegments:[],remainingSegments:[]})}else pe=Ss(R,w,L,b).pipe((0,ft.U)(({matched:ve,consumedSegments:dt,remainingSegments:Ot,parameters:Nn})=>{if(!ve)return null;const qt=Vn(R)+dt.length;return{snapshot:new ua(dt,Nn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Cs(w),_i(w),w.component??w._loadedComponent??null,w,Mt(R),qt,nn(w),qt),consumedSegments:dt,remainingSegments:Ot}}));return pe.pipe((0,Ue.w)(ve=>{if(null===ve)return(0,B.of)(null);const{snapshot:dt,consumedSegments:Ot,remainingSegments:Nn}=ve;b=w._injector??b;const qt=w._loadedInjector??b,Kn=function ss(D){return D.children?D.children:D.loadChildren?D._loadedRoutes:[]}(w),{segmentGroup:ei,slicedSegments:Si}=is(R,Ot,Nn,Kn.filter(Zi=>void 0===Zi.redirectTo),this.relativeLinkResolution);if(0===Si.length&&ei.hasChildren())return this.processChildren(qt,Kn,ei).pipe((0,ft.U)(Zi=>null===Zi?null:[new Ai(dt,Zi)]));if(0===Kn.length&&0===Si.length)return(0,B.of)([new Ai(dt,[])]);const as=_i(w)===q;return this.processSegment(qt,Kn,ei,Si,as?Nt:q).pipe((0,ft.U)(Zi=>null===Zi?null:[new Ai(dt,Zi)]))}))}}function Wr(D){const b=D.value.routeConfig;return b&&""===b.path&&void 0===b.redirectTo}function ai(D){const b=[],w=new Set;for(const R of D){if(!Wr(R)){b.push(R);continue}const L=b.find(q=>R.value.routeConfig===q.value.routeConfig);void 0!==L?(L.children.push(...R.children),w.add(L)):b.push(R)}for(const R of w){const L=ai(R.children);b.push(new Ai(R.value,L))}return b.filter(R=>!w.has(R))}function Mt(D){let b=D;for(;b._sourceSegment;)b=b._sourceSegment;return b}function Vn(D){let b=D,w=b._segmentIndexShift??0;for(;b._sourceSegment;)b=b._sourceSegment,w+=b._segmentIndexShift??0;return w-1}function Cs(D){return D.data||{}}function nn(D){return D.resolve||{}}function Us(D){return"string"==typeof D.title||null===D.title}function Za(D){return(0,Ue.w)(b=>{const w=D(b);return w?(0,E.D)(w).pipe((0,ft.U)(()=>b)):(0,B.of)(b)})}let ui=(()=>{class D{buildTitle(w){let R,L=w.root;for(;void 0!==L;)R=this.getResolvedTitleForRoute(L)??R,L=L.children.find(q=>q.outlet===Nt);return R}getResolvedTitleForRoute(w){return w.data[dn]}}return D.\u0275fac=function(w){return new(w||D)},D.\u0275prov=y.Yz7({token:D,factory:function(){return(0,y.f3M)(lo)},providedIn:"root"}),D})(),lo=(()=>{class D extends ui{constructor(w){super(),this.title=w}updateTitle(w){const R=this.buildTitle(w);void 0!==R&&this.title.setTitle(R)}}return D.\u0275fac=function(w){return new(w||D)(y.LFG(bn.Dx))},D.\u0275prov=y.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();class ea{}class pa extends class fa{shouldDetach(b){return!1}store(b,w){}shouldAttach(b){return!1}retrieve(b){return null}shouldReuseRoute(b,w){return b.routeConfig===w.routeConfig}}{}const br=new y.OlP("",{providedIn:"root",factory:()=>({})}),hn=new y.OlP("ROUTES");let Bs=(()=>{class D{constructor(w,R){this.injector=w,this.compiler=R,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(w){if(this.componentLoaders.get(w))return this.componentLoaders.get(w);if(w._loadedComponent)return(0,B.of)(w._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(w);const R=vn(w.loadComponent()).pipe((0,Ie.b)(q=>{this.onLoadEndListener&&this.onLoadEndListener(w),w._loadedComponent=q}),(0,un.x)(()=>{this.componentLoaders.delete(w)})),L=new $e(R,()=>new it.x).pipe(Ct());return this.componentLoaders.set(w,L),L}loadChildren(w,R){if(this.childrenLoaders.get(R))return this.childrenLoaders.get(R);if(R._loadedRoutes)return(0,B.of)({routes:R._loadedRoutes,injector:R._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(R);const q=this.loadModuleFactoryOrRoutes(R.loadChildren).pipe((0,ft.U)(ve=>{this.onLoadEndListener&&this.onLoadEndListener(R);let dt,Ot,Nn=!1;Array.isArray(ve)?Ot=ve:(dt=ve.create(w).injector,Ot=fr(dt.get(hn,[],y.XFs.Self|y.XFs.Optional)));return{routes:Ot.map(Is),injector:dt}}),(0,un.x)(()=>{this.childrenLoaders.delete(R)})),pe=new $e(q,()=>new it.x).pipe(Ct());return this.childrenLoaders.set(R,pe),pe}loadModuleFactoryOrRoutes(w){return vn(w()).pipe((0,Oe.z)(R=>R instanceof y.YKP||Array.isArray(R)?(0,B.of)(R):(0,E.D)(this.compiler.compileModuleAsync(R))))}}return D.\u0275fac=function(w){return new(w||D)(y.LFG(y.zs3),y.LFG(y.Sil))},D.\u0275prov=y.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();class co{}class Vr{shouldProcessUrl(b){return!0}extract(b){return b}merge(b,w){return b}}function li(D){throw D}function Gn(D,b,w){return b.parse("/")}const ta={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Sr={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Vs(){const D=(0,y.f3M)(pn),b=(0,y.f3M)(ki),w=(0,y.f3M)(Ae.Ye),R=(0,y.f3M)(y.zs3),L=(0,y.f3M)(y.Sil),q=(0,y.f3M)(hn,{optional:!0})??[],pe=(0,y.f3M)(br,{optional:!0})??{},ve=(0,y.f3M)(lo),dt=(0,y.f3M)(ui,{optional:!0}),Ot=(0,y.f3M)(co,{optional:!0}),Nn=(0,y.f3M)(ea,{optional:!0}),qt=new ci(null,D,b,w,R,L,fr(q));return Ot&&(qt.urlHandlingStrategy=Ot),Nn&&(qt.routeReuseStrategy=Nn),qt.titleStrategy=dt??ve,function Vt(D,b){D.errorHandler&&(b.errorHandler=D.errorHandler),D.malformedUriErrorHandler&&(b.malformedUriErrorHandler=D.malformedUriErrorHandler),D.onSameUrlNavigation&&(b.onSameUrlNavigation=D.onSameUrlNavigation),D.paramsInheritanceStrategy&&(b.paramsInheritanceStrategy=D.paramsInheritanceStrategy),D.relativeLinkResolution&&(b.relativeLinkResolution=D.relativeLinkResolution),D.urlUpdateStrategy&&(b.urlUpdateStrategy=D.urlUpdateStrategy),D.canceledNavigationResolution&&(b.canceledNavigationResolution=D.canceledNavigationResolution)}(pe,qt),qt}let ci=(()=>{class D{constructor(w,R,L,q,pe,ve,dt){this.rootComponentType=w,this.urlSerializer=R,this.rootContexts=L,this.location=q,this.config=dt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new it.x,this.errorHandler=li,this.malformedUriErrorHandler=Gn,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,B.of)(void 0),this.urlHandlingStrategy=new Vr,this.routeReuseStrategy=new pa,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=pe.get(Bs),this.configLoader.onLoadEndListener=Kn=>this.triggerEvent(new eu(Kn)),this.configLoader.onLoadStartListener=Kn=>this.triggerEvent(new Js(Kn)),this.ngModule=pe.get(y.h0i),this.console=pe.get(y.c2e);const qt=pe.get(y.R0b);this.isNgZoneEnabled=qt instanceof y.R0b&&y.R0b.isInAngularZone(),this.resetConfig(dt),this.currentUrlTree=function ur(){return new ln(new cn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=za(this.currentUrlTree,this.rootComponentType),this.transitions=new se.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(w){const R=this.events;return w.pipe((0,yt.h)(L=>0!==L.id),(0,ft.U)(L=>({...L,extractedUrl:this.urlHandlingStrategy.extract(L.rawUrl)})),(0,Ue.w)(L=>{let q=!1,pe=!1;return(0,B.of)(L).pipe((0,Ie.b)(ve=>{this.currentNavigation={id:ve.id,initialUrl:ve.rawUrl,extractedUrl:ve.extractedUrl,trigger:ve.source,extras:ve.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Ue.w)(ve=>{const dt=this.browserUrlTree.toString(),Ot=!this.navigated||ve.extractedUrl.toString()!==dt||dt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Ot)&&this.urlHandlingStrategy.shouldProcessUrl(ve.rawUrl))return Na(ve.source)&&(this.browserUrlTree=ve.extractedUrl),(0,B.of)(ve).pipe((0,Ue.w)(qt=>{const Kn=this.transitions.getValue();return R.next(new Ne(qt.id,this.serializeUrl(qt.extractedUrl),qt.source,qt.restoredState)),Kn!==this.transitions.getValue()?be.E:Promise.resolve(qt)}),function sr(D,b,w,R){return(0,Ue.w)(L=>function hr(D,b,w,R,L){return new mr(D,b,w,R,L).apply()}(D,b,w,L.extractedUrl,R).pipe((0,ft.U)(q=>({...L,urlAfterRedirects:q}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Ie.b)(qt=>{this.currentNavigation={...this.currentNavigation,finalUrl:qt.urlAfterRedirects},L.urlAfterRedirects=qt.urlAfterRedirects}),function wn(D,b,w,R,L,q){return(0,Oe.z)(pe=>function Ts(D,b,w,R,L,q,pe="emptyOnly",ve="legacy"){return new ms(D,b,w,R,L,pe,ve,q).recognize().pipe((0,Ue.w)(dt=>null===dt?function Nr(D){return new ae.y(b=>b.error(D))}(new Ir):(0,B.of)(dt)))}(D,b,w,pe.urlAfterRedirects,R.serialize(pe.urlAfterRedirects),R,L,q).pipe((0,ft.U)(ve=>({...pe,targetSnapshot:ve}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Ie.b)(qt=>{if(L.targetSnapshot=qt.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!qt.extras.skipLocationChange){const ei=this.urlHandlingStrategy.merge(qt.urlAfterRedirects,qt.rawUrl);this.setBrowserUrl(ei,qt)}this.browserUrlTree=qt.urlAfterRedirects}const Kn=new jt(qt.id,this.serializeUrl(qt.extractedUrl),this.serializeUrl(qt.urlAfterRedirects),qt.targetSnapshot);R.next(Kn)}));if(Ot&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Kn,extractedUrl:ei,source:Si,restoredState:as,extras:Zi}=ve,Fa=new Ne(Kn,this.serializeUrl(ei),Si,as);R.next(Fa);const us=za(ei,this.rootComponentType).snapshot;return L={...ve,targetSnapshot:us,urlAfterRedirects:ei,extras:{...Zi,skipLocationChange:!1,replaceUrl:!1}},(0,B.of)(L)}return this.rawUrlTree=ve.rawUrl,ve.resolve(null),be.E}),(0,Ie.b)(ve=>{const dt=new kn(ve.id,this.serializeUrl(ve.extractedUrl),this.serializeUrl(ve.urlAfterRedirects),ve.targetSnapshot);this.triggerEvent(dt)}),(0,ft.U)(ve=>L={...ve,guards:So(ve.targetSnapshot,ve.currentSnapshot,this.rootContexts)}),function gs(D,b){return(0,Oe.z)(w=>{const{targetSnapshot:R,currentSnapshot:L,guards:{canActivateChecks:q,canDeactivateChecks:pe}}=w;return 0===pe.length&&0===q.length?(0,B.of)({...w,guardsResult:!0}):function ri(D,b,w,R){return(0,E.D)(D).pipe((0,Oe.z)(L=>function ha(D,b,w,R,L){const q=b&&b.routeConfig?b.routeConfig.canDeactivate:null;if(!q||0===q.length)return(0,B.of)(!0);const pe=q.map(ve=>{const dt=Ns(b)??L,Ot=Fi(ve,dt);return vn(function Qo(D){return D&&Bn(D.canDeactivate)}(Ot)?Ot.canDeactivate(D,b,w,R):dt.runInContext(()=>Ot(D,b,w,R))).pipe((0,He.P)())});return(0,B.of)(pe).pipe(Co())}(L.component,L.route,w,b,R)),(0,He.P)(L=>!0!==L,!0))}(pe,R,L,D).pipe((0,Oe.z)(ve=>ve&&function nu(D){return"boolean"==typeof D}(ve)?function ns(D,b,w,R){return(0,E.D)(b).pipe((0,nt.b)(L=>(0,we.z)(function $o(D,b){return null!==D&&b&&b(new Xs(D)),(0,B.of)(!0)}(L.route.parent,R),function uo(D,b){return null!==D&&b&&b(new eo(D)),(0,B.of)(!0)}(L.route,R),function Ka(D,b,w){const R=b[b.length-1],q=b.slice(0,b.length-1).reverse().map(pe=>function Pa(D){const b=D.routeConfig?D.routeConfig.canActivateChild:null;return b&&0!==b.length?{node:D,guards:b}:null}(pe)).filter(pe=>null!==pe).map(pe=>(0,te.P)(()=>{const ve=pe.guards.map(dt=>{const Ot=Ns(pe.node)??w,Nn=Fi(dt,Ot);return vn(function To(D){return D&&Bn(D.canActivateChild)}(Nn)?Nn.canActivateChild(R,D):Ot.runInContext(()=>Nn(R,D))).pipe((0,He.P)())});return(0,B.of)(ve).pipe(Co())}));return(0,B.of)(q).pipe(Co())}(D,L.path,w),function rs(D,b,w){const R=b.routeConfig?b.routeConfig.canActivate:null;if(!R||0===R.length)return(0,B.of)(!0);const L=R.map(q=>(0,te.P)(()=>{const pe=Ns(b)??w,ve=Fi(q,pe);return vn(function ni(D){return D&&Bn(D.canActivate)}(ve)?ve.canActivate(b,D):pe.runInContext(()=>ve(b,D))).pipe((0,He.P)())}));return(0,B.of)(L).pipe(Co())}(D,L.route,w))),(0,He.P)(L=>!0!==L,!0))}(R,q,D,b):(0,B.of)(ve)),(0,ft.U)(ve=>({...w,guardsResult:ve})))})}(this.ngModule.injector,ve=>this.triggerEvent(ve)),(0,Ie.b)(ve=>{if(L.guardsResult=ve.guardsResult,Me(ve.guardsResult))throw Io(0,ve.guardsResult);const dt=new zr(ve.id,this.serializeUrl(ve.extractedUrl),this.serializeUrl(ve.urlAfterRedirects),ve.targetSnapshot,!!ve.guardsResult);this.triggerEvent(dt)}),(0,yt.h)(ve=>!!ve.guardsResult||(this.restoreHistory(ve),this.cancelNavigationTransition(ve,"",3),!1)),Za(ve=>{if(ve.guards.canActivateChecks.length)return(0,B.of)(ve).pipe((0,Ie.b)(dt=>{const Ot=new ir(dt.id,this.serializeUrl(dt.extractedUrl),this.serializeUrl(dt.urlAfterRedirects),dt.targetSnapshot);this.triggerEvent(Ot)}),(0,Ue.w)(dt=>{let Ot=!1;return(0,B.of)(dt).pipe(function Eu(D,b){return(0,Oe.z)(w=>{const{targetSnapshot:R,guards:{canActivateChecks:L}}=w;if(!L.length)return(0,B.of)(w);let q=0;return(0,E.D)(L).pipe((0,nt.b)(pe=>function Lt(D,b,w,R){const L=D.routeConfig,q=D._resolve;return void 0!==L?.title&&!Us(L)&&(q[dn]=L.title),function lt(D,b,w,R){const L=function At(D){return[...Object.keys(D),...Object.getOwnPropertySymbols(D)]}(D);if(0===L.length)return(0,B.of)({});const q={};return(0,E.D)(L).pipe((0,Oe.z)(pe=>function Jr(D,b,w,R){const L=Ns(b)??R,q=Fi(D,L);return vn(q.resolve?q.resolve(b,w):L.runInContext(()=>q(b,w)))}(D[pe],b,w,R).pipe((0,He.P)(),(0,Ie.b)(ve=>{q[pe]=ve}))),ce(1),(0,mt.h)(q),(0,Re.K)(pe=>da(pe)?be.E:(0,X._)(pe)))}(q,D,b,R).pipe((0,ft.U)(pe=>(D._resolvedData=pe,D.data=wo(D,w).resolve,L&&Us(L)&&(D.data[dn]=L.title),null)))}(pe.route,R,D,b)),(0,Ie.b)(()=>q++),ce(1),(0,Oe.z)(pe=>q===L.length?(0,B.of)(w):be.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Ie.b)({next:()=>Ot=!0,complete:()=>{Ot||(this.restoreHistory(dt),this.cancelNavigationTransition(dt,"",2))}}))}),(0,Ie.b)(dt=>{const Ot=new Or(dt.id,this.serializeUrl(dt.extractedUrl),this.serializeUrl(dt.urlAfterRedirects),dt.targetSnapshot);this.triggerEvent(Ot)}))}),Za(ve=>{const dt=Ot=>{const Nn=[];Ot.routeConfig?.loadComponent&&!Ot.routeConfig._loadedComponent&&Nn.push(this.configLoader.loadComponent(Ot.routeConfig).pipe((0,Ie.b)(qt=>{Ot.component=qt}),(0,ft.U)(()=>{})));for(const qt of Ot.children)Nn.push(...dt(qt));return Nn};return(0,fe.a)(dt(ve.targetSnapshot.root)).pipe((0,Be.d)(),(0,Ce.q)(1))}),Za(()=>this.afterPreactivation()),(0,ft.U)(ve=>{const dt=function gr(D,b,w){const R=oo(D,b._root,w?w._root:void 0);return new to(R,b)}(this.routeReuseStrategy,ve.targetSnapshot,ve.currentRouterState);return L={...ve,targetRouterState:dt}}),(0,Ie.b)(ve=>{this.currentUrlTree=ve.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(ve.urlAfterRedirects,ve.rawUrl),this.routerState=ve.targetRouterState,"deferred"===this.urlUpdateStrategy&&(ve.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,ve),this.browserUrlTree=ve.urlAfterRedirects)}),((D,b,w)=>(0,ft.U)(R=>(new An(b,R.targetRouterState,R.currentRouterState,w).activate(D),R)))(this.rootContexts,this.routeReuseStrategy,ve=>this.triggerEvent(ve)),(0,Ie.b)({next(){q=!0},complete(){q=!0}}),(0,un.x)(()=>{q||pe||this.cancelNavigationTransition(L,"",1),this.currentNavigation?.id===L.id&&(this.currentNavigation=null)}),(0,Re.K)(ve=>{if(pe=!0,Os(ve)){es(ve)||(this.navigated=!0,this.restoreHistory(L,!0));const dt=new pt(L.id,this.serializeUrl(L.extractedUrl),ve.message,ve.cancellationCode);if(R.next(dt),es(ve)){const Ot=this.urlHandlingStrategy.merge(ve.url,this.rawUrlTree),Nn={skipLocationChange:L.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Na(L.source)};this.scheduleNavigation(Ot,"imperative",null,Nn,{resolve:L.resolve,reject:L.reject,promise:L.promise})}else L.resolve(!1)}else{this.restoreHistory(L,!0);const dt=new bt(L.id,this.serializeUrl(L.extractedUrl),ve,L.targetSnapshot??void 0);R.next(dt);try{L.resolve(this.errorHandler(ve))}catch(Ot){L.reject(Ot)}}return be.E}))}))}resetRootComponentType(w){this.rootComponentType=w,this.routerState.root.component=this.rootComponentType}setTransition(w){this.transitions.next({...this.transitions.value,...w})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(w=>{const R="popstate"===w.type?"popstate":"hashchange";"popstate"===R&&setTimeout(()=>{const L={replaceUrl:!0},q=w.state?.navigationId?w.state:null;if(q){const ve={...q};delete ve.navigationId,delete ve.\u0275routerPageId,0!==Object.keys(ve).length&&(L.state=ve)}const pe=this.parseUrl(w.url);this.scheduleNavigation(pe,R,q,L)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(w){this.events.next(w)}resetConfig(w){this.config=w.map(Is),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(w,R={}){const{relativeTo:L,queryParams:q,fragment:pe,queryParamsHandling:ve,preserveFragment:dt}=R,Ot=L||this.routerState.root,Nn=dt?this.currentUrlTree.fragment:pe;let qt=null;switch(ve){case"merge":qt={...this.currentUrlTree.queryParams,...q};break;case"preserve":qt=this.currentUrlTree.queryParams;break;default:qt=q||null}return null!==qt&&(qt=this.removeEmptyProps(qt)),$r(Ot,this.currentUrlTree,w,qt,Nn??null)}navigateByUrl(w,R={skipLocationChange:!1}){const L=Me(w)?w:this.parseUrl(w),q=this.urlHandlingStrategy.merge(L,this.rawUrlTree);return this.scheduleNavigation(q,"imperative",null,R)}navigate(w,R={skipLocationChange:!1}){return function ho(D){for(let b=0;b<D.length;b++){if(null==D[b])throw new y.vHH(4008,false)}}(w),this.navigateByUrl(this.createUrlTree(w,R),R)}serializeUrl(w){return this.urlSerializer.serialize(w)}parseUrl(w){let R;try{R=this.urlSerializer.parse(w)}catch(L){R=this.malformedUriErrorHandler(L,this.urlSerializer,w)}return R}isActive(w,R){let L;if(L=!0===R?{...ta}:!1===R?{...Sr}:R,Me(w))return _r(this.currentUrlTree,w,L);const q=this.parseUrl(w);return _r(this.currentUrlTree,q,L)}removeEmptyProps(w){return Object.keys(w).reduce((R,L)=>{const q=w[L];return null!=q&&(R[L]=q),R},{})}processNavigations(){this.navigations.subscribe(w=>{this.navigated=!0,this.lastSuccessfulId=w.id,this.currentPageId=w.targetPageId,this.events.next(new Ge(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),w.resolve(!0)},w=>{this.console.warn(`Unhandled Navigation Error: ${w}`)})}scheduleNavigation(w,R,L,q,pe){if(this.disposed)return Promise.resolve(!1);let ve,dt,Ot;pe?(ve=pe.resolve,dt=pe.reject,Ot=pe.promise):Ot=new Promise((Kn,ei)=>{ve=Kn,dt=ei});const Nn=++this.navigationId;let qt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(L=this.location.getState()),qt=L&&L.\u0275routerPageId?L.\u0275routerPageId:q.replaceUrl||q.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):qt=0,this.setTransition({id:Nn,targetPageId:qt,source:R,restoredState:L,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:w,extras:q,resolve:ve,reject:dt,promise:Ot,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ot.catch(Kn=>Promise.reject(Kn))}setBrowserUrl(w,R){const L=this.urlSerializer.serialize(w),q={...R.extras.state,...this.generateNgRouterState(R.id,R.targetPageId)};this.location.isCurrentPathEqualTo(L)||R.extras.replaceUrl?this.location.replaceState(L,"",q):this.location.go(L,"",q)}restoreHistory(w,R=!1){if("computed"===this.canceledNavigationResolution){const L=this.currentPageId-w.targetPageId;"popstate"!==w.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===L?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===L&&(this.resetState(w),this.browserUrlTree=w.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(L)}else"replace"===this.canceledNavigationResolution&&(R&&this.resetState(w),this.resetUrlToCurrentUrlTree())}resetState(w){this.routerState=w.currentRouterState,this.currentUrlTree=w.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,w.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(w,R,L){const q=new pt(w.id,this.serializeUrl(w.extractedUrl),R,L);this.triggerEvent(q),w.resolve(!1)}generateNgRouterState(w,R){return"computed"===this.canceledNavigationResolution?{navigationId:w,\u0275routerPageId:R}:{navigationId:w}}}return D.\u0275fac=function(w){y.$Z()},D.\u0275prov=y.Yz7({token:D,factory:function(){return Vs()},providedIn:"root"}),D})();function Na(D){return"imperative"!==D}let Ii=(()=>{class D{constructor(w,R,L,q,pe){this.router=w,this.route=R,this.tabIndexAttribute=L,this.renderer=q,this.el=pe,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new it.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(w){this._preserveFragment=(0,y.D6c)(w)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(w){this._skipLocationChange=(0,y.D6c)(w)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(w){this._replaceUrl=(0,y.D6c)(w)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(w){if(null!=this.tabIndexAttribute)return;const R=this.renderer,L=this.el.nativeElement;null!==w?R.setAttribute(L,"tabindex",w):R.removeAttribute(L,"tabindex")}ngOnChanges(w){this.onChanges.next(this)}set routerLink(w){null!=w?(this.commands=Array.isArray(w)?w:[w],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return D.\u0275fac=function(w){return new(w||D)(y.Y36(ci),y.Y36(no),y.$8M("tabindex"),y.Y36(y.Qsj),y.Y36(y.SBq))},D.\u0275dir=y.lG2({type:D,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(w,R){1&w&&y.NdJ("click",function(){return R.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[y.TTD]}),D})(),qa=(()=>{class D{constructor(w,R,L){this.router=w,this.route=R,this.locationStrategy=L,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new it.x,this.subscription=w.events.subscribe(q=>{q instanceof Ge&&this.updateTargetUrlAndHref()})}set preserveFragment(w){this._preserveFragment=(0,y.D6c)(w)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(w){this._skipLocationChange=(0,y.D6c)(w)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(w){this._replaceUrl=(0,y.D6c)(w)}get replaceUrl(){return this._replaceUrl}set routerLink(w){this.commands=null!=w?Array.isArray(w)?w:[w]:null}ngOnChanges(w){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(w,R,L,q,pe){return!!(0!==w||R||L||q||pe||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return D.\u0275fac=function(w){return new(w||D)(y.Y36(ci),y.Y36(no),y.Y36(Ae.S$))},D.\u0275dir=y.lG2({type:D,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(w,R){1&w&&y.NdJ("click",function(q){return R.onClick(q.button,q.ctrlKey,q.shiftKey,q.altKey,q.metaKey)}),2&w&&y.uIk("target",R.target)("href",R.href,y.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[y.TTD]}),D})();class As{}let Ho=(()=>{class D{constructor(w,R,L,q,pe){this.router=w,this.injector=L,this.preloadingStrategy=q,this.loader=pe}setUpPreloading(){this.subscription=this.router.events.pipe((0,yt.h)(w=>w instanceof Ge),(0,nt.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(w,R){const L=[];for(const q of R){q.providers&&!q._injector&&(q._injector=(0,y.MMx)(q.providers,w,`Route: ${q.path}`));const pe=q._injector??w,ve=q._loadedInjector??pe;q.loadChildren&&!q._loadedRoutes&&void 0===q.canLoad||q.loadComponent&&!q._loadedComponent?L.push(this.preloadConfig(pe,q)):(q.children||q._loadedRoutes)&&L.push(this.processRoutes(ve,q.children??q._loadedRoutes))}return(0,E.D)(L).pipe((0,En.J)())}preloadConfig(w,R){return this.preloadingStrategy.preload(R,()=>{let L;L=R.loadChildren&&void 0===R.canLoad?this.loader.loadChildren(w,R):(0,B.of)(null);const q=L.pipe((0,Oe.z)(pe=>null===pe?(0,B.of)(void 0):(R._loadedRoutes=pe.routes,R._loadedInjector=pe.injector,this.processRoutes(pe.injector??w,pe.routes))));if(R.loadComponent&&!R._loadedComponent){const pe=this.loader.loadComponent(R);return(0,E.D)([q,pe]).pipe((0,En.J)())}return q})}}return D.\u0275fac=function(w){return new(w||D)(y.LFG(ci),y.LFG(y.Sil),y.LFG(y.lqb),y.LFG(As),y.LFG(Bs))},D.\u0275prov=y.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();const Ya=new y.OlP("");let os=(()=>{class D{constructor(w,R,L={}){this.router=w,this.viewportScroller=R,this.options=L,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},L.scrollPositionRestoration=L.scrollPositionRestoration||"disabled",L.anchorScrolling=L.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(w=>{w instanceof Ne?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=w.navigationTrigger,this.restoredId=w.restoredState?w.restoredState.navigationId:0):w instanceof Ge&&(this.lastId=w.id,this.scheduleScrollEvent(w,this.router.parseUrl(w.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(w=>{w instanceof tu&&(w.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(w.position):w.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(w.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(w,R){this.router.triggerEvent(new tu(w,"popstate"===this.lastSource?this.store[this.restoredId]:null,R))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return D.\u0275fac=function(w){y.$Z()},D.\u0275prov=y.Yz7({token:D,factory:D.\u0275fac}),D})();function Xr(D,b){return{\u0275kind:D,\u0275providers:b}}function zo(D){return[{provide:hn,multi:!0,useValue:D}]}function Gi(){const D=(0,y.f3M)(y.zs3);return b=>{const w=D.get(y.z2F);if(b!==w.components[0])return;const R=D.get(ci),L=D.get(bi);1===D.get(_s)&&R.initialNavigation(),D.get(Qu,null,y.XFs.Optional)?.setUpPreloading(),D.get(Ya,null,y.XFs.Optional)?.init(),R.resetRootComponentType(w.componentTypes[0]),L.next(),L.complete()}}const bi=new y.OlP("",{factory:()=>new it.x}),_s=new y.OlP("",{providedIn:"root",factory:()=>1});const Qu=new y.OlP("");function Es(D){return Xr(0,[{provide:Qu,useExisting:Ho},{provide:As,useExisting:D}])}const kr=new y.OlP("ROUTER_FORROOT_GUARD"),La=[Ae.Ye,{provide:pn,useClass:tr},{provide:ci,useFactory:Vs},ki,{provide:no,useFactory:function $s(D){return D.routerState.root},deps:[ci]},Bs];function xi(){return new y.PXZ("Router",ci)}let xn=(()=>{class D{constructor(w){}static forRoot(w,R){return{ngModule:D,providers:[La,[],zo(w),{provide:kr,useFactory:Fu,deps:[[ci,new y.FiY,new y.tp0]]},{provide:br,useValue:R||{}},R?.useHash?{provide:Ae.S$,useClass:Ae.Do}:{provide:Ae.S$,useClass:Ae.b0},{provide:Ya,useFactory:()=>{const D=(0,y.f3M)(ci),b=(0,y.f3M)(Ae.EM),w=(0,y.f3M)(br);return w.scrollOffset&&b.setOffset(w.scrollOffset),new os(D,b,w)}},R?.preloadingStrategy?Es(R.preloadingStrategy).\u0275providers:[],{provide:y.PXZ,multi:!0,useFactory:xi},R?.initialNavigation?cr(R):[],[{provide:Po,useFactory:Gi},{provide:y.tb,multi:!0,useExisting:Po}]]}}static forChild(w){return{ngModule:D,providers:[zo(w)]}}}return D.\u0275fac=function(w){return new(w||D)(y.LFG(kr,8))},D.\u0275mod=y.oAB({type:D}),D.\u0275inj=y.cJS({imports:[Er]}),D})();function Fu(D){return"guarded"}function cr(D){return["disabled"===D.initialNavigation?Xr(3,[{provide:y.ip1,multi:!0,useFactory:()=>{const b=(0,y.f3M)(ci);return()=>{b.setUpLocationChangeListener()}}},{provide:_s,useValue:2}]).\u0275providers:[],"enabledBlocking"===D.initialNavigation?Xr(2,[{provide:_s,useValue:0},{provide:y.ip1,multi:!0,deps:[y.zs3],useFactory:b=>{const w=b.get(Ae.V_,Promise.resolve());let R=!1;return()=>w.then(()=>new Promise(q=>{const pe=b.get(ci),ve=b.get(bi);(function L(q){b.get(ci).events.pipe((0,yt.h)(ve=>ve instanceof Ge||ve instanceof pt||ve instanceof bt),(0,ft.U)(ve=>ve instanceof Ge||ve instanceof pt&&(0===ve.code||1===ve.code)&&null),(0,yt.h)(ve=>null!==ve),(0,Ce.q)(1)).subscribe(()=>{q()})})(()=>{q(!0),R=!0}),pe.afterPreactivation=()=>(q(!0),R||ve.closed?(0,B.of)(void 0):ve),pe.initialNavigation()}))}}]).\u0275providers:[]]}const Po=new y.OlP("")},3942:(Pt,Le,k)=>{k.d(Le,{Z:()=>Ze});var y=k(2090),E=k(4859),B=k(9681),se=k(1877);class ue{constructor($e,it){this._delegate=$e,this.firebase=it,(0,B._addComponent)($e,new E.wA("app-compat",()=>this,"PUBLIC")),this.container=$e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled($e){this._delegate.automaticDataCollectionEnabled=$e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise($e=>{this._delegate.checkDestroyed(),$e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,B.deleteApp)(this._delegate)))}_getService($e,it=B._DEFAULT_ENTRY_NAME){var Ae;this._delegate.checkDestroyed();const ft=this._delegate.container.getProvider($e);return!ft.isInitialized()&&"EXPLICIT"===(null===(Ae=ft.getComponent())||void 0===Ae?void 0:Ae.instantiationMode)&&ft.initialize(),ft.getImmediate({identifier:it})}_removeServiceInstance($e,it=B._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider($e).clearInstance(it)}_addComponent($e){(0,B._addComponent)(this._delegate,$e)}_addOrOverwriteComponent($e){(0,B._addOrOverwriteComponent)(this._delegate,$e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const we=new y.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),X=function De(){const Ct=function te(Ct){const $e={},it={__esModule:!0,initializeApp:function Ue(Oe,He={}){const nt=B.initializeApp(Oe,He);if((0,y.r3)($e,nt.name))return $e[nt.name];const Ie=new Ct(nt,it);return $e[nt.name]=Ie,Ie},app:ft,registerVersion:B.registerVersion,setLogLevel:B.setLogLevel,onLog:B.onLog,apps:null,SDK_VERSION:B.SDK_VERSION,INTERNAL:{registerComponent:function Ye(Oe){const He=Oe.name,nt=He.replace("-compat","");if(B._registerComponent(Oe)&&"PUBLIC"===Oe.type){const Ie=(Re=ft())=>{if("function"!=typeof Re[nt])throw we.create("invalid-app-argument",{appName:He});return Re[nt]()};void 0!==Oe.serviceProps&&(0,y.ZB)(Ie,Oe.serviceProps),it[nt]=Ie,Ct.prototype[nt]=function(...Re){return this._getService.bind(this,He).apply(this,Oe.multipleInstances?Re:[])}}return"PUBLIC"===Oe.type?it[nt]:null},removeApp:function Ae(Oe){delete $e[Oe]},useAsService:function yt(Oe,He){return"serverAuth"===He?null:He},modularAPIs:B}};function ft(Oe){if(!(0,y.r3)($e,Oe=Oe||B._DEFAULT_ENTRY_NAME))throw we.create("no-app",{appName:Oe});return $e[Oe]}return it.default=it,Object.defineProperty(it,"apps",{get:function Ce(){return Object.keys($e).map(Oe=>$e[Oe])}}),ft.App=Ct,it}(ue);return Ct.INTERNAL=Object.assign(Object.assign({},Ct.INTERNAL),{createFirebaseNamespace:De,extendNamespace:function $e(it){(0,y.ZB)(Ct,it)},createSubscribe:y.ne,ErrorFactory:y.LL,deepExtend:y.ZB}),Ct}(),ae=new se.Yd("@firebase/app-compat");if((0,y.jU)()&&void 0!==self.firebase){ae.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ct=self.firebase.SDK_VERSION;Ct&&Ct.indexOf("LITE")>=0&&ae.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ze=X;!function Ke(Ct){(0,B.registerVersion)("@firebase/app-compat","0.1.37",Ct)}()},9681:(Pt,Le,k)=>{k.r(Le),k.d(Le,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>fr,_DEFAULT_ENTRY_NAME:()=>Ft,_addComponent:()=>bn,_addOrOverwriteComponent:()=>Nt,_apps:()=>un,_clearComponents:()=>Mr,_components:()=>En,_getProvider:()=>en,_registerComponent:()=>dn,_removeServiceInstance:()=>yr,deleteApp:()=>vn,getApp:()=>Mn,getApps:()=>Pn,initializeApp:()=>Jn,onLog:()=>vr,registerVersion:()=>ur,setLogLevel:()=>er});var y=k(5861),E=k(4859),B=k(1877),se=k(2090),ue=k(8766);class fe{constructor(j){this.container=j}getPlatformInfoString(){return this.container.getProviders().map(re=>{if(function we(We){return"VERSION"===We.getComponent()?.type}(re)){const ke=re.getImmediate();return`${ke.library}/${ke.version}`}return null}).filter(re=>re).join(" ")}}const te="@firebase/app",X=new B.Yd("@firebase/app"),Ft="[DEFAULT]",mt={[te]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},un=new Map,En=new Map;function bn(We,j){try{We.container.addComponent(j)}catch(re){X.debug(`Component ${j.name} failed to register with FirebaseApp ${We.name}`,re)}}function Nt(We,j){We.container.addOrOverwriteComponent(j)}function dn(We){const j=We.name;if(En.has(j))return X.debug(`There were multiple attempts to register component ${j}.`),!1;En.set(j,We);for(const re of un.values())bn(re,We);return!0}function en(We,j){const re=We.container.getProvider("heartbeat").getImmediate({optional:!0});return re&&re.triggerHeartbeat(),We.container.getProvider(j)}function yr(We,j,re=Ft){en(We,j).clearInstance(re)}function Mr(){En.clear()}const mn=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class xr{constructor(j,re,ke){this._isDeleted=!1,this._options=Object.assign({},j),this._config=Object.assign({},re),this._name=re.name,this._automaticDataCollectionEnabled=re.automaticDataCollectionEnabled,this._container=ke,this.container.addComponent(new E.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(j){this.checkDestroyed(),this._automaticDataCollectionEnabled=j}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(j){this._isDeleted=j}checkDestroyed(){if(this.isDeleted)throw mn.create("app-deleted",{appName:this._name})}}const fr="9.12.1";function Jn(We,j={}){let re=We;"object"!=typeof j&&(j={name:j});const ke=Object.assign({name:Ft,automaticDataCollectionEnabled:!1},j),st=ke.name;if("string"!=typeof st||!st)throw mn.create("bad-app-name",{appName:String(st)});if(re||(re=(0,se.aH)()),!re)throw mn.create("no-options");const Zt=un.get(st);if(Zt){if((0,se.vZ)(re,Zt.options)&&(0,se.vZ)(ke,Zt.config))return Zt;throw mn.create("duplicate-app",{appName:st})}const _e=new E.H0(st);for(const xe of En.values())_e.addComponent(xe);const ye=new xr(re,ke,_e);return un.set(st,ye),ye}function Mn(We=Ft){const j=un.get(We);if(!j&&We===Ft)return Jn();if(!j)throw mn.create("no-app",{appName:We});return j}function Pn(){return Array.from(un.values())}function vn(We){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,y.Z)(function*(We){const j=We.name;un.has(j)&&(un.delete(j),yield Promise.all(We.container.getProviders().map(re=>re.delete())),We.isDeleted=!0)})).apply(this,arguments)}function ur(We,j,re){var ke;let st=null!==(ke=mt[We])&&void 0!==ke?ke:We;re&&(st+=`-${re}`);const Zt=st.match(/\s|\//),_e=j.match(/\s|\//);if(Zt||_e){const ye=[`Unable to register library "${st}" with version "${j}":`];return Zt&&ye.push(`library name "${st}" contains illegal characters (whitespace or "/")`),Zt&&_e&&ye.push("and"),_e&&ye.push(`version name "${j}" contains illegal characters (whitespace or "/")`),void X.warn(ye.join(" "))}dn(new E.wA(`${st}-version`,()=>({library:st,version:j}),"VERSION"))}function vr(We,j){if(null!==We&&"function"!=typeof We)throw mn.create("invalid-log-argument");(0,B.Am)(We,j)}function er(We){(0,B.Ub)(We)}const Xn="firebase-heartbeat-store";let rr=null;function Un(){return rr||(rr=(0,ue.X3)("firebase-heartbeat-database",1,{upgrade:(We,j)=>{0===j&&We.createObjectStore(Xn)}}).catch(We=>{throw mn.create("idb-open",{originalErrorMessage:We.message})})),rr}function Yt(){return(Yt=(0,y.Z)(function*(We){var j;try{return(yield Un()).transaction(Xn).objectStore(Xn).get($n(We))}catch(re){if(re instanceof se.ZR)X.warn(re.message);else{const ke=mn.create("idb-get",{originalErrorMessage:null===(j=re)||void 0===j?void 0:j.message});X.warn(ke.message)}}})).apply(this,arguments)}function ln(We,j){return cn.apply(this,arguments)}function cn(){return(cn=(0,y.Z)(function*(We,j){var re;try{const st=(yield Un()).transaction(Xn,"readwrite");return yield st.objectStore(Xn).put(j,$n(We)),st.done}catch(ke){if(ke instanceof se.ZR)X.warn(ke.message);else{const st=mn.create("idb-set",{originalErrorMessage:null===(re=ke)||void 0===re?void 0:re.message});X.warn(st.message)}}})).apply(this,arguments)}function $n(We){return`${We.name}!${We.options.appId}`}class Pr{constructor(j){this.container=j,this._heartbeatsCache=null;const re=this.container.getProvider("app").getImmediate();this._storage=new gn(re),this._heartbeatsCachePromise=this._storage.read().then(ke=>(this._heartbeatsCache=ke,ke))}triggerHeartbeat(){var j=this;return(0,y.Z)(function*(){const ke=j.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),st=pn();if(null===j._heartbeatsCache&&(j._heartbeatsCache=yield j._heartbeatsCachePromise),j._heartbeatsCache.lastSentHeartbeatDate!==st&&!j._heartbeatsCache.heartbeats.some(Zt=>Zt.date===st))return j._heartbeatsCache.heartbeats.push({date:st,agent:ke}),j._heartbeatsCache.heartbeats=j._heartbeatsCache.heartbeats.filter(Zt=>{const _e=new Date(Zt.date).valueOf();return Date.now()-_e<=2592e6}),j._storage.overwrite(j._heartbeatsCache)})()}getHeartbeatsHeader(){var j=this;return(0,y.Z)(function*(){if(null===j._heartbeatsCache&&(yield j._heartbeatsCachePromise),null===j._heartbeatsCache||0===j._heartbeatsCache.heartbeats.length)return"";const re=pn(),{heartbeatsToSend:ke,unsentEntries:st}=function tr(We,j=1024){const re=[];let ke=We.slice();for(const st of We){const Zt=re.find(_e=>_e.agent===st.agent);if(Zt){if(Zt.dates.push(st.date),or(re)>j){Zt.dates.pop();break}}else if(re.push({agent:st.agent,dates:[st.date]}),or(re)>j){re.pop();break}ke=ke.slice(1)}return{heartbeatsToSend:re,unsentEntries:ke}}(j._heartbeatsCache.heartbeats),Zt=(0,se.L)(JSON.stringify({version:2,heartbeats:ke}));return j._heartbeatsCache.lastSentHeartbeatDate=re,st.length>0?(j._heartbeatsCache.heartbeats=st,yield j._storage.overwrite(j._heartbeatsCache)):(j._heartbeatsCache.heartbeats=[],j._storage.overwrite(j._heartbeatsCache)),Zt})()}}function pn(){return(new Date).toISOString().substring(0,10)}class gn{constructor(j){this.app=j,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,y.Z)(function*(){return!!(0,se.hl)()&&(0,se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var j=this;return(0,y.Z)(function*(){return(yield j._canUseIndexedDBPromise)&&(yield function Gt(We){return Yt.apply(this,arguments)}(j.app))||{heartbeats:[]}})()}overwrite(j){var re=this;return(0,y.Z)(function*(){var ke;if(yield re._canUseIndexedDBPromise){const Zt=yield re.read();return ln(re.app,{lastSentHeartbeatDate:null!==(ke=j.lastSentHeartbeatDate)&&void 0!==ke?ke:Zt.lastSentHeartbeatDate,heartbeats:j.heartbeats})}})()}add(j){var re=this;return(0,y.Z)(function*(){var ke;if(yield re._canUseIndexedDBPromise){const Zt=yield re.read();return ln(re.app,{lastSentHeartbeatDate:null!==(ke=j.lastSentHeartbeatDate)&&void 0!==ke?ke:Zt.lastSentHeartbeatDate,heartbeats:[...Zt.heartbeats,...j.heartbeats]})}})()}}function or(We){return(0,se.L)(JSON.stringify({version:2,heartbeats:We})).length}!function nr(We){dn(new E.wA("platform-logger",j=>new fe(j),"PRIVATE")),dn(new E.wA("heartbeat",j=>new Pr(j),"PRIVATE")),ur(te,"0.8.2",We),ur(te,"0.8.2","esm2017"),ur("fire-js","")}("")},4859:(Pt,Le,k)=>{k.d(Le,{H0:()=>te,wA:()=>B});var y=k(5861),E=k(2090);class B{constructor(X,ae,be){this.name=X,this.instanceFactory=ae,this.type=be,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(X){return this.instantiationMode=X,this}setMultipleInstances(X){return this.multipleInstances=X,this}setServiceProps(X){return this.serviceProps=X,this}setInstanceCreatedCallback(X){return this.onInstanceCreated=X,this}}const se="[DEFAULT]";class ue{constructor(X,ae){this.name=X,this.container=ae,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(X){const ae=this.normalizeInstanceIdentifier(X);if(!this.instancesDeferred.has(ae)){const be=new E.BH;if(this.instancesDeferred.set(ae,be),this.isInitialized(ae)||this.shouldAutoInitialize())try{const Je=this.getOrInitializeService({instanceIdentifier:ae});Je&&be.resolve(Je)}catch{}}return this.instancesDeferred.get(ae).promise}getImmediate(X){var ae;const be=this.normalizeInstanceIdentifier(X?.identifier),Je=null!==(ae=X?.optional)&&void 0!==ae&&ae;if(!this.isInitialized(be)&&!this.shouldAutoInitialize()){if(Je)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:be})}catch(Ke){if(Je)return null;throw Ke}}getComponent(){return this.component}setComponent(X){if(X.name!==this.name)throw Error(`Mismatching Component ${X.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=X,this.shouldAutoInitialize()){if(function we(De){return"EAGER"===De.instantiationMode}(X))try{this.getOrInitializeService({instanceIdentifier:se})}catch{}for(const[ae,be]of this.instancesDeferred.entries()){const Je=this.normalizeInstanceIdentifier(ae);try{const Ke=this.getOrInitializeService({instanceIdentifier:Je});be.resolve(Ke)}catch{}}}}clearInstance(X=se){this.instancesDeferred.delete(X),this.instancesOptions.delete(X),this.instances.delete(X)}delete(){var X=this;return(0,y.Z)(function*(){const ae=Array.from(X.instances.values());yield Promise.all([...ae.filter(be=>"INTERNAL"in be).map(be=>be.INTERNAL.delete()),...ae.filter(be=>"_delete"in be).map(be=>be._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(X=se){return this.instances.has(X)}getOptions(X=se){return this.instancesOptions.get(X)||{}}initialize(X={}){const{options:ae={}}=X,be=this.normalizeInstanceIdentifier(X.instanceIdentifier);if(this.isInitialized(be))throw Error(`${this.name}(${be}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Je=this.getOrInitializeService({instanceIdentifier:be,options:ae});for(const[Ke,Ze]of this.instancesDeferred.entries())be===this.normalizeInstanceIdentifier(Ke)&&Ze.resolve(Je);return Je}onInit(X,ae){var be;const Je=this.normalizeInstanceIdentifier(ae),Ke=null!==(be=this.onInitCallbacks.get(Je))&&void 0!==be?be:new Set;Ke.add(X),this.onInitCallbacks.set(Je,Ke);const Ze=this.instances.get(Je);return Ze&&X(Ze,Je),()=>{Ke.delete(X)}}invokeOnInitCallbacks(X,ae){const be=this.onInitCallbacks.get(ae);if(be)for(const Je of be)try{Je(X,ae)}catch{}}getOrInitializeService({instanceIdentifier:X,options:ae={}}){let be=this.instances.get(X);if(!be&&this.component&&(be=this.component.instanceFactory(this.container,{instanceIdentifier:(De=X,De===se?void 0:De),options:ae}),this.instances.set(X,be),this.instancesOptions.set(X,ae),this.invokeOnInitCallbacks(be,X),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,X,be)}catch{}var De;return be||null}normalizeInstanceIdentifier(X=se){return this.component?this.component.multipleInstances?X:se:X}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class te{constructor(X){this.name=X,this.providers=new Map}addComponent(X){const ae=this.getProvider(X.name);if(ae.isComponentSet())throw new Error(`Component ${X.name} has already been registered with ${this.name}`);ae.setComponent(X)}addOrOverwriteComponent(X){this.getProvider(X.name).isComponentSet()&&this.providers.delete(X.name),this.addComponent(X)}getProvider(X){if(this.providers.has(X))return this.providers.get(X);const ae=new ue(X,this);return this.providers.set(X,ae),ae}getProviders(){return Array.from(this.providers.values())}}},1877:(Pt,Le,k)=>{k.d(Le,{Am:()=>De,Ub:()=>te,Yd:()=>we,in:()=>E});const y=[];var E=(()=>{return(X=E||(E={}))[X.DEBUG=0]="DEBUG",X[X.VERBOSE=1]="VERBOSE",X[X.INFO=2]="INFO",X[X.WARN=3]="WARN",X[X.ERROR=4]="ERROR",X[X.SILENT=5]="SILENT",E;var X})();const B={debug:E.DEBUG,verbose:E.VERBOSE,info:E.INFO,warn:E.WARN,error:E.ERROR,silent:E.SILENT},se=E.INFO,ue={[E.DEBUG]:"log",[E.VERBOSE]:"log",[E.INFO]:"info",[E.WARN]:"warn",[E.ERROR]:"error"},fe=(X,ae,...be)=>{if(ae<X.logLevel)return;const Je=(new Date).toISOString(),Ke=ue[ae];if(!Ke)throw new Error(`Attempted to log a message with an invalid logType (value: ${ae})`);console[Ke](`[${Je}]  ${X.name}:`,...be)};class we{constructor(ae){this.name=ae,this._logLevel=se,this._logHandler=fe,this._userLogHandler=null,y.push(this)}get logLevel(){return this._logLevel}set logLevel(ae){if(!(ae in E))throw new TypeError(`Invalid value "${ae}" assigned to \`logLevel\``);this._logLevel=ae}setLogLevel(ae){this._logLevel="string"==typeof ae?B[ae]:ae}get logHandler(){return this._logHandler}set logHandler(ae){if("function"!=typeof ae)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ae}get userLogHandler(){return this._userLogHandler}set userLogHandler(ae){this._userLogHandler=ae}debug(...ae){this._userLogHandler&&this._userLogHandler(this,E.DEBUG,...ae),this._logHandler(this,E.DEBUG,...ae)}log(...ae){this._userLogHandler&&this._userLogHandler(this,E.VERBOSE,...ae),this._logHandler(this,E.VERBOSE,...ae)}info(...ae){this._userLogHandler&&this._userLogHandler(this,E.INFO,...ae),this._logHandler(this,E.INFO,...ae)}warn(...ae){this._userLogHandler&&this._userLogHandler(this,E.WARN,...ae),this._logHandler(this,E.WARN,...ae)}error(...ae){this._userLogHandler&&this._userLogHandler(this,E.ERROR,...ae),this._logHandler(this,E.ERROR,...ae)}}function te(X){y.forEach(ae=>{ae.setLogLevel(X)})}function De(X,ae){for(const be of y){let Je=null;ae&&ae.level&&(Je=B[ae.level]),be.userLogHandler=null===X?null:(Ke,Ze,...Ct)=>{const $e=Ct.map(it=>{if(null==it)return null;if("string"==typeof it)return it;if("number"==typeof it||"boolean"==typeof it)return it.toString();if(it instanceof Error)return it.message;try{return JSON.stringify(it)}catch{return null}}).filter(it=>it).join(" ");Ze>=(Je??Ke.logLevel)&&X({level:E[Ze].toLowerCase(),message:$e,args:Ct,type:Ke.name})}}}},8766:(Pt,Le,k)=>{k.d(Le,{Lj:()=>Ue,X3:()=>ft});var y=k(5861);let B,se;const we=new WeakMap,te=new WeakMap,De=new WeakMap,X=new WeakMap,ae=new WeakMap;let Ke={get(He,nt,Ie){if(He instanceof IDBTransaction){if("done"===nt)return te.get(He);if("objectStoreNames"===nt)return He.objectStoreNames||De.get(He);if("store"===nt)return Ie.objectStoreNames[1]?void 0:Ie.objectStore(Ie.objectStoreNames[0])}return it(He[nt])},set:(He,nt,Ie)=>(He[nt]=Ie,!0),has:(He,nt)=>He instanceof IDBTransaction&&("done"===nt||"store"===nt)||nt in He};function $e(He){return"function"==typeof He?function Ct(He){return He!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function fe(){return se||(se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(He)?function(...nt){return He.apply(Ae(this),nt),it(we.get(this))}:function(...nt){return it(He.apply(Ae(this),nt))}:function(nt,...Ie){const Re=He.call(Ae(this),nt,...Ie);return De.set(Re,nt.sort?nt.sort():[nt]),it(Re)}}(He):(He instanceof IDBTransaction&&function Je(He){if(te.has(He))return;const nt=new Promise((Ie,Re)=>{const Xe=()=>{He.removeEventListener("complete",ce),He.removeEventListener("error",at),He.removeEventListener("abort",at)},ce=()=>{Ie(),Xe()},at=()=>{Re(He.error||new DOMException("AbortError","AbortError")),Xe()};He.addEventListener("complete",ce),He.addEventListener("error",at),He.addEventListener("abort",at)});te.set(He,nt)}(He),((He,nt)=>nt.some(Ie=>He instanceof Ie))(He,function ue(){return B||(B=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(He,Ke):He)}function it(He){if(He instanceof IDBRequest)return function be(He){const nt=new Promise((Ie,Re)=>{const Xe=()=>{He.removeEventListener("success",ce),He.removeEventListener("error",at)},ce=()=>{Ie(it(He.result)),Xe()},at=()=>{Re(He.error),Xe()};He.addEventListener("success",ce),He.addEventListener("error",at)});return nt.then(Ie=>{Ie instanceof IDBCursor&&we.set(Ie,He)}).catch(()=>{}),ae.set(nt,He),nt}(He);if(X.has(He))return X.get(He);const nt=$e(He);return nt!==He&&(X.set(He,nt),ae.set(nt,He)),nt}const Ae=He=>ae.get(He);function ft(He,nt,{blocked:Ie,upgrade:Re,blocking:Xe,terminated:ce}={}){const at=indexedDB.open(He,nt),Be=it(at);return Re&&at.addEventListener("upgradeneeded",It=>{Re(it(at.result),It.oldVersion,It.newVersion,it(at.transaction))}),Ie&&at.addEventListener("blocked",()=>Ie()),Be.then(It=>{ce&&It.addEventListener("close",()=>ce()),Xe&&It.addEventListener("versionchange",()=>Xe())}).catch(()=>{}),Be}function Ue(He,{blocked:nt}={}){const Ie=indexedDB.deleteDatabase(He);return nt&&Ie.addEventListener("blocked",()=>nt()),it(Ie).then(()=>{})}const Ce=["get","getKey","getAll","getAllKeys","count"],Ye=["put","add","delete","clear"],yt=new Map;function Oe(He,nt){if(!(He instanceof IDBDatabase)||nt in He||"string"!=typeof nt)return;if(yt.get(nt))return yt.get(nt);const Ie=nt.replace(/FromIndex$/,""),Re=nt!==Ie,Xe=Ye.includes(Ie);if(!(Ie in(Re?IDBIndex:IDBObjectStore).prototype)||!Xe&&!Ce.includes(Ie))return;const ce=function(){var at=(0,y.Z)(function*(Be,...It){const Wt=this.transaction(Be,Xe?"readwrite":"readonly");let Ft=Wt.store;return Re&&(Ft=Ft.index(It.shift())),(yield Promise.all([Ft[Ie](...It),Xe&&Wt.done]))[0]});return function(It){return at.apply(this,arguments)}}();return yt.set(nt,ce),ce}!function Ze(He){Ke=He(Ke)}(He=>({...He,get:(nt,Ie,Re)=>Oe(nt,Ie)||He.get(nt,Ie,Re),has:(nt,Ie)=>!!Oe(nt,Ie)||He.has(nt,Ie)}))},5861:(Pt,Le,k)=>{function y(B,se,ue,fe,we,te,De){try{var X=B[te](De),ae=X.value}catch(be){return void ue(be)}X.done?se(ae):Promise.resolve(ae).then(fe,we)}function E(B){return function(){var se=this,ue=arguments;return new Promise(function(fe,we){var te=B.apply(se,ue);function De(ae){y(te,fe,we,De,X,"next",ae)}function X(ae){y(te,fe,we,De,X,"throw",ae)}De(void 0)})}}k.d(Le,{Z:()=>E})}},Pt=>{Pt(Pt.s=5738)}]);